(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Iv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Dp={exports:{}},Qa={},Ip={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ws=Symbol.for("react.element"),Av=Symbol.for("react.portal"),$v=Symbol.for("react.fragment"),Mv=Symbol.for("react.strict_mode"),zv=Symbol.for("react.profiler"),Fv=Symbol.for("react.provider"),Bv=Symbol.for("react.context"),Uv=Symbol.for("react.forward_ref"),Vv=Symbol.for("react.suspense"),Hv=Symbol.for("react.memo"),Kv=Symbol.for("react.lazy"),Oh=Symbol.iterator;function qv(e){return e===null||typeof e!="object"?null:(e=Oh&&e[Oh]||e["@@iterator"],typeof e=="function"?e:null)}var Ap={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$p=Object.assign,Mp={};function _i(e,t,n){this.props=e,this.context=t,this.refs=Mp,this.updater=n||Ap}_i.prototype.isReactComponent={};_i.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zp(){}zp.prototype=_i.prototype;function td(e,t,n){this.props=e,this.context=t,this.refs=Mp,this.updater=n||Ap}var nd=td.prototype=new zp;nd.constructor=td;$p(nd,_i.prototype);nd.isPureReactComponent=!0;var Nh=Array.isArray,Fp=Object.prototype.hasOwnProperty,rd={current:null},Bp={key:!0,ref:!0,__self:!0,__source:!0};function Up(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Fp.call(t,r)&&!Bp.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ws,type:e,key:s,ref:o,props:i,_owner:rd.current}}function Wv(e,t){return{$$typeof:Ws,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function id(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ws}function Gv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Rh=/\/+/g;function Nl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Gv(""+e.key):t.toString(36)}function Bo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ws:case Av:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Nl(o,0):r,Nh(i)?(n="",e!=null&&(n=e.replace(Rh,"$&/")+"/"),Bo(i,t,n,"",function(u){return u})):i!=null&&(id(i)&&(i=Wv(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Rh,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Nh(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Nl(s,a);o+=Bo(s,t,n,l,i)}else if(l=qv(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Nl(s,a++),o+=Bo(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function uo(e,t,n){if(e==null)return e;var r=[],i=0;return Bo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Qv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},Uo={transition:null},Jv={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:Uo,ReactCurrentOwner:rd};function Vp(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:uo,forEach:function(e,t,n){uo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return uo(e,function(){t++}),t},toArray:function(e){return uo(e,function(t){return t})||[]},only:function(e){if(!id(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=_i;H.Fragment=$v;H.Profiler=zv;H.PureComponent=td;H.StrictMode=Mv;H.Suspense=Vv;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jv;H.act=Vp;H.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=$p({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=rd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Fp.call(t,l)&&!Bp.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ws,type:e.type,key:i,ref:s,props:r,_owner:o}};H.createContext=function(e){return e={$$typeof:Bv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fv,_context:e},e.Consumer=e};H.createElement=Up;H.createFactory=function(e){var t=Up.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:Uv,render:e}};H.isValidElement=id;H.lazy=function(e){return{$$typeof:Kv,_payload:{_status:-1,_result:e},_init:Qv}};H.memo=function(e,t){return{$$typeof:Hv,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=Uo.transition;Uo.transition={};try{e()}finally{Uo.transition=t}};H.unstable_act=Vp;H.useCallback=function(e,t){return Ue.current.useCallback(e,t)};H.useContext=function(e){return Ue.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};H.useEffect=function(e,t){return Ue.current.useEffect(e,t)};H.useId=function(){return Ue.current.useId()};H.useImperativeHandle=function(e,t,n){return Ue.current.useImperativeHandle(e,t,n)};H.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Ue.current.useMemo(e,t)};H.useReducer=function(e,t,n){return Ue.current.useReducer(e,t,n)};H.useRef=function(e){return Ue.current.useRef(e)};H.useState=function(e){return Ue.current.useState(e)};H.useSyncExternalStore=function(e,t,n){return Ue.current.useSyncExternalStore(e,t,n)};H.useTransition=function(){return Ue.current.useTransition()};H.version="18.3.1";Ip.exports=H;var k=Ip.exports;const B=Dv(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv=k,Xv=Symbol.for("react.element"),Zv=Symbol.for("react.fragment"),ey=Object.prototype.hasOwnProperty,ty=Yv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ny={key:!0,ref:!0,__self:!0,__source:!0};function Hp(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ey.call(t,r)&&!ny.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Xv,type:e,key:s,ref:o,props:i,_owner:ty.current}}Qa.Fragment=Zv;Qa.jsx=Hp;Qa.jsxs=Hp;Dp.exports=Qa;var _=Dp.exports,ku={},Kp={exports:{}},ct={},qp={exports:{}},Wp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,D){var z=O.length;O.push(D);e:for(;0<z;){var ne=z-1>>>1,W=O[ne];if(0<i(W,D))O[ne]=D,O[z]=W,z=ne;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var D=O[0],z=O.pop();if(z!==D){O[0]=z;e:for(var ne=0,W=O.length,He=W>>>1;ne<He;){var $e=2*(ne+1)-1,Vt=O[$e],ge=$e+1,Ht=O[ge];if(0>i(Vt,z))ge<W&&0>i(Ht,Vt)?(O[ne]=Ht,O[ge]=z,ne=ge):(O[ne]=Vt,O[$e]=z,ne=$e);else if(ge<W&&0>i(Ht,z))O[ne]=Ht,O[ge]=z,ne=ge;else break e}}return D}function i(O,D){var z=O.sortIndex-D.sortIndex;return z!==0?z:O.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,v=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=O)r(u),D.sortIndex=D.expirationTime,t(l,D);else break;D=n(u)}}function x(O){if(m=!1,y(O),!v)if(n(l)!==null)v=!0,Q(b);else{var D=n(u);D!==null&&U(x,D.startTime-O)}}function b(O,D){v=!1,m&&(m=!1,p(j),j=-1),f=!0;var z=h;try{for(y(D),d=n(l);d!==null&&(!(d.expirationTime>D)||O&&!N());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,h=d.priorityLevel;var W=ne(d.expirationTime<=D);D=e.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),y(D)}else r(l);d=n(l)}if(d!==null)var He=!0;else{var $e=n(u);$e!==null&&U(x,$e.startTime-D),He=!1}return He}finally{d=null,h=z,f=!1}}var S=!1,C=null,j=-1,E=5,P=-1;function N(){return!(e.unstable_now()-P<E)}function $(){if(C!==null){var O=e.unstable_now();P=O;var D=!0;try{D=C(!0,O)}finally{D?M():(S=!1,C=null)}}else S=!1}var M;if(typeof g=="function")M=function(){g($)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,J=I.port2;I.port1.onmessage=$,M=function(){J.postMessage(null)}}else M=function(){w($,0)};function Q(O){C=O,S||(S=!0,M())}function U(O,D){j=w(function(){O(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){v||f||(v=!0,Q(b))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var z=h;h=D;try{return O()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,D){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var z=h;h=O;try{return D()}finally{h=z}},e.unstable_scheduleCallback=function(O,D,z){var ne=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ne+z:ne):z=ne,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=z+W,O={id:c++,callback:D,priorityLevel:O,startTime:z,expirationTime:W,sortIndex:-1},z>ne?(O.sortIndex=z,t(u,O),n(l)===null&&O===n(u)&&(m?(p(j),j=-1):m=!0,U(x,z-ne))):(O.sortIndex=W,t(l,O),v||f||(v=!0,Q(b))),O},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(O){var D=h;return function(){var z=h;h=D;try{return O.apply(this,arguments)}finally{h=z}}}})(Wp);qp.exports=Wp;var ry=qp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy=k,lt=ry;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gp=new Set,ys={};function kr(e,t){di(e,t),di(e+"Capture",t)}function di(e,t){for(ys[e]=t,e=0;e<t.length;e++)Gp.add(t[e])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Su=Object.prototype.hasOwnProperty,sy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lh={},Dh={};function oy(e){return Su.call(Dh,e)?!0:Su.call(Lh,e)?!1:sy.test(e)?Dh[e]=!0:(Lh[e]=!0,!1)}function ay(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ly(e,t,n,r){if(t===null||typeof t>"u"||ay(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ve(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new Ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pe[t]=new Ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new Ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new Ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new Ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new Ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new Ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new Ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new Ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var sd=/[\-:]([a-z])/g;function od(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sd,od);Pe[t]=new Ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sd,od);Pe[t]=new Ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sd,od);Pe[t]=new Ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new Ve(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new Ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function ad(e,t,n,r){var i=Pe.hasOwnProperty(t)?Pe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ly(t,n,i,r)&&(n=null),r||i===null?oy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var fn=iy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,co=Symbol.for("react.element"),Br=Symbol.for("react.portal"),Ur=Symbol.for("react.fragment"),ld=Symbol.for("react.strict_mode"),Cu=Symbol.for("react.profiler"),Qp=Symbol.for("react.provider"),Jp=Symbol.for("react.context"),ud=Symbol.for("react.forward_ref"),Eu=Symbol.for("react.suspense"),ju=Symbol.for("react.suspense_list"),cd=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),Yp=Symbol.for("react.offscreen"),Ih=Symbol.iterator;function Ii(e){return e===null||typeof e!="object"?null:(e=Ih&&e[Ih]||e["@@iterator"],typeof e=="function"?e:null)}var he=Object.assign,Rl;function Ki(e){if(Rl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Rl=t&&t[1]||""}return`
`+Rl+e}var Ll=!1;function Dl(e,t){if(!e||Ll)return"";Ll=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ll=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ki(e):""}function uy(e){switch(e.tag){case 5:return Ki(e.type);case 16:return Ki("Lazy");case 13:return Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 2:case 15:return e=Dl(e.type,!1),e;case 11:return e=Dl(e.type.render,!1),e;case 1:return e=Dl(e.type,!0),e;default:return""}}function Tu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ur:return"Fragment";case Br:return"Portal";case Cu:return"Profiler";case ld:return"StrictMode";case Eu:return"Suspense";case ju:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Jp:return(e.displayName||"Context")+".Consumer";case Qp:return(e._context.displayName||"Context")+".Provider";case ud:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cd:return t=e.displayName||null,t!==null?t:Tu(e.type)||"Memo";case Sn:t=e._payload,e=e._init;try{return Tu(e(t))}catch{}}return null}function cy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tu(t);case 8:return t===ld?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dy(e){var t=Xp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ho(e){e._valueTracker||(e._valueTracker=dy(e))}function Zp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Xp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ua(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pu(e,t){var n=t.checked;return he({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ah(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Hn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function eg(e,t){t=t.checked,t!=null&&ad(e,"checked",t,!1)}function Ou(e,t){eg(e,t);var n=Hn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Nu(e,t.type,Hn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $h(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Nu(e,t,n){(t!=="number"||ua(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qi=Array.isArray;function ei(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Hn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ru(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return he({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(qi(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Hn(n)}}function tg(e,t){var n=Hn(t.value),r=Hn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function zh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ng(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ng(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fo,rg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fo=fo||document.createElement("div"),fo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ws(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hy=["Webkit","ms","Moz","O"];Object.keys(Xi).forEach(function(e){hy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xi[t]=Xi[e]})});function ig(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xi.hasOwnProperty(e)&&Xi[e]?(""+t).trim():t+"px"}function sg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ig(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var fy=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Du(e,t){if(t){if(fy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Iu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=null;function dd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $u=null,ti=null,ni=null;function Fh(e){if(e=Js(e)){if(typeof $u!="function")throw Error(T(280));var t=e.stateNode;t&&(t=el(t),$u(e.stateNode,e.type,t))}}function og(e){ti?ni?ni.push(e):ni=[e]:ti=e}function ag(){if(ti){var e=ti,t=ni;if(ni=ti=null,Fh(e),t)for(e=0;e<t.length;e++)Fh(t[e])}}function lg(e,t){return e(t)}function ug(){}var Il=!1;function cg(e,t,n){if(Il)return e(t,n);Il=!0;try{return lg(e,t,n)}finally{Il=!1,(ti!==null||ni!==null)&&(ug(),ag())}}function _s(e,t){var n=e.stateNode;if(n===null)return null;var r=el(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var Mu=!1;if(ln)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){Mu=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{Mu=!1}function py(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Zi=!1,ca=null,da=!1,zu=null,gy={onError:function(e){Zi=!0,ca=e}};function my(e,t,n,r,i,s,o,a,l){Zi=!1,ca=null,py.apply(gy,arguments)}function vy(e,t,n,r,i,s,o,a,l){if(my.apply(this,arguments),Zi){if(Zi){var u=ca;Zi=!1,ca=null}else throw Error(T(198));da||(da=!0,zu=u)}}function Sr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function dg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bh(e){if(Sr(e)!==e)throw Error(T(188))}function yy(e){var t=e.alternate;if(!t){if(t=Sr(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Bh(i),e;if(s===r)return Bh(i),t;s=s.sibling}throw Error(T(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function hg(e){return e=yy(e),e!==null?fg(e):null}function fg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fg(e);if(t!==null)return t;e=e.sibling}return null}var pg=lt.unstable_scheduleCallback,Uh=lt.unstable_cancelCallback,wy=lt.unstable_shouldYield,_y=lt.unstable_requestPaint,pe=lt.unstable_now,xy=lt.unstable_getCurrentPriorityLevel,hd=lt.unstable_ImmediatePriority,gg=lt.unstable_UserBlockingPriority,ha=lt.unstable_NormalPriority,by=lt.unstable_LowPriority,mg=lt.unstable_IdlePriority,Ja=null,zt=null;function ky(e){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Ja,e,void 0,(e.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:Ey,Sy=Math.log,Cy=Math.LN2;function Ey(e){return e>>>=0,e===0?32:31-(Sy(e)/Cy|0)|0}var po=64,go=4194304;function Wi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Wi(a):(s&=o,s!==0&&(r=Wi(s)))}else o=n&~i,o!==0?r=Wi(o):s!==0&&(r=Wi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Et(t),i=1<<n,r|=e[n],t&=~i;return r}function jy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ty(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Et(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=jy(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Fu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vg(){var e=po;return po<<=1,!(po&4194240)&&(po=64),e}function Al(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Et(t),e[t]=n}function Py(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Et(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function fd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Et(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Y=0;function yg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wg,pd,_g,xg,bg,Bu=!1,mo=[],An=null,$n=null,Mn=null,xs=new Map,bs=new Map,Pn=[],Oy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vh(e,t){switch(e){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":xs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(t.pointerId)}}function $i(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Js(t),t!==null&&pd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ny(e,t,n,r,i){switch(t){case"focusin":return An=$i(An,e,t,n,r,i),!0;case"dragenter":return $n=$i($n,e,t,n,r,i),!0;case"mouseover":return Mn=$i(Mn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return xs.set(s,$i(xs.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,bs.set(s,$i(bs.get(s)||null,e,t,n,r,i)),!0}return!1}function kg(e){var t=sr(e.target);if(t!==null){var n=Sr(t);if(n!==null){if(t=n.tag,t===13){if(t=dg(n),t!==null){e.blockedOn=t,bg(e.priority,function(){_g(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Uu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Au=r,n.target.dispatchEvent(r),Au=null}else return t=Js(n),t!==null&&pd(t),e.blockedOn=n,!1;t.shift()}return!0}function Hh(e,t,n){Vo(e)&&n.delete(t)}function Ry(){Bu=!1,An!==null&&Vo(An)&&(An=null),$n!==null&&Vo($n)&&($n=null),Mn!==null&&Vo(Mn)&&(Mn=null),xs.forEach(Hh),bs.forEach(Hh)}function Mi(e,t){e.blockedOn===t&&(e.blockedOn=null,Bu||(Bu=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,Ry)))}function ks(e){function t(i){return Mi(i,e)}if(0<mo.length){Mi(mo[0],e);for(var n=1;n<mo.length;n++){var r=mo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(An!==null&&Mi(An,e),$n!==null&&Mi($n,e),Mn!==null&&Mi(Mn,e),xs.forEach(t),bs.forEach(t),n=0;n<Pn.length;n++)r=Pn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Pn.length&&(n=Pn[0],n.blockedOn===null);)kg(n),n.blockedOn===null&&Pn.shift()}var ri=fn.ReactCurrentBatchConfig,pa=!0;function Ly(e,t,n,r){var i=Y,s=ri.transition;ri.transition=null;try{Y=1,gd(e,t,n,r)}finally{Y=i,ri.transition=s}}function Dy(e,t,n,r){var i=Y,s=ri.transition;ri.transition=null;try{Y=4,gd(e,t,n,r)}finally{Y=i,ri.transition=s}}function gd(e,t,n,r){if(pa){var i=Uu(e,t,n,r);if(i===null)ql(e,t,r,ga,n),Vh(e,r);else if(Ny(i,e,t,n,r))r.stopPropagation();else if(Vh(e,r),t&4&&-1<Oy.indexOf(e)){for(;i!==null;){var s=Js(i);if(s!==null&&wg(s),s=Uu(e,t,n,r),s===null&&ql(e,t,r,ga,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ql(e,t,r,null,n)}}var ga=null;function Uu(e,t,n,r){if(ga=null,e=dd(r),e=sr(e),e!==null)if(t=Sr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=dg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ga=e,null}function Sg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xy()){case hd:return 1;case gg:return 4;case ha:case by:return 16;case mg:return 536870912;default:return 16}default:return 16}}var Ln=null,md=null,Ho=null;function Cg(){if(Ho)return Ho;var e,t=md,n=t.length,r,i="value"in Ln?Ln.value:Ln.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ho=i.slice(e,1<r?1-r:void 0)}function Ko(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vo(){return!0}function Kh(){return!1}function dt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vo:Kh,this.isPropagationStopped=Kh,this}return he(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),t}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vd=dt(xi),Qs=he({},xi,{view:0,detail:0}),Iy=dt(Qs),$l,Ml,zi,Ya=he({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zi&&(zi&&e.type==="mousemove"?($l=e.screenX-zi.screenX,Ml=e.screenY-zi.screenY):Ml=$l=0,zi=e),$l)},movementY:function(e){return"movementY"in e?e.movementY:Ml}}),qh=dt(Ya),Ay=he({},Ya,{dataTransfer:0}),$y=dt(Ay),My=he({},Qs,{relatedTarget:0}),zl=dt(My),zy=he({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Fy=dt(zy),By=he({},xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Uy=dt(By),Vy=he({},xi,{data:0}),Wh=dt(Vy),Hy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ky={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qy[e])?!!t[e]:!1}function yd(){return Wy}var Gy=he({},Qs,{key:function(e){if(e.key){var t=Hy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ko(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ky[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yd,charCode:function(e){return e.type==="keypress"?Ko(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ko(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qy=dt(Gy),Jy=he({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gh=dt(Jy),Yy=he({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yd}),Xy=dt(Yy),Zy=he({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),e1=dt(Zy),t1=he({},Ya,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),n1=dt(t1),r1=[9,13,27,32],wd=ln&&"CompositionEvent"in window,es=null;ln&&"documentMode"in document&&(es=document.documentMode);var i1=ln&&"TextEvent"in window&&!es,Eg=ln&&(!wd||es&&8<es&&11>=es),Qh=" ",Jh=!1;function jg(e,t){switch(e){case"keyup":return r1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function s1(e,t){switch(e){case"compositionend":return Tg(t);case"keypress":return t.which!==32?null:(Jh=!0,Qh);case"textInput":return e=t.data,e===Qh&&Jh?null:e;default:return null}}function o1(e,t){if(Vr)return e==="compositionend"||!wd&&jg(e,t)?(e=Cg(),Ho=md=Ln=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Eg&&t.locale!=="ko"?null:t.data;default:return null}}var a1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!a1[e.type]:t==="textarea"}function Pg(e,t,n,r){og(r),t=ma(t,"onChange"),0<t.length&&(n=new vd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ts=null,Ss=null;function l1(e){Fg(e,0)}function Xa(e){var t=qr(e);if(Zp(t))return e}function u1(e,t){if(e==="change")return t}var Og=!1;if(ln){var Fl;if(ln){var Bl="oninput"in document;if(!Bl){var Xh=document.createElement("div");Xh.setAttribute("oninput","return;"),Bl=typeof Xh.oninput=="function"}Fl=Bl}else Fl=!1;Og=Fl&&(!document.documentMode||9<document.documentMode)}function Zh(){ts&&(ts.detachEvent("onpropertychange",Ng),Ss=ts=null)}function Ng(e){if(e.propertyName==="value"&&Xa(Ss)){var t=[];Pg(t,Ss,e,dd(e)),cg(l1,t)}}function c1(e,t,n){e==="focusin"?(Zh(),ts=t,Ss=n,ts.attachEvent("onpropertychange",Ng)):e==="focusout"&&Zh()}function d1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xa(Ss)}function h1(e,t){if(e==="click")return Xa(t)}function f1(e,t){if(e==="input"||e==="change")return Xa(t)}function p1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:p1;function Cs(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Su.call(t,i)||!Pt(e[i],t[i]))return!1}return!0}function ef(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tf(e,t){var n=ef(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ef(n)}}function Rg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lg(){for(var e=window,t=ua();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ua(e.document)}return t}function _d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function g1(e){var t=Lg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Rg(n.ownerDocument.documentElement,n)){if(r!==null&&_d(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=tf(n,s);var o=tf(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var m1=ln&&"documentMode"in document&&11>=document.documentMode,Hr=null,Vu=null,ns=null,Hu=!1;function nf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hu||Hr==null||Hr!==ua(r)||(r=Hr,"selectionStart"in r&&_d(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ns&&Cs(ns,r)||(ns=r,r=ma(Vu,"onSelect"),0<r.length&&(t=new vd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hr)))}function yo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kr={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionend:yo("Transition","TransitionEnd")},Ul={},Dg={};ln&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function Za(e){if(Ul[e])return Ul[e];if(!Kr[e])return e;var t=Kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Dg)return Ul[e]=t[n];return e}var Ig=Za("animationend"),Ag=Za("animationiteration"),$g=Za("animationstart"),Mg=Za("transitionend"),zg=new Map,rf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(e,t){zg.set(e,t),kr(t,[e])}for(var Vl=0;Vl<rf.length;Vl++){var Hl=rf[Vl],v1=Hl.toLowerCase(),y1=Hl[0].toUpperCase()+Hl.slice(1);Qn(v1,"on"+y1)}Qn(Ig,"onAnimationEnd");Qn(Ag,"onAnimationIteration");Qn($g,"onAnimationStart");Qn("dblclick","onDoubleClick");Qn("focusin","onFocus");Qn("focusout","onBlur");Qn(Mg,"onTransitionEnd");di("onMouseEnter",["mouseout","mouseover"]);di("onMouseLeave",["mouseout","mouseover"]);di("onPointerEnter",["pointerout","pointerover"]);di("onPointerLeave",["pointerout","pointerover"]);kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gi));function sf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,vy(r,t,void 0,e),e.currentTarget=null}function Fg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;sf(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;sf(i,a,u),s=l}}}if(da)throw e=zu,da=!1,zu=null,e}function se(e,t){var n=t[Qu];n===void 0&&(n=t[Qu]=new Set);var r=e+"__bubble";n.has(r)||(Bg(t,e,2,!1),n.add(r))}function Kl(e,t,n){var r=0;t&&(r|=4),Bg(n,e,r,t)}var wo="_reactListening"+Math.random().toString(36).slice(2);function Es(e){if(!e[wo]){e[wo]=!0,Gp.forEach(function(n){n!=="selectionchange"&&(w1.has(n)||Kl(n,!1,e),Kl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wo]||(t[wo]=!0,Kl("selectionchange",!1,t))}}function Bg(e,t,n,r){switch(Sg(t)){case 1:var i=Ly;break;case 4:i=Dy;break;default:i=gd}n=i.bind(null,t,n,e),i=void 0,!Mu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ql(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=sr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}cg(function(){var u=s,c=dd(n),d=[];e:{var h=zg.get(e);if(h!==void 0){var f=vd,v=e;switch(e){case"keypress":if(Ko(n)===0)break e;case"keydown":case"keyup":f=Qy;break;case"focusin":v="focus",f=zl;break;case"focusout":v="blur",f=zl;break;case"beforeblur":case"afterblur":f=zl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=$y;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Xy;break;case Ig:case Ag:case $g:f=Fy;break;case Mg:f=e1;break;case"scroll":f=Iy;break;case"wheel":f=n1;break;case"copy":case"cut":case"paste":f=Uy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Gh}var m=(t&4)!==0,w=!m&&e==="scroll",p=m?h!==null?h+"Capture":null:h;m=[];for(var g=u,y;g!==null;){y=g;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,p!==null&&(x=_s(g,p),x!=null&&m.push(js(g,x,y)))),w)break;g=g.return}0<m.length&&(h=new f(h,v,null,n,c),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==Au&&(v=n.relatedTarget||n.fromElement)&&(sr(v)||v[un]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(v=n.relatedTarget||n.toElement,f=u,v=v?sr(v):null,v!==null&&(w=Sr(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=u),f!==v)){if(m=qh,x="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=Gh,x="onPointerLeave",p="onPointerEnter",g="pointer"),w=f==null?h:qr(f),y=v==null?h:qr(v),h=new m(x,g+"leave",f,n,c),h.target=w,h.relatedTarget=y,x=null,sr(c)===u&&(m=new m(p,g+"enter",v,n,c),m.target=y,m.relatedTarget=w,x=m),w=x,f&&v)t:{for(m=f,p=v,g=0,y=m;y;y=Lr(y))g++;for(y=0,x=p;x;x=Lr(x))y++;for(;0<g-y;)m=Lr(m),g--;for(;0<y-g;)p=Lr(p),y--;for(;g--;){if(m===p||p!==null&&m===p.alternate)break t;m=Lr(m),p=Lr(p)}m=null}else m=null;f!==null&&of(d,h,f,m,!1),v!==null&&w!==null&&of(d,w,v,m,!0)}}e:{if(h=u?qr(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var b=u1;else if(Yh(h))if(Og)b=f1;else{b=d1;var S=c1}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=h1);if(b&&(b=b(e,u))){Pg(d,b,n,c);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Nu(h,"number",h.value)}switch(S=u?qr(u):window,e){case"focusin":(Yh(S)||S.contentEditable==="true")&&(Hr=S,Vu=u,ns=null);break;case"focusout":ns=Vu=Hr=null;break;case"mousedown":Hu=!0;break;case"contextmenu":case"mouseup":case"dragend":Hu=!1,nf(d,n,c);break;case"selectionchange":if(m1)break;case"keydown":case"keyup":nf(d,n,c)}var C;if(wd)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Vr?jg(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Eg&&n.locale!=="ko"&&(Vr||j!=="onCompositionStart"?j==="onCompositionEnd"&&Vr&&(C=Cg()):(Ln=c,md="value"in Ln?Ln.value:Ln.textContent,Vr=!0)),S=ma(u,j),0<S.length&&(j=new Wh(j,e,null,n,c),d.push({event:j,listeners:S}),C?j.data=C:(C=Tg(n),C!==null&&(j.data=C)))),(C=i1?s1(e,n):o1(e,n))&&(u=ma(u,"onBeforeInput"),0<u.length&&(c=new Wh("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}Fg(d,t)})}function js(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ma(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_s(e,n),s!=null&&r.unshift(js(e,s,i)),s=_s(e,t),s!=null&&r.push(js(e,s,i))),e=e.return}return r}function Lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function of(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=_s(n,s),l!=null&&o.unshift(js(n,l,a))):i||(l=_s(n,s),l!=null&&o.push(js(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var _1=/\r\n?/g,x1=/\u0000|\uFFFD/g;function af(e){return(typeof e=="string"?e:""+e).replace(_1,`
`).replace(x1,"")}function _o(e,t,n){if(t=af(t),af(e)!==t&&n)throw Error(T(425))}function va(){}var Ku=null,qu=null;function Wu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gu=typeof setTimeout=="function"?setTimeout:void 0,b1=typeof clearTimeout=="function"?clearTimeout:void 0,lf=typeof Promise=="function"?Promise:void 0,k1=typeof queueMicrotask=="function"?queueMicrotask:typeof lf<"u"?function(e){return lf.resolve(null).then(e).catch(S1)}:Gu;function S1(e){setTimeout(function(){throw e})}function Wl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ks(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ks(t)}function zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var bi=Math.random().toString(36).slice(2),Mt="__reactFiber$"+bi,Ts="__reactProps$"+bi,un="__reactContainer$"+bi,Qu="__reactEvents$"+bi,C1="__reactListeners$"+bi,E1="__reactHandles$"+bi;function sr(e){var t=e[Mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[un]||n[Mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=uf(e);e!==null;){if(n=e[Mt])return n;e=uf(e)}return t}e=n,n=e.parentNode}return null}function Js(e){return e=e[Mt]||e[un],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function el(e){return e[Ts]||null}var Ju=[],Wr=-1;function Jn(e){return{current:e}}function ae(e){0>Wr||(e.current=Ju[Wr],Ju[Wr]=null,Wr--)}function ie(e,t){Wr++,Ju[Wr]=e.current,e.current=t}var Kn={},Ae=Jn(Kn),Qe=Jn(!1),gr=Kn;function hi(e,t){var n=e.type.contextTypes;if(!n)return Kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Je(e){return e=e.childContextTypes,e!=null}function ya(){ae(Qe),ae(Ae)}function cf(e,t,n){if(Ae.current!==Kn)throw Error(T(168));ie(Ae,t),ie(Qe,n)}function Ug(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(T(108,cy(e)||"Unknown",i));return he({},n,r)}function wa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kn,gr=Ae.current,ie(Ae,e),ie(Qe,Qe.current),!0}function df(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=Ug(e,t,gr),r.__reactInternalMemoizedMergedChildContext=e,ae(Qe),ae(Ae),ie(Ae,e)):ae(Qe),ie(Qe,n)}var Yt=null,tl=!1,Gl=!1;function Vg(e){Yt===null?Yt=[e]:Yt.push(e)}function j1(e){tl=!0,Vg(e)}function Yn(){if(!Gl&&Yt!==null){Gl=!0;var e=0,t=Y;try{var n=Yt;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Yt=null,tl=!1}catch(i){throw Yt!==null&&(Yt=Yt.slice(e+1)),pg(hd,Yn),i}finally{Y=t,Gl=!1}}return null}var Gr=[],Qr=0,_a=null,xa=0,pt=[],gt=0,mr=null,en=1,tn="";function tr(e,t){Gr[Qr++]=xa,Gr[Qr++]=_a,_a=e,xa=t}function Hg(e,t,n){pt[gt++]=en,pt[gt++]=tn,pt[gt++]=mr,mr=e;var r=en;e=tn;var i=32-Et(r)-1;r&=~(1<<i),n+=1;var s=32-Et(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,en=1<<32-Et(t)+i|n<<i|r,tn=s+e}else en=1<<s|n<<i|r,tn=e}function xd(e){e.return!==null&&(tr(e,1),Hg(e,1,0))}function bd(e){for(;e===_a;)_a=Gr[--Qr],Gr[Qr]=null,xa=Gr[--Qr],Gr[Qr]=null;for(;e===mr;)mr=pt[--gt],pt[gt]=null,tn=pt[--gt],pt[gt]=null,en=pt[--gt],pt[gt]=null}var at=null,st=null,ue=!1,Ct=null;function Kg(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,st=zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mr!==null?{id:en,overflow:tn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,at=e,st=null,!0):!1;default:return!1}}function Yu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xu(e){if(ue){var t=st;if(t){var n=t;if(!hf(e,t)){if(Yu(e))throw Error(T(418));t=zn(n.nextSibling);var r=at;t&&hf(e,t)?Kg(r,n):(e.flags=e.flags&-4097|2,ue=!1,at=e)}}else{if(Yu(e))throw Error(T(418));e.flags=e.flags&-4097|2,ue=!1,at=e}}}function ff(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function xo(e){if(e!==at)return!1;if(!ue)return ff(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wu(e.type,e.memoizedProps)),t&&(t=st)){if(Yu(e))throw qg(),Error(T(418));for(;t;)Kg(e,t),t=zn(t.nextSibling)}if(ff(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){st=zn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}st=null}}else st=at?zn(e.stateNode.nextSibling):null;return!0}function qg(){for(var e=st;e;)e=zn(e.nextSibling)}function fi(){st=at=null,ue=!1}function kd(e){Ct===null?Ct=[e]:Ct.push(e)}var T1=fn.ReactCurrentBatchConfig;function Fi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function bo(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pf(e){var t=e._init;return t(e._payload)}function Wg(e){function t(p,g){if(e){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function i(p,g){return p=Vn(p,g),p.index=0,p.sibling=null,p}function s(p,g,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=2,g):y):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,g,y,x){return g===null||g.tag!==6?(g=tu(y,p.mode,x),g.return=p,g):(g=i(g,y),g.return=p,g)}function l(p,g,y,x){var b=y.type;return b===Ur?c(p,g,y.props.children,x,y.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Sn&&pf(b)===g.type)?(x=i(g,y.props),x.ref=Fi(p,g,y),x.return=p,x):(x=Xo(y.type,y.key,y.props,null,p.mode,x),x.ref=Fi(p,g,y),x.return=p,x)}function u(p,g,y,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=nu(y,p.mode,x),g.return=p,g):(g=i(g,y.children||[]),g.return=p,g)}function c(p,g,y,x,b){return g===null||g.tag!==7?(g=dr(y,p.mode,x,b),g.return=p,g):(g=i(g,y),g.return=p,g)}function d(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=tu(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case co:return y=Xo(g.type,g.key,g.props,null,p.mode,y),y.ref=Fi(p,null,g),y.return=p,y;case Br:return g=nu(g,p.mode,y),g.return=p,g;case Sn:var x=g._init;return d(p,x(g._payload),y)}if(qi(g)||Ii(g))return g=dr(g,p.mode,y,null),g.return=p,g;bo(p,g)}return null}function h(p,g,y,x){var b=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:a(p,g,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case co:return y.key===b?l(p,g,y,x):null;case Br:return y.key===b?u(p,g,y,x):null;case Sn:return b=y._init,h(p,g,b(y._payload),x)}if(qi(y)||Ii(y))return b!==null?null:c(p,g,y,x,null);bo(p,y)}return null}function f(p,g,y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(y)||null,a(g,p,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case co:return p=p.get(x.key===null?y:x.key)||null,l(g,p,x,b);case Br:return p=p.get(x.key===null?y:x.key)||null,u(g,p,x,b);case Sn:var S=x._init;return f(p,g,y,S(x._payload),b)}if(qi(x)||Ii(x))return p=p.get(y)||null,c(g,p,x,b,null);bo(g,x)}return null}function v(p,g,y,x){for(var b=null,S=null,C=g,j=g=0,E=null;C!==null&&j<y.length;j++){C.index>j?(E=C,C=null):E=C.sibling;var P=h(p,C,y[j],x);if(P===null){C===null&&(C=E);break}e&&C&&P.alternate===null&&t(p,C),g=s(P,g,j),S===null?b=P:S.sibling=P,S=P,C=E}if(j===y.length)return n(p,C),ue&&tr(p,j),b;if(C===null){for(;j<y.length;j++)C=d(p,y[j],x),C!==null&&(g=s(C,g,j),S===null?b=C:S.sibling=C,S=C);return ue&&tr(p,j),b}for(C=r(p,C);j<y.length;j++)E=f(C,p,j,y[j],x),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?j:E.key),g=s(E,g,j),S===null?b=E:S.sibling=E,S=E);return e&&C.forEach(function(N){return t(p,N)}),ue&&tr(p,j),b}function m(p,g,y,x){var b=Ii(y);if(typeof b!="function")throw Error(T(150));if(y=b.call(y),y==null)throw Error(T(151));for(var S=b=null,C=g,j=g=0,E=null,P=y.next();C!==null&&!P.done;j++,P=y.next()){C.index>j?(E=C,C=null):E=C.sibling;var N=h(p,C,P.value,x);if(N===null){C===null&&(C=E);break}e&&C&&N.alternate===null&&t(p,C),g=s(N,g,j),S===null?b=N:S.sibling=N,S=N,C=E}if(P.done)return n(p,C),ue&&tr(p,j),b;if(C===null){for(;!P.done;j++,P=y.next())P=d(p,P.value,x),P!==null&&(g=s(P,g,j),S===null?b=P:S.sibling=P,S=P);return ue&&tr(p,j),b}for(C=r(p,C);!P.done;j++,P=y.next())P=f(C,p,j,P.value,x),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?j:P.key),g=s(P,g,j),S===null?b=P:S.sibling=P,S=P);return e&&C.forEach(function($){return t(p,$)}),ue&&tr(p,j),b}function w(p,g,y,x){if(typeof y=="object"&&y!==null&&y.type===Ur&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case co:e:{for(var b=y.key,S=g;S!==null;){if(S.key===b){if(b=y.type,b===Ur){if(S.tag===7){n(p,S.sibling),g=i(S,y.props.children),g.return=p,p=g;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Sn&&pf(b)===S.type){n(p,S.sibling),g=i(S,y.props),g.ref=Fi(p,S,y),g.return=p,p=g;break e}n(p,S);break}else t(p,S);S=S.sibling}y.type===Ur?(g=dr(y.props.children,p.mode,x,y.key),g.return=p,p=g):(x=Xo(y.type,y.key,y.props,null,p.mode,x),x.ref=Fi(p,g,y),x.return=p,p=x)}return o(p);case Br:e:{for(S=y.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(p,g.sibling),g=i(g,y.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else t(p,g);g=g.sibling}g=nu(y,p.mode,x),g.return=p,p=g}return o(p);case Sn:return S=y._init,w(p,g,S(y._payload),x)}if(qi(y))return v(p,g,y,x);if(Ii(y))return m(p,g,y,x);bo(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(p,g.sibling),g=i(g,y),g.return=p,p=g):(n(p,g),g=tu(y,p.mode,x),g.return=p,p=g),o(p)):n(p,g)}return w}var pi=Wg(!0),Gg=Wg(!1),ba=Jn(null),ka=null,Jr=null,Sd=null;function Cd(){Sd=Jr=ka=null}function Ed(e){var t=ba.current;ae(ba),e._currentValue=t}function Zu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ii(e,t){ka=e,Sd=Jr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(Sd!==e)if(e={context:e,memoizedValue:t,next:null},Jr===null){if(ka===null)throw Error(T(308));Jr=e,ka.dependencies={lanes:0,firstContext:e}}else Jr=Jr.next=e;return t}var or=null;function jd(e){or===null?or=[e]:or.push(e)}function Qg(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,jd(t)):(n.next=i.next,i.next=n),t.interleaved=n,cn(e,r)}function cn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Cn=!1;function Td(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,cn(e,n)}return i=r.interleaved,i===null?(t.next=t,jd(r)):(t.next=i.next,i.next=t),r.interleaved=t,cn(e,n)}function qo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fd(e,n)}}function gf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Sa(e,t,n,r){var i=e.updateQueue;Cn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,m=a;switch(h=t,f=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){d=v.call(f,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,h=typeof v=="function"?v.call(f,d,h):v,h==null)break e;d=he({},d,h);break e;case 2:Cn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);yr|=o,e.lanes=o,e.memoizedState=d}}function mf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(T(191,i));i.call(r)}}}var Ys={},Ft=Jn(Ys),Ps=Jn(Ys),Os=Jn(Ys);function ar(e){if(e===Ys)throw Error(T(174));return e}function Pd(e,t){switch(ie(Os,t),ie(Ps,e),ie(Ft,Ys),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lu(t,e)}ae(Ft),ie(Ft,t)}function gi(){ae(Ft),ae(Ps),ae(Os)}function Yg(e){ar(Os.current);var t=ar(Ft.current),n=Lu(t,e.type);t!==n&&(ie(Ps,e),ie(Ft,n))}function Od(e){Ps.current===e&&(ae(Ft),ae(Ps))}var ce=Jn(0);function Ca(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ql=[];function Nd(){for(var e=0;e<Ql.length;e++)Ql[e]._workInProgressVersionPrimary=null;Ql.length=0}var Wo=fn.ReactCurrentDispatcher,Jl=fn.ReactCurrentBatchConfig,vr=0,de=null,ye=null,ke=null,Ea=!1,rs=!1,Ns=0,P1=0;function Ne(){throw Error(T(321))}function Rd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pt(e[n],t[n]))return!1;return!0}function Ld(e,t,n,r,i,s){if(vr=s,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wo.current=e===null||e.memoizedState===null?L1:D1,e=n(r,i),rs){s=0;do{if(rs=!1,Ns=0,25<=s)throw Error(T(301));s+=1,ke=ye=null,t.updateQueue=null,Wo.current=I1,e=n(r,i)}while(rs)}if(Wo.current=ja,t=ye!==null&&ye.next!==null,vr=0,ke=ye=de=null,Ea=!1,t)throw Error(T(300));return e}function Dd(){var e=Ns!==0;return Ns=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?de.memoizedState=ke=e:ke=ke.next=e,ke}function _t(){if(ye===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=ke===null?de.memoizedState:ke.next;if(t!==null)ke=t,ye=e;else{if(e===null)throw Error(T(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},ke===null?de.memoizedState=ke=e:ke=ke.next=e}return ke}function Rs(e,t){return typeof t=="function"?t(e):t}function Yl(e){var t=_t(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=ye,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((vr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,de.lanes|=c,yr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Pt(r,t.memoizedState)||(Ge=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,de.lanes|=s,yr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xl(e){var t=_t(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Pt(s,t.memoizedState)||(Ge=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Xg(){}function Zg(e,t){var n=de,r=_t(),i=t(),s=!Pt(r.memoizedState,i);if(s&&(r.memoizedState=i,Ge=!0),r=r.queue,Id(n0.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ke!==null&&ke.memoizedState.tag&1){if(n.flags|=2048,Ls(9,t0.bind(null,n,r,i,t),void 0,null),Ce===null)throw Error(T(349));vr&30||e0(n,t,i)}return i}function e0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function t0(e,t,n,r){t.value=n,t.getSnapshot=r,r0(t)&&i0(e)}function n0(e,t,n){return n(function(){r0(t)&&i0(e)})}function r0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pt(e,n)}catch{return!0}}function i0(e){var t=cn(e,1);t!==null&&jt(t,e,1,-1)}function vf(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:e},t.queue=e,e=e.dispatch=R1.bind(null,de,e),[t.memoizedState,e]}function Ls(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function s0(){return _t().memoizedState}function Go(e,t,n,r){var i=At();de.flags|=e,i.memoizedState=Ls(1|t,n,void 0,r===void 0?null:r)}function nl(e,t,n,r){var i=_t();r=r===void 0?null:r;var s=void 0;if(ye!==null){var o=ye.memoizedState;if(s=o.destroy,r!==null&&Rd(r,o.deps)){i.memoizedState=Ls(t,n,s,r);return}}de.flags|=e,i.memoizedState=Ls(1|t,n,s,r)}function yf(e,t){return Go(8390656,8,e,t)}function Id(e,t){return nl(2048,8,e,t)}function o0(e,t){return nl(4,2,e,t)}function a0(e,t){return nl(4,4,e,t)}function l0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function u0(e,t,n){return n=n!=null?n.concat([e]):null,nl(4,4,l0.bind(null,t,e),n)}function Ad(){}function c0(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function d0(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function h0(e,t,n){return vr&21?(Pt(n,t)||(n=vg(),de.lanes|=n,yr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=n)}function O1(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=Jl.transition;Jl.transition={};try{e(!1),t()}finally{Y=n,Jl.transition=r}}function f0(){return _t().memoizedState}function N1(e,t,n){var r=Un(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},p0(e))g0(t,n);else if(n=Qg(e,t,n,r),n!==null){var i=Fe();jt(n,e,r,i),m0(n,t,r)}}function R1(e,t,n){var r=Un(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(p0(e))g0(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Pt(a,o)){var l=t.interleaved;l===null?(i.next=i,jd(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Qg(e,t,i,r),n!==null&&(i=Fe(),jt(n,e,r,i),m0(n,t,r))}}function p0(e){var t=e.alternate;return e===de||t!==null&&t===de}function g0(e,t){rs=Ea=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function m0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fd(e,n)}}var ja={readContext:wt,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},L1={readContext:wt,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:yf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Go(4194308,4,l0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Go(4194308,4,e,t)},useInsertionEffect:function(e,t){return Go(4,2,e,t)},useMemo:function(e,t){var n=At();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=At();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=N1.bind(null,de,e),[r.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:vf,useDebugValue:Ad,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=vf(!1),t=e[0];return e=O1.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=de,i=At();if(ue){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),Ce===null)throw Error(T(349));vr&30||e0(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,yf(n0.bind(null,r,s,e),[e]),r.flags|=2048,Ls(9,t0.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=At(),t=Ce.identifierPrefix;if(ue){var n=tn,r=en;n=(r&~(1<<32-Et(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ns++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=P1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},D1={readContext:wt,useCallback:c0,useContext:wt,useEffect:Id,useImperativeHandle:u0,useInsertionEffect:o0,useLayoutEffect:a0,useMemo:d0,useReducer:Yl,useRef:s0,useState:function(){return Yl(Rs)},useDebugValue:Ad,useDeferredValue:function(e){var t=_t();return h0(t,ye.memoizedState,e)},useTransition:function(){var e=Yl(Rs)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Xg,useSyncExternalStore:Zg,useId:f0,unstable_isNewReconciler:!1},I1={readContext:wt,useCallback:c0,useContext:wt,useEffect:Id,useImperativeHandle:u0,useInsertionEffect:o0,useLayoutEffect:a0,useMemo:d0,useReducer:Xl,useRef:s0,useState:function(){return Xl(Rs)},useDebugValue:Ad,useDeferredValue:function(e){var t=_t();return ye===null?t.memoizedState=e:h0(t,ye.memoizedState,e)},useTransition:function(){var e=Xl(Rs)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Xg,useSyncExternalStore:Zg,useId:f0,unstable_isNewReconciler:!1};function bt(e,t){if(e&&e.defaultProps){t=he({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ec(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:he({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rl={isMounted:function(e){return(e=e._reactInternals)?Sr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fe(),i=Un(e),s=sn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Fn(e,s,i),t!==null&&(jt(t,e,i,r),qo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fe(),i=Un(e),s=sn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Fn(e,s,i),t!==null&&(jt(t,e,i,r),qo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fe(),r=Un(e),i=sn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Fn(e,i,r),t!==null&&(jt(t,e,r,n),qo(t,e,r))}};function wf(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Cs(n,r)||!Cs(i,s):!0}function v0(e,t,n){var r=!1,i=Kn,s=t.contextType;return typeof s=="object"&&s!==null?s=wt(s):(i=Je(t)?gr:Ae.current,r=t.contextTypes,s=(r=r!=null)?hi(e,i):Kn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function _f(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&rl.enqueueReplaceState(t,t.state,null)}function tc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Td(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=wt(s):(s=Je(t)?gr:Ae.current,i.context=hi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ec(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&rl.enqueueReplaceState(i,i.state,null),Sa(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function mi(e,t){try{var n="",r=t;do n+=uy(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Zl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function nc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var A1=typeof WeakMap=="function"?WeakMap:Map;function y0(e,t,n){n=sn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pa||(Pa=!0,hc=r),nc(e,t)},n}function w0(e,t,n){n=sn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){nc(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){nc(e,t),typeof r!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function xf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new A1;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=J1.bind(null,e,t,n),t.then(e,e))}function bf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kf(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=sn(-1,1),t.tag=2,Fn(n,t,1))),n.lanes|=1),e)}var $1=fn.ReactCurrentOwner,Ge=!1;function Me(e,t,n,r){t.child=e===null?Gg(t,null,n,r):pi(t,e.child,n,r)}function Sf(e,t,n,r,i){n=n.render;var s=t.ref;return ii(t,i),r=Ld(e,t,n,r,s,i),n=Dd(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,dn(e,t,i)):(ue&&n&&xd(t),t.flags|=1,Me(e,t,r,i),t.child)}function Cf(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Hd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,_0(e,t,s,r,i)):(e=Xo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Cs,n(o,r)&&e.ref===t.ref)return dn(e,t,i)}return t.flags|=1,e=Vn(s,r),e.ref=t.ref,e.return=t,t.child=e}function _0(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Cs(s,r)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,dn(e,t,i)}return rc(e,t,n,r,i)}function x0(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Xr,it),it|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(Xr,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ie(Xr,it),it|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ie(Xr,it),it|=r;return Me(e,t,i,n),t.child}function b0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rc(e,t,n,r,i){var s=Je(n)?gr:Ae.current;return s=hi(t,s),ii(t,i),n=Ld(e,t,n,r,s,i),r=Dd(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,dn(e,t,i)):(ue&&r&&xd(t),t.flags|=1,Me(e,t,n,i),t.child)}function Ef(e,t,n,r,i){if(Je(n)){var s=!0;wa(t)}else s=!1;if(ii(t,i),t.stateNode===null)Qo(e,t),v0(t,n,r),tc(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=wt(u):(u=Je(n)?gr:Ae.current,u=hi(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&_f(t,o,r,u),Cn=!1;var h=t.memoizedState;o.state=h,Sa(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Qe.current||Cn?(typeof c=="function"&&(ec(t,n,c,r),l=t.memoizedState),(a=Cn||wf(t,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Jg(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:bt(t.type,a),o.props=u,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wt(l):(l=Je(n)?gr:Ae.current,l=hi(t,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&_f(t,o,r,l),Cn=!1,h=t.memoizedState,o.state=h,Sa(t,r,o,i);var v=t.memoizedState;a!==d||h!==v||Qe.current||Cn?(typeof f=="function"&&(ec(t,n,f,r),v=t.memoizedState),(u=Cn||wf(t,n,u,r,h,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ic(e,t,n,r,s,i)}function ic(e,t,n,r,i,s){b0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&df(t,n,!1),dn(e,t,s);r=t.stateNode,$1.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=pi(t,e.child,null,s),t.child=pi(t,null,a,s)):Me(e,t,a,s),t.memoizedState=r.state,i&&df(t,n,!0),t.child}function k0(e){var t=e.stateNode;t.pendingContext?cf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cf(e,t.context,!1),Pd(e,t.containerInfo)}function jf(e,t,n,r,i){return fi(),kd(i),t.flags|=256,Me(e,t,n,r),t.child}var sc={dehydrated:null,treeContext:null,retryLane:0};function oc(e){return{baseLanes:e,cachePool:null,transitions:null}}function S0(e,t,n){var r=t.pendingProps,i=ce.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ie(ce,i&1),e===null)return Xu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ol(o,r,0,null),e=dr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=oc(n),t.memoizedState=sc,e):$d(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return M1(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Vn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Vn(a,s):(s=dr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?oc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=sc,r}return s=e.child,e=s.sibling,r=Vn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $d(e,t){return t=ol({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ko(e,t,n,r){return r!==null&&kd(r),pi(t,e.child,null,n),e=$d(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function M1(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Zl(Error(T(422))),ko(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=ol({mode:"visible",children:r.children},i,0,null),s=dr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&pi(t,e.child,null,o),t.child.memoizedState=oc(o),t.memoizedState=sc,s);if(!(t.mode&1))return ko(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(T(419)),r=Zl(s,r,void 0),ko(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ge||a){if(r=Ce,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,cn(e,i),jt(r,e,i,-1))}return Vd(),r=Zl(Error(T(421))),ko(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Y1.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,st=zn(i.nextSibling),at=t,ue=!0,Ct=null,e!==null&&(pt[gt++]=en,pt[gt++]=tn,pt[gt++]=mr,en=e.id,tn=e.overflow,mr=t),t=$d(t,r.children),t.flags|=4096,t)}function Tf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Zu(e.return,t,n)}function eu(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function C0(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Me(e,t,r.children,n),r=ce.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tf(e,n,t);else if(e.tag===19)Tf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ie(ce,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ca(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),eu(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ca(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}eu(t,!0,n,null,s);break;case"together":eu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=Vn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function z1(e,t,n){switch(t.tag){case 3:k0(t),fi();break;case 5:Yg(t);break;case 1:Je(t.type)&&wa(t);break;case 4:Pd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ie(ba,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ie(ce,ce.current&1),t.flags|=128,null):n&t.child.childLanes?S0(e,t,n):(ie(ce,ce.current&1),e=dn(e,t,n),e!==null?e.sibling:null);ie(ce,ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return C0(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ie(ce,ce.current),r)break;return null;case 22:case 23:return t.lanes=0,x0(e,t,n)}return dn(e,t,n)}var E0,ac,j0,T0;E0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ac=function(){};j0=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ar(Ft.current);var s=null;switch(n){case"input":i=Pu(e,i),r=Pu(e,r),s=[];break;case"select":i=he({},i,{value:void 0}),r=he({},r,{value:void 0}),s=[];break;case"textarea":i=Ru(e,i),r=Ru(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=va)}Du(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ys.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ys.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&se("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};T0=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bi(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function F1(e,t,n){var r=t.pendingProps;switch(bd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Je(t.type)&&ya(),Re(t),null;case 3:return r=t.stateNode,gi(),ae(Qe),ae(Ae),Nd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ct!==null&&(gc(Ct),Ct=null))),ac(e,t),Re(t),null;case 5:Od(t);var i=ar(Os.current);if(n=t.type,e!==null&&t.stateNode!=null)j0(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return Re(t),null}if(e=ar(Ft.current),xo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Mt]=t,r[Ts]=s,e=(t.mode&1)!==0,n){case"dialog":se("cancel",r),se("close",r);break;case"iframe":case"object":case"embed":se("load",r);break;case"video":case"audio":for(i=0;i<Gi.length;i++)se(Gi[i],r);break;case"source":se("error",r);break;case"img":case"image":case"link":se("error",r),se("load",r);break;case"details":se("toggle",r);break;case"input":Ah(r,s),se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},se("invalid",r);break;case"textarea":Mh(r,s),se("invalid",r)}Du(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_o(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_o(r.textContent,a,e),i=["children",""+a]):ys.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&se("scroll",r)}switch(n){case"input":ho(r),$h(r,s,!0);break;case"textarea":ho(r),zh(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=va)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ng(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Mt]=t,e[Ts]=r,E0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Iu(n,r),n){case"dialog":se("cancel",e),se("close",e),i=r;break;case"iframe":case"object":case"embed":se("load",e),i=r;break;case"video":case"audio":for(i=0;i<Gi.length;i++)se(Gi[i],e);i=r;break;case"source":se("error",e),i=r;break;case"img":case"image":case"link":se("error",e),se("load",e),i=r;break;case"details":se("toggle",e),i=r;break;case"input":Ah(e,r),i=Pu(e,r),se("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=he({},r,{value:void 0}),se("invalid",e);break;case"textarea":Mh(e,r),i=Ru(e,r),se("invalid",e);break;default:i=r}Du(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?sg(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rg(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ws(e,l):typeof l=="number"&&ws(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ys.hasOwnProperty(s)?l!=null&&s==="onScroll"&&se("scroll",e):l!=null&&ad(e,s,l,o))}switch(n){case"input":ho(e),$h(e,r,!1);break;case"textarea":ho(e),zh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Hn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ei(e,!!r.multiple,s,!1):r.defaultValue!=null&&ei(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=va)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(e&&t.stateNode!=null)T0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=ar(Os.current),ar(Ft.current),xo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mt]=t,(s=r.nodeValue!==n)&&(e=at,e!==null))switch(e.tag){case 3:_o(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_o(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mt]=t,t.stateNode=r}return Re(t),null;case 13:if(ae(ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&st!==null&&t.mode&1&&!(t.flags&128))qg(),fi(),t.flags|=98560,s=!1;else if(s=xo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(T(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(T(317));s[Mt]=t}else fi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),s=!1}else Ct!==null&&(gc(Ct),Ct=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ce.current&1?_e===0&&(_e=3):Vd())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return gi(),ac(e,t),e===null&&Es(t.stateNode.containerInfo),Re(t),null;case 10:return Ed(t.type._context),Re(t),null;case 17:return Je(t.type)&&ya(),Re(t),null;case 19:if(ae(ce),s=t.memoizedState,s===null)return Re(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Bi(s,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ca(e),o!==null){for(t.flags|=128,Bi(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ie(ce,ce.current&1|2),t.child}e=e.sibling}s.tail!==null&&pe()>vi&&(t.flags|=128,r=!0,Bi(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ca(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ue)return Re(t),null}else 2*pe()-s.renderingStartTime>vi&&n!==1073741824&&(t.flags|=128,r=!0,Bi(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=pe(),t.sibling=null,n=ce.current,ie(ce,r?n&1|2:n&1),t):(Re(t),null);case 22:case 23:return Ud(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?it&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function B1(e,t){switch(bd(t),t.tag){case 1:return Je(t.type)&&ya(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gi(),ae(Qe),ae(Ae),Nd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Od(t),null;case 13:if(ae(ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));fi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(ce),null;case 4:return gi(),null;case 10:return Ed(t.type._context),null;case 22:case 23:return Ud(),null;case 24:return null;default:return null}}var So=!1,Le=!1,U1=typeof WeakSet=="function"?WeakSet:Set,L=null;function Yr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(e,t,r)}else n.current=null}function lc(e,t,n){try{n()}catch(r){fe(e,t,r)}}var Pf=!1;function V1(e,t){if(Ku=pa,e=Lg(),_d(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qu={focusedElem:e,selectionRange:n},pa=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,w=v.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?m:bt(t.type,m),w);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(x){fe(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return v=Pf,Pf=!1,v}function is(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&lc(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function uc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function P0(e){var t=e.alternate;t!==null&&(e.alternate=null,P0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mt],delete t[Ts],delete t[Qu],delete t[C1],delete t[E1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function O0(e){return e.tag===5||e.tag===3||e.tag===4}function Of(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||O0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=va));else if(r!==4&&(e=e.child,e!==null))for(cc(e,t,n),e=e.sibling;e!==null;)cc(e,t,n),e=e.sibling}function dc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(dc(e,t,n),e=e.sibling;e!==null;)dc(e,t,n),e=e.sibling}var je=null,kt=!1;function _n(e,t,n){for(n=n.child;n!==null;)N0(e,t,n),n=n.sibling}function N0(e,t,n){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Ja,n)}catch{}switch(n.tag){case 5:Le||Yr(n,t);case 6:var r=je,i=kt;je=null,_n(e,t,n),je=r,kt=i,je!==null&&(kt?(e=je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(kt?(e=je,n=n.stateNode,e.nodeType===8?Wl(e.parentNode,n):e.nodeType===1&&Wl(e,n),ks(e)):Wl(je,n.stateNode));break;case 4:r=je,i=kt,je=n.stateNode.containerInfo,kt=!0,_n(e,t,n),je=r,kt=i;break;case 0:case 11:case 14:case 15:if(!Le&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&lc(n,t,o),i=i.next}while(i!==r)}_n(e,t,n);break;case 1:if(!Le&&(Yr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){fe(n,t,a)}_n(e,t,n);break;case 21:_n(e,t,n);break;case 22:n.mode&1?(Le=(r=Le)||n.memoizedState!==null,_n(e,t,n),Le=r):_n(e,t,n);break;default:_n(e,t,n)}}function Nf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new U1),t.forEach(function(r){var i=X1.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:je=a.stateNode,kt=!1;break e;case 3:je=a.stateNode.containerInfo,kt=!0;break e;case 4:je=a.stateNode.containerInfo,kt=!0;break e}a=a.return}if(je===null)throw Error(T(160));N0(s,o,i),je=null,kt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){fe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)R0(t,e),t=t.sibling}function R0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xt(t,e),Dt(e),r&4){try{is(3,e,e.return),il(3,e)}catch(m){fe(e,e.return,m)}try{is(5,e,e.return)}catch(m){fe(e,e.return,m)}}break;case 1:xt(t,e),Dt(e),r&512&&n!==null&&Yr(n,n.return);break;case 5:if(xt(t,e),Dt(e),r&512&&n!==null&&Yr(n,n.return),e.flags&32){var i=e.stateNode;try{ws(i,"")}catch(m){fe(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&eg(i,s),Iu(a,o);var u=Iu(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?sg(i,d):c==="dangerouslySetInnerHTML"?rg(i,d):c==="children"?ws(i,d):ad(i,c,d,u)}switch(a){case"input":Ou(i,s);break;case"textarea":tg(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ei(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?ei(i,!!s.multiple,s.defaultValue,!0):ei(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ts]=s}catch(m){fe(e,e.return,m)}}break;case 6:if(xt(t,e),Dt(e),r&4){if(e.stateNode===null)throw Error(T(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){fe(e,e.return,m)}}break;case 3:if(xt(t,e),Dt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ks(t.containerInfo)}catch(m){fe(e,e.return,m)}break;case 4:xt(t,e),Dt(e);break;case 13:xt(t,e),Dt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fd=pe())),r&4&&Nf(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Le=(u=Le)||c,xt(t,e),Le=u):xt(t,e),Dt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(L=e,c=e.child;c!==null;){for(d=L=c;L!==null;){switch(h=L,f=h.child,h.tag){case 0:case 11:case 14:case 15:is(4,h,h.return);break;case 1:Yr(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){fe(r,n,m)}}break;case 5:Yr(h,h.return);break;case 22:if(h.memoizedState!==null){Lf(d);continue}}f!==null?(f.return=h,L=f):Lf(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ig("display",o))}catch(m){fe(e,e.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){fe(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:xt(t,e),Dt(e),r&4&&Nf(e);break;case 21:break;default:xt(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(O0(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ws(i,""),r.flags&=-33);var s=Of(e);dc(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Of(e);cc(e,a,o);break;default:throw Error(T(161))}}catch(l){fe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function H1(e,t,n){L=e,L0(e)}function L0(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var i=L,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||So;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Le;a=So;var u=Le;if(So=o,(Le=l)&&!u)for(L=i;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?Df(i):l!==null?(l.return=o,L=l):Df(i);for(;s!==null;)L=s,L0(s),s=s.sibling;L=i,So=a,Le=u}Rf(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,L=s):Rf(e)}}function Rf(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||il(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Le)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:bt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&mf(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}mf(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ks(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Le||t.flags&512&&uc(t)}catch(h){fe(t,t.return,h)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function Lf(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function Df(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){fe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){fe(t,i,l)}}var s=t.return;try{uc(t)}catch(l){fe(t,s,l)}break;case 5:var o=t.return;try{uc(t)}catch(l){fe(t,o,l)}}}catch(l){fe(t,t.return,l)}if(t===e){L=null;break}var a=t.sibling;if(a!==null){a.return=t.return,L=a;break}L=t.return}}var K1=Math.ceil,Ta=fn.ReactCurrentDispatcher,Md=fn.ReactCurrentOwner,vt=fn.ReactCurrentBatchConfig,G=0,Ce=null,me=null,Te=0,it=0,Xr=Jn(0),_e=0,Ds=null,yr=0,sl=0,zd=0,ss=null,qe=null,Fd=0,vi=1/0,Qt=null,Pa=!1,hc=null,Bn=null,Co=!1,Dn=null,Oa=0,os=0,fc=null,Jo=-1,Yo=0;function Fe(){return G&6?pe():Jo!==-1?Jo:Jo=pe()}function Un(e){return e.mode&1?G&2&&Te!==0?Te&-Te:T1.transition!==null?(Yo===0&&(Yo=vg()),Yo):(e=Y,e!==0||(e=window.event,e=e===void 0?16:Sg(e.type)),e):1}function jt(e,t,n,r){if(50<os)throw os=0,fc=null,Error(T(185));Gs(e,n,r),(!(G&2)||e!==Ce)&&(e===Ce&&(!(G&2)&&(sl|=n),_e===4&&On(e,Te)),Ye(e,r),n===1&&G===0&&!(t.mode&1)&&(vi=pe()+500,tl&&Yn()))}function Ye(e,t){var n=e.callbackNode;Ty(e,t);var r=fa(e,e===Ce?Te:0);if(r===0)n!==null&&Uh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Uh(n),t===1)e.tag===0?j1(If.bind(null,e)):Vg(If.bind(null,e)),k1(function(){!(G&6)&&Yn()}),n=null;else{switch(yg(r)){case 1:n=hd;break;case 4:n=gg;break;case 16:n=ha;break;case 536870912:n=mg;break;default:n=ha}n=B0(n,D0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function D0(e,t){if(Jo=-1,Yo=0,G&6)throw Error(T(327));var n=e.callbackNode;if(si()&&e.callbackNode!==n)return null;var r=fa(e,e===Ce?Te:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Na(e,r);else{t=r;var i=G;G|=2;var s=A0();(Ce!==e||Te!==t)&&(Qt=null,vi=pe()+500,cr(e,t));do try{G1();break}catch(a){I0(e,a)}while(!0);Cd(),Ta.current=s,G=i,me!==null?t=0:(Ce=null,Te=0,t=_e)}if(t!==0){if(t===2&&(i=Fu(e),i!==0&&(r=i,t=pc(e,i))),t===1)throw n=Ds,cr(e,0),On(e,r),Ye(e,pe()),n;if(t===6)On(e,r);else{if(i=e.current.alternate,!(r&30)&&!q1(i)&&(t=Na(e,r),t===2&&(s=Fu(e),s!==0&&(r=s,t=pc(e,s))),t===1))throw n=Ds,cr(e,0),On(e,r),Ye(e,pe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:nr(e,qe,Qt);break;case 3:if(On(e,r),(r&130023424)===r&&(t=Fd+500-pe(),10<t)){if(fa(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Fe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gu(nr.bind(null,e,qe,Qt),t);break}nr(e,qe,Qt);break;case 4:if(On(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Et(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*K1(r/1960))-r,10<r){e.timeoutHandle=Gu(nr.bind(null,e,qe,Qt),r);break}nr(e,qe,Qt);break;case 5:nr(e,qe,Qt);break;default:throw Error(T(329))}}}return Ye(e,pe()),e.callbackNode===n?D0.bind(null,e):null}function pc(e,t){var n=ss;return e.current.memoizedState.isDehydrated&&(cr(e,t).flags|=256),e=Na(e,t),e!==2&&(t=qe,qe=n,t!==null&&gc(t)),e}function gc(e){qe===null?qe=e:qe.push.apply(qe,e)}function q1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function On(e,t){for(t&=~zd,t&=~sl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Et(t),r=1<<n;e[n]=-1,t&=~r}}function If(e){if(G&6)throw Error(T(327));si();var t=fa(e,0);if(!(t&1))return Ye(e,pe()),null;var n=Na(e,t);if(e.tag!==0&&n===2){var r=Fu(e);r!==0&&(t=r,n=pc(e,r))}if(n===1)throw n=Ds,cr(e,0),On(e,t),Ye(e,pe()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nr(e,qe,Qt),Ye(e,pe()),null}function Bd(e,t){var n=G;G|=1;try{return e(t)}finally{G=n,G===0&&(vi=pe()+500,tl&&Yn())}}function wr(e){Dn!==null&&Dn.tag===0&&!(G&6)&&si();var t=G;G|=1;var n=vt.transition,r=Y;try{if(vt.transition=null,Y=1,e)return e()}finally{Y=r,vt.transition=n,G=t,!(G&6)&&Yn()}}function Ud(){it=Xr.current,ae(Xr)}function cr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,b1(n)),me!==null)for(n=me.return;n!==null;){var r=n;switch(bd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ya();break;case 3:gi(),ae(Qe),ae(Ae),Nd();break;case 5:Od(r);break;case 4:gi();break;case 13:ae(ce);break;case 19:ae(ce);break;case 10:Ed(r.type._context);break;case 22:case 23:Ud()}n=n.return}if(Ce=e,me=e=Vn(e.current,null),Te=it=t,_e=0,Ds=null,zd=sl=yr=0,qe=ss=null,or!==null){for(t=0;t<or.length;t++)if(n=or[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}or=null}return e}function I0(e,t){do{var n=me;try{if(Cd(),Wo.current=ja,Ea){for(var r=de.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ea=!1}if(vr=0,ke=ye=de=null,rs=!1,Ns=0,Md.current=null,n===null||n.return===null){_e=1,Ds=t,me=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Te,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=bf(o);if(f!==null){f.flags&=-257,kf(f,o,a,s,t),f.mode&1&&xf(s,u,t),t=f,l=u;var v=t.updateQueue;if(v===null){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}else{if(!(t&1)){xf(s,u,t),Vd();break e}l=Error(T(426))}}else if(ue&&a.mode&1){var w=bf(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),kf(w,o,a,s,t),kd(mi(l,a));break e}}s=l=mi(l,a),_e!==4&&(_e=2),ss===null?ss=[s]:ss.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=y0(s,l,t);gf(s,p);break e;case 1:a=l;var g=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Bn===null||!Bn.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=w0(s,a,t);gf(s,x);break e}}s=s.return}while(s!==null)}M0(n)}catch(b){t=b,me===n&&n!==null&&(me=n=n.return);continue}break}while(!0)}function A0(){var e=Ta.current;return Ta.current=ja,e===null?ja:e}function Vd(){(_e===0||_e===3||_e===2)&&(_e=4),Ce===null||!(yr&268435455)&&!(sl&268435455)||On(Ce,Te)}function Na(e,t){var n=G;G|=2;var r=A0();(Ce!==e||Te!==t)&&(Qt=null,cr(e,t));do try{W1();break}catch(i){I0(e,i)}while(!0);if(Cd(),G=n,Ta.current=r,me!==null)throw Error(T(261));return Ce=null,Te=0,_e}function W1(){for(;me!==null;)$0(me)}function G1(){for(;me!==null&&!wy();)$0(me)}function $0(e){var t=F0(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?M0(e):me=t,Md.current=null}function M0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=B1(n,t),n!==null){n.flags&=32767,me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,me=null;return}}else if(n=F1(n,t,it),n!==null){me=n;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);_e===0&&(_e=5)}function nr(e,t,n){var r=Y,i=vt.transition;try{vt.transition=null,Y=1,Q1(e,t,n,r)}finally{vt.transition=i,Y=r}return null}function Q1(e,t,n,r){do si();while(Dn!==null);if(G&6)throw Error(T(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Py(e,s),e===Ce&&(me=Ce=null,Te=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Co||(Co=!0,B0(ha,function(){return si(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vt.transition,vt.transition=null;var o=Y;Y=1;var a=G;G|=4,Md.current=null,V1(e,n),R0(n,e),g1(qu),pa=!!Ku,qu=Ku=null,e.current=n,H1(n),_y(),G=a,Y=o,vt.transition=s}else e.current=n;if(Co&&(Co=!1,Dn=e,Oa=i),s=e.pendingLanes,s===0&&(Bn=null),ky(n.stateNode),Ye(e,pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pa)throw Pa=!1,e=hc,hc=null,e;return Oa&1&&e.tag!==0&&si(),s=e.pendingLanes,s&1?e===fc?os++:(os=0,fc=e):os=0,Yn(),null}function si(){if(Dn!==null){var e=yg(Oa),t=vt.transition,n=Y;try{if(vt.transition=null,Y=16>e?16:e,Dn===null)var r=!1;else{if(e=Dn,Dn=null,Oa=0,G&6)throw Error(T(331));var i=G;for(G|=4,L=e.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:is(8,c,s)}var d=c.child;if(d!==null)d.return=c,L=d;else for(;L!==null;){c=L;var h=c.sibling,f=c.return;if(P0(c),c===u){L=null;break}if(h!==null){h.return=f,L=h;break}L=f}}}var v=s.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:is(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,L=p;break e}L=s.return}}var g=e.current;for(L=g;L!==null;){o=L;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,L=y;else e:for(o=g;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:il(9,a)}}catch(b){fe(a,a.return,b)}if(a===o){L=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,L=x;break e}L=a.return}}if(G=i,Yn(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Ja,e)}catch{}r=!0}return r}finally{Y=n,vt.transition=t}}return!1}function Af(e,t,n){t=mi(n,t),t=y0(e,t,1),e=Fn(e,t,1),t=Fe(),e!==null&&(Gs(e,1,t),Ye(e,t))}function fe(e,t,n){if(e.tag===3)Af(e,e,n);else for(;t!==null;){if(t.tag===3){Af(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bn===null||!Bn.has(r))){e=mi(n,e),e=w0(t,e,1),t=Fn(t,e,1),e=Fe(),t!==null&&(Gs(t,1,e),Ye(t,e));break}}t=t.return}}function J1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Fe(),e.pingedLanes|=e.suspendedLanes&n,Ce===e&&(Te&n)===n&&(_e===4||_e===3&&(Te&130023424)===Te&&500>pe()-Fd?cr(e,0):zd|=n),Ye(e,t)}function z0(e,t){t===0&&(e.mode&1?(t=go,go<<=1,!(go&130023424)&&(go=4194304)):t=1);var n=Fe();e=cn(e,t),e!==null&&(Gs(e,t,n),Ye(e,n))}function Y1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),z0(e,n)}function X1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),z0(e,n)}var F0;F0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Ge=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ge=!1,z1(e,t,n);Ge=!!(e.flags&131072)}else Ge=!1,ue&&t.flags&1048576&&Hg(t,xa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qo(e,t),e=t.pendingProps;var i=hi(t,Ae.current);ii(t,n),i=Ld(null,t,r,e,i,n);var s=Dd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Je(r)?(s=!0,wa(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Td(t),i.updater=rl,t.stateNode=i,i._reactInternals=t,tc(t,r,e,n),t=ic(null,t,r,!0,s,n)):(t.tag=0,ue&&s&&xd(t),Me(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qo(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=ew(r),e=bt(r,e),i){case 0:t=rc(null,t,r,e,n);break e;case 1:t=Ef(null,t,r,e,n);break e;case 11:t=Sf(null,t,r,e,n);break e;case 14:t=Cf(null,t,r,bt(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bt(r,i),rc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bt(r,i),Ef(e,t,r,i,n);case 3:e:{if(k0(t),e===null)throw Error(T(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Jg(e,t),Sa(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=mi(Error(T(423)),t),t=jf(e,t,r,n,i);break e}else if(r!==i){i=mi(Error(T(424)),t),t=jf(e,t,r,n,i);break e}else for(st=zn(t.stateNode.containerInfo.firstChild),at=t,ue=!0,Ct=null,n=Gg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fi(),r===i){t=dn(e,t,n);break e}Me(e,t,r,n)}t=t.child}return t;case 5:return Yg(t),e===null&&Xu(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Wu(r,i)?o=null:s!==null&&Wu(r,s)&&(t.flags|=32),b0(e,t),Me(e,t,o,n),t.child;case 6:return e===null&&Xu(t),null;case 13:return S0(e,t,n);case 4:return Pd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=pi(t,null,r,n):Me(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bt(r,i),Sf(e,t,r,i,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ie(ba,r._currentValue),r._currentValue=o,s!==null)if(Pt(s.value,o)){if(s.children===i.children&&!Qe.current){t=dn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=sn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Zu(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Zu(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Me(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ii(t,n),i=wt(i),r=r(i),t.flags|=1,Me(e,t,r,n),t.child;case 14:return r=t.type,i=bt(r,t.pendingProps),i=bt(r.type,i),Cf(e,t,r,i,n);case 15:return _0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bt(r,i),Qo(e,t),t.tag=1,Je(r)?(e=!0,wa(t)):e=!1,ii(t,n),v0(t,r,i),tc(t,r,i,n),ic(null,t,r,!0,e,n);case 19:return C0(e,t,n);case 22:return x0(e,t,n)}throw Error(T(156,t.tag))};function B0(e,t){return pg(e,t)}function Z1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,r){return new Z1(e,t,n,r)}function Hd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ew(e){if(typeof e=="function")return Hd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ud)return 11;if(e===cd)return 14}return 2}function Vn(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xo(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Hd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ur:return dr(n.children,i,s,t);case ld:o=8,i|=8;break;case Cu:return e=mt(12,n,t,i|2),e.elementType=Cu,e.lanes=s,e;case Eu:return e=mt(13,n,t,i),e.elementType=Eu,e.lanes=s,e;case ju:return e=mt(19,n,t,i),e.elementType=ju,e.lanes=s,e;case Yp:return ol(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qp:o=10;break e;case Jp:o=9;break e;case ud:o=11;break e;case cd:o=14;break e;case Sn:o=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=mt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function dr(e,t,n,r){return e=mt(7,e,r,t),e.lanes=n,e}function ol(e,t,n,r){return e=mt(22,e,r,t),e.elementType=Yp,e.lanes=n,e.stateNode={isHidden:!1},e}function tu(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function nu(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tw(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kd(e,t,n,r,i,s,o,a,l){return e=new tw(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=mt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Td(s),e}function nw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Br,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function U0(e){if(!e)return Kn;e=e._reactInternals;e:{if(Sr(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(Je(n))return Ug(e,n,t)}return t}function V0(e,t,n,r,i,s,o,a,l){return e=Kd(n,r,!0,e,i,s,o,a,l),e.context=U0(null),n=e.current,r=Fe(),i=Un(n),s=sn(r,i),s.callback=t??null,Fn(n,s,i),e.current.lanes=i,Gs(e,i,r),Ye(e,r),e}function al(e,t,n,r){var i=t.current,s=Fe(),o=Un(i);return n=U0(n),t.context===null?t.context=n:t.pendingContext=n,t=sn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Fn(i,t,o),e!==null&&(jt(e,i,o,s),qo(e,i,o)),o}function Ra(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $f(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qd(e,t){$f(e,t),(e=e.alternate)&&$f(e,t)}var H0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wd(e){this._internalRoot=e}ll.prototype.render=Wd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));al(e,t,null,null)};ll.prototype.unmount=Wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wr(function(){al(null,e,null,null)}),t[un]=null}};function ll(e){this._internalRoot=e}ll.prototype.unstable_scheduleHydration=function(e){if(e){var t=xg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pn.length&&t!==0&&t<Pn[n].priority;n++);Pn.splice(n,0,e),n===0&&kg(e)}};function Gd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ul(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mf(){}function rw(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ra(o);s.call(u)}}var o=V0(t,r,e,0,null,!1,!1,"",Mf);return e._reactRootContainer=o,e[un]=o.current,Es(e.nodeType===8?e.parentNode:e),wr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ra(l);a.call(u)}}var l=Kd(e,0,!1,null,null,!1,!1,"",Mf);return e._reactRootContainer=l,e[un]=l.current,Es(e.nodeType===8?e.parentNode:e),wr(function(){al(t,l,n,r)}),l}function cl(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ra(o);a.call(l)}}al(t,o,e,i)}else o=rw(n,t,e,i,r);return Ra(o)}wg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Wi(t.pendingLanes);n!==0&&(fd(t,n|1),Ye(t,pe()),!(G&6)&&(vi=pe()+500,Yn()))}break;case 13:wr(function(){var r=cn(e,1);if(r!==null){var i=Fe();jt(r,e,1,i)}}),qd(e,1)}};pd=function(e){if(e.tag===13){var t=cn(e,134217728);if(t!==null){var n=Fe();jt(t,e,134217728,n)}qd(e,134217728)}};_g=function(e){if(e.tag===13){var t=Un(e),n=cn(e,t);if(n!==null){var r=Fe();jt(n,e,t,r)}qd(e,t)}};xg=function(){return Y};bg=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};$u=function(e,t,n){switch(t){case"input":if(Ou(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=el(r);if(!i)throw Error(T(90));Zp(r),Ou(r,i)}}}break;case"textarea":tg(e,n);break;case"select":t=n.value,t!=null&&ei(e,!!n.multiple,t,!1)}};lg=Bd;ug=wr;var iw={usingClientEntryPoint:!1,Events:[Js,qr,el,og,ag,Bd]},Ui={findFiberByHostInstance:sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sw={bundleType:Ui.bundleType,version:Ui.version,rendererPackageName:Ui.rendererPackageName,rendererConfig:Ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hg(e),e===null?null:e.stateNode},findFiberByHostInstance:Ui.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eo.isDisabled&&Eo.supportsFiber)try{Ja=Eo.inject(sw),zt=Eo}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iw;ct.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gd(t))throw Error(T(200));return nw(e,t,null,n)};ct.createRoot=function(e,t){if(!Gd(e))throw Error(T(299));var n=!1,r="",i=H0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Kd(e,1,!1,null,null,n,!1,r,i),e[un]=t.current,Es(e.nodeType===8?e.parentNode:e),new Wd(t)};ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=hg(t),e=e===null?null:e.stateNode,e};ct.flushSync=function(e){return wr(e)};ct.hydrate=function(e,t,n){if(!ul(t))throw Error(T(200));return cl(null,e,t,!0,n)};ct.hydrateRoot=function(e,t,n){if(!Gd(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=H0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=V0(t,null,e,1,n??null,i,!1,s,o),e[un]=t.current,Es(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ll(t)};ct.render=function(e,t,n){if(!ul(t))throw Error(T(200));return cl(null,e,t,!1,n)};ct.unmountComponentAtNode=function(e){if(!ul(e))throw Error(T(40));return e._reactRootContainer?(wr(function(){cl(null,null,e,!1,function(){e._reactRootContainer=null,e[un]=null})}),!0):!1};ct.unstable_batchedUpdates=Bd;ct.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ul(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return cl(e,t,n,!1,r)};ct.version="18.3.1-next-f1338f8080-20240426";function K0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K0)}catch(e){console.error(e)}}K0(),Kp.exports=ct;var Zr=Kp.exports,zf=Zr;ku.createRoot=zf.createRoot,ku.hydrateRoot=zf.hydrateRoot;var q0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ff=B.createContext&&B.createContext(q0),ow=["attr","size","title"];function aw(e,t){if(e==null)return{};var n=lw(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lw(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},La.apply(this,arguments)}function Bf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Da(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bf(Object(n),!0).forEach(function(r){uw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uw(e,t,n){return t=cw(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cw(e){var t=dw(e,"string");return typeof t=="symbol"?t:t+""}function dw(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W0(e){return e&&e.map((t,n)=>B.createElement(t.tag,Da({key:n},t.attr),W0(t.child)))}function te(e){return t=>B.createElement(hw,La({attr:Da({},e.attr)},t),W0(e.child))}function hw(e){var t=n=>{var{attr:r,size:i,title:s}=e,o=aw(e,ow),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),B.createElement("svg",La({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Da(Da({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&B.createElement("title",null,s),e.children)};return Ff!==void 0?B.createElement(Ff.Consumer,null,n=>t(n)):t(q0)}function G0(e){return te({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function fw(e){return te({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function pw(e){return te({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function gw(e){return te({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(e)}function mw(e){return te({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function vw(e){return te({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function dl(e){return te({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function yw(e){return te({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}const ww="modulepreload",_w=function(e){return"/"+e},Uf={},_r=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=_w(l),l in Uf)return;Uf[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":ww,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},xw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>_r(async()=>{const{default:r}=await Promise.resolve().then(()=>ki);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Qd extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class bw extends Qd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kw extends Qd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Sw extends Qd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var mc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(mc||(mc={}));var Cw=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Ew{constructor(t,{headers:n={},customFetch:r,region:i=mc.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=xw(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Cw(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(v=>{throw new bw(v)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new kw(c);if(!c.ok)throw new Sw(c);let h=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield c.json():h==="application/octet-stream"?f=yield c.blob():h==="text/event-stream"?f=c:h==="multipart/form-data"?f=yield c.formData():f=yield c.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var We={},Jd={},hl={},Xs={},fl={},pl={},jw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yi=jw();const Tw=yi.fetch,Q0=yi.fetch.bind(yi),J0=yi.Headers,Pw=yi.Request,Ow=yi.Response,ki=Object.freeze(Object.defineProperty({__proto__:null,Headers:J0,Request:Pw,Response:Ow,default:Q0,fetch:Tw},Symbol.toStringTag,{value:"Module"})),Nw=Iv(ki);var gl={};Object.defineProperty(gl,"__esModule",{value:!0});let Rw=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};gl.default=Rw;var Y0=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pl,"__esModule",{value:!0});const Lw=Y0(Nw),Dw=Y0(gl);let Iw=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Lw.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let u=null,c=null,d=null,h=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){const p=await s.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=p:c=JSON.parse(p))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,h=406,f="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const m=await s.text();try{u=JSON.parse(m),Array.isArray(u)&&s.status===404&&(c=[],u=null,h=200,f="OK")}catch{s.status===404&&m===""?(h=204,f="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,f="OK"),u&&this.shouldThrowOnError)throw new Dw.default(u)}return{error:u,data:c,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};pl.default=Iw;var Aw=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fl,"__esModule",{value:!0});const $w=Aw(pl);let Mw=class extends $w.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};fl.default=Mw;var zw=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xs,"__esModule",{value:!0});const Fw=zw(fl);let Bw=class extends Fw.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Xs.default=Bw;var Uw=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hl,"__esModule",{value:!0});const Vi=Uw(Xs);let Vw=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Vi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Vi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Vi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Vi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Vi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};hl.default=Vw;var ml={},vl={};Object.defineProperty(vl,"__esModule",{value:!0});vl.version=void 0;vl.version="0.0.0-automated";Object.defineProperty(ml,"__esModule",{value:!0});ml.DEFAULT_HEADERS=void 0;const Hw=vl;ml.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Hw.version}`};var X0=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jd,"__esModule",{value:!0});const Kw=X0(hl),qw=X0(Xs),Ww=ml;let Gw=class Z0{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},Ww.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new Kw.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Z0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{a.searchParams.append(c,d)})):(o="POST",l=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new qw.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Jd.default=Gw;var Si=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(We,"__esModule",{value:!0});We.PostgrestError=We.PostgrestBuilder=We.PostgrestTransformBuilder=We.PostgrestFilterBuilder=We.PostgrestQueryBuilder=We.PostgrestClient=void 0;const em=Si(Jd);We.PostgrestClient=em.default;const tm=Si(hl);We.PostgrestQueryBuilder=tm.default;const nm=Si(Xs);We.PostgrestFilterBuilder=nm.default;const rm=Si(fl);We.PostgrestTransformBuilder=rm.default;const im=Si(pl);We.PostgrestBuilder=im.default;const sm=Si(gl);We.PostgrestError=sm.default;var Qw=We.default={PostgrestClient:em.default,PostgrestQueryBuilder:tm.default,PostgrestFilterBuilder:nm.default,PostgrestTransformBuilder:rm.default,PostgrestBuilder:im.default,PostgrestError:sm.default};const{PostgrestClient:Jw,PostgrestQueryBuilder:lS,PostgrestFilterBuilder:uS,PostgrestTransformBuilder:cS,PostgrestBuilder:dS,PostgrestError:hS}=Qw,Yw="2.11.2",Xw={"X-Client-Info":`realtime-js/${Yw}`},Zw="1.0.0",om=1e4,e_=1e3;var oi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(oi||(oi={}));var rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rt||(rt={}));var St;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(St||(St={}));var vc;(function(e){e.websocket="websocket"})(vc||(vc={}));var ir;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ir||(ir={}));class t_{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class am{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(re||(re={}));const Vf=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=n_(o,e,t,i),s),{})},n_=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?lm(s,o):yc(o)},lm=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return o_(t,n)}switch(e){case re.bool:return r_(t);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return i_(t);case re.json:case re.jsonb:return s_(t);case re.timestamp:return a_(t);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return yc(t);default:return yc(t)}},yc=e=>e,r_=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},i_=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},s_=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},o_=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>lm(t,a))}return e},a_=e=>typeof e=="string"?e.replace(" ","T"):e,um=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ru{constructor(t,n,r={},i=om){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Hf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Hf||(Hf={}));class as{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=as.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=as.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=as.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=s[u];if(d){const h=c.map(w=>w.presence_ref),f=d.map(w=>w.presence_ref),v=c.filter(w=>f.indexOf(w.presence_ref)<0),m=d.filter(w=>h.indexOf(w.presence_ref)<0);v.length>0&&(a[u]=v),m.length>0&&(l[u]=m)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(f=>f.presence_ref),h=c.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,i(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Kf||(Kf={}));var qf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(qf||(qf={}));var Jt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Jt||(Jt={}));class Yd{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ru(this,St.join,this.params,this.timeout),this.rejoinTimer=new am(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(St.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new as(this),this.broadcastEndpointURL=um(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(c=>t==null?void 0:t(Jt.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(Jt.CLOSED));const l={},u={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){t==null||t(Jt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,v=[];for(let m=0;m<f;m++){const w=h[m],{filter:{event:p,schema:g,table:y,filter:x}}=w,b=c&&c[m];if(b&&b.event===p&&b.schema===g&&b.table===y&&b.filter===x)v.push(Object.assign(Object.assign({},w),{id:b.id}));else{this.unsubscribe(),t==null||t(Jt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Jt.SUBSCRIBED);return}}).receive("error",c=>{t==null||t(Jt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Jt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(St.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new ru(this,St.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ru(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=St;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var v,m,w;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(m=f.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var v,m,w,p,g,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const x=f.id,b=(v=f.filter)===null||v===void 0?void 0:v.event;return x&&((m=n.ids)===null||m===void 0?void 0:m.includes(x))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const x=(g=(p=f==null?void 0:f.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return x==="*"||x===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:m,table:w,commit_timestamp:p,type:g,errors:y}=v;h=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:p,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(v))}f.callback(h,r)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Yd.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(St.close,{},t)}_onError(t){this._on(St.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Vf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Vf(t.columns,t.old_record)),n}}const l_=()=>{},u_=typeof WebSocket<"u",c_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class d_{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Xw,this.params={},this.timeout=om,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=l_,this.conn=null,this.sendBuffer=[],this.serializer=new t_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>_r(async()=>{const{default:l}=await Promise.resolve().then(()=>ki);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${vc.websocket}`,this.httpEndpoint=um(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new am(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(u_){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new h_(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),_r(async()=>{const{default:t}=await import("./browser-B0cSLyBv.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Zw}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case oi.connecting:return ir.Connecting;case oi.open:return ir.Open;case oi.closing:return ir.Closing;default:return ir.Closed}}isConnected(){return this.connectionState()===ir.Open}channel(t,n={config:{}}){const r=new Yd(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(St.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(e_,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(St.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([c_],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class h_{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=oi.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Xd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function be(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class f_ extends Xd{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class wc extends Xd{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var p_=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const cm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>_r(async()=>{const{default:r}=await Promise.resolve().then(()=>ki);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},g_=()=>p_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _r(()=>Promise.resolve().then(()=>ki),void 0)).Response:Response}),_c=e=>{if(Array.isArray(e))return e.map(n=>_c(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=_c(r)}),t};var Cr=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const iu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),m_=(e,t,n)=>Cr(void 0,void 0,void 0,function*(){const r=yield g_();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new f_(iu(i),e.status||500))}).catch(i=>{t(new wc(iu(i),i))}):t(new wc(iu(e),e))}),v_=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Zs(e,t,n,r,i,s){return Cr(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,v_(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>m_(l,a,r))})})}function Ia(e,t,n,r){return Cr(this,void 0,void 0,function*(){return Zs(e,"GET",t,n,r)})}function En(e,t,n,r,i){return Cr(this,void 0,void 0,function*(){return Zs(e,"POST",t,r,i,n)})}function y_(e,t,n,r,i){return Cr(this,void 0,void 0,function*(){return Zs(e,"PUT",t,r,i,n)})}function w_(e,t,n,r){return Cr(this,void 0,void 0,function*(){return Zs(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function dm(e,t,n,r,i){return Cr(this,void 0,void 0,function*(){return Zs(e,"DELETE",t,r,i,n)})}var Ke=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const __={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class x_{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=cm(i)}uploadOrUpdate(t,n,r,i){return Ke(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Wf),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(be(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ke(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Wf.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),h=yield d.json();return d.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(be(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Ke(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield En(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Xd("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ke(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ke(this,void 0,void 0,function*(){try{return{data:{path:(yield En(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ke(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield En(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ke(this,void 0,void 0,function*(){try{const i=yield En(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}})}download(t,n){return Ke(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Ia(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(be(a))return{data:null,error:a};throw a}})}info(t){return Ke(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ia(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:_c(r),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}exists(t){return Ke(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield w_(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(be(r)&&r instanceof wc){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield dm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ke(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},__),n),{prefix:t||""});return{data:yield En(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const b_="2.7.1",k_={"X-Client-Info":`storage-js/${b_}`};var Dr=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class S_{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},k_),n),this.fetch=cm(r)}listBuckets(){return Dr(this,void 0,void 0,function*(){try{return{data:yield Ia(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(be(t))return{data:null,error:t};throw t}})}getBucket(t){return Dr(this,void 0,void 0,function*(){try{return{data:yield Ia(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Dr(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Dr(this,void 0,void 0,function*(){try{return{data:yield y_(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Dr(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Dr(this,void 0,void 0,function*(){try{return{data:yield dm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}}class C_ extends S_{constructor(t,n={},r){super(t,n,r)}from(t){return new x_(this.url,this.headers,t,this.fetch)}}const E_="2.49.8";let Qi="";typeof Deno<"u"?Qi="deno":typeof document<"u"?Qi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qi="react-native":Qi="node";const j_={"X-Client-Info":`supabase-js-${Qi}/${E_}`},T_={headers:j_},P_={schema:"public"},O_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},N_={};var R_=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const L_=e=>{let t;return e?t=e:typeof fetch>"u"?t=Q0:t=fetch,(...n)=>t(...n)},D_=()=>typeof Headers>"u"?J0:Headers,I_=(e,t,n)=>{const r=L_(n),i=D_();return(s,o)=>R_(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var A_=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function $_(e){return e.endsWith("/")?e:e+"/"}function M_(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>A_(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const hm="2.69.1",zr=30*1e3,xc=3,su=xc*zr,z_="http://localhost:9999",F_="supabase.auth.token",B_={"X-Client-Info":`gotrue-js/${hm}`},bc="X-Supabase-Api-Version",fm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},U_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,V_=6e5;class Zd extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function V(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class H_ extends Zd{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function K_(e){return V(e)&&e.name==="AuthApiError"}class pm extends Zd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Xn extends Zd{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class xn extends Xn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function q_(e){return V(e)&&e.name==="AuthSessionMissingError"}class ou extends Xn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jo extends Xn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class To extends Xn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function W_(e){return V(e)&&e.name==="AuthImplicitGrantRedirectError"}class Gf extends Xn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kc extends Xn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function au(e){return V(e)&&e.name==="AuthRetryableFetchError"}class Qf extends Xn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ls extends Xn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yf=` 	
\r=`.split(""),G_=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Yf.length;t+=1)e[Yf[t].charCodeAt(0)]=-2;for(let t=0;t<Jf.length;t+=1)e[Jf[t].charCodeAt(0)]=t;return e})();function gm(e,t,n){const r=G_[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Xf(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Y_(o,r,n)};for(let o=0;o<e.length;o+=1)gm(e.charCodeAt(o),i,s);return t.join("")}function Q_(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function J_(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Q_(r,t)}}function Y_(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function X_(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)gm(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Z_(e){const t=[];return J_(e,n=>t.push(n)),new Uint8Array(t)}function ex(e){return Math.round(Date.now()/1e3)+e}function tx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const It=()=>typeof window<"u"&&typeof document<"u",Zn={tested:!1,writable:!1},us=()=>{if(!It())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zn.tested)return Zn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Zn.tested=!0,Zn.writable=!0}catch{Zn.tested=!0,Zn.writable=!1}return Zn.writable};function nx(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const mm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>_r(async()=>{const{default:r}=await Promise.resolve().then(()=>ki);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},rx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",vm=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Po=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Oo=async(e,t)=>{await e.removeItem(t)};class yl{constructor(){this.promise=new yl.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}yl.promiseConstructor=Promise;function lu(e){const t=e.split(".");if(t.length!==3)throw new ls("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!U_.test(t[r]))throw new ls("JWT not in base64url format");return{header:JSON.parse(Xf(t[0])),payload:JSON.parse(Xf(t[1])),signature:X_(t[2]),raw:{header:t[0],payload:t[1]}}}async function ix(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function sx(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function ox(e){return("0"+e.toString(16)).substr(-2)}function ax(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,ox).join("")}async function lx(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function ux(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await lx(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ir(e,t,n=!1){const r=ax();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await vm(e,`${t}-code-verifier`,i);const s=await ux(r);return[s,r===s?"plain":"s256"]}const cx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dx(e){const t=e.headers.get(bc);if(!t||!t.match(cx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function hx(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function fx(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var px=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const rr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gx=[502,503,504];async function Zf(e){var t;if(!rx(e))throw new kc(rr(e),0);if(gx.includes(e.status))throw new kc(rr(e),e.status);let n;try{n=await e.json()}catch(s){throw new pm(rr(s),s)}let r;const i=dx(e);if(i&&i.getTime()>=fm["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Qf(rr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new xn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Qf(rr(n),e.status,n.weak_password.reasons);throw new H_(rr(n),e.status||500,r)}const mx=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function K(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[bc]||(s[bc]=fm["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await vx(e,t,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function vx(e,t,n,r,i,s){const o=mx(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new kc(rr(l),0)}if(a.ok||await Zf(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Zf(l)}}function bn(e){var t;let n=null;xx(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=ex(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function ep(e){const t=bn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Nn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function yx(e){return{data:e,error:null}}function wx(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=px(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function _x(e){return e}function xx(e){return e.access_token&&e.refresh_token&&e.expires_in}var bx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class kx{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=mm(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Nn})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=bx(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:wx,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(V(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Nn})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:_x});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(V(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await K(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Nn})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Nn})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Nn})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await K(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(V(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}}const Sx={getItem:e=>us()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{us()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{us()&&globalThis.localStorage.removeItem(e)}};function tp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Cx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ar={debug:!!(globalThis&&us()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ym extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Ex extends ym{}async function jx(e,t,n){Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ex(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ar.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Cx();const Tx={url:z_,storageKey:F_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:B_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function np(e,t,n){return await n()}class Is{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Is.nextInstanceID,Is.nextInstanceID+=1,this.instanceID>0&&It()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Tx),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new kx({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=mm(i.fetch),this.lock=i.lock||np,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:It()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=jx:this.lock=np,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:us()?this.storage=Sx:(this.memoryStorage={},this.storage=tp(this.memoryStorage)):(this.memoryStorage={},this.storage=tp(this.memoryStorage)),It()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=nx(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),It()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),W_(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return V(n)?{error:n}:{error:new pm("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:bn}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:c,password:d,options:h}=t;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await Ir(this.storage,this.storageKey)),s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:v},xform:bn})}else if("phone"in t){const{phone:c,password:d,options:h}=t;s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:bn})}else throw new jo("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ep})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ep})}else throw new jo("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ou}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Po(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:bn});if(await Oo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ou}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(V(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:bn}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ou}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Ir(this.storage,this.storageKey));const{error:d}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new jo("You must provide either an email or phone number.")}catch(a){if(V(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:bn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Ir(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:yx})}catch(s){if(V(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new xn;const{error:i}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(V(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await K(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await K(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new jo("You must provide either an email or phone number and a type")}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Po(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<su:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Nn}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xn}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Nn})})}catch(n){if(V(n))return q_(n)&&(await this._removeSession(),await Oo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new xn;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Ir(this.storage,this.storageKey));const{data:u,error:c}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Nn});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xn;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=lu(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(V(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new xn;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!It())throw new To("No browser detected.");if(t.error||t.error_description||t.error_code)throw new To(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Gf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new To("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Gf("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!s||!a||!o||!u)throw new To("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const f=h-c;f*1e3<=zr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:m,error:w}=await this._getUser(s);if(w)throw w;const p={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(r){if(V(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Po(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(K_(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Oo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=tx(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ir(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(V(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:d,error:h}=s;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return It()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(V(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await sx(async i=>(i>0&&await ix(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:bn})),(i,s)=>{const o=200*Math.pow(2,i);return s&&au(s)&&Date.now()+o-r<zr})}catch(r){if(this._debug(n,"error",r),V(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),It()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Po(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<su;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${su}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),au(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new xn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new yl;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new xn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),V(s)){const o={session:null,error:s};return au(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await vm(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Oo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&It()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),zr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/zr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${zr}ms, refresh threshold is ${xc} ticks`),i<=xc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ym)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!It()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Ir(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await K(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await K(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=lu(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+V_>Date.now()))return r;const{data:i,error:s}=await K(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new ls("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===t),!r)throw new ls("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:f,error:v}=await this.getSession();if(v||!f.session)return{data:null,error:v};r=f.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=lu(r);if(hx(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:s,header:i,signature:o},error:null}}const u=fx(i.alg),c=await this.fetchJwk(i.kid,n),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,Z_(`${a}.${l}`)))throw new ls("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}}Is.nextInstanceID=0;const Px=Is;class Ox extends Px{constructor(t){super(t)}}var Nx=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Rx{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=$_(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:P_,realtime:N_,auth:Object.assign(Object.assign({},O_),{storageKey:u}),global:T_},d=M_(r??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=I_(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Jw(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Ew(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new C_(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Nx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ox({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new d_(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Lx=(e,t,n)=>new Rx(e,t,n),Dx="https://omofhinxsemblplvffrr.supabase.co",Ix="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9tb2ZoaW54c2VtYmxwbHZmZnJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3OTU4NzcsImV4cCI6MjA3NTM3MTg3N30.m5yFW8UncIw5HyXRGlPvrYJpt1AIjSvarp_fsqRK4lA",Z=Lx(Dx,Ix),wm=k.createContext(void 0);function Ax({children:e}){const[t,n]=k.useState(null),[r,i]=k.useState(null),[s,o]=k.useState(!0);k.useEffect(()=>{Z.auth.getSession().then(({data:{session:u}})=>{i(u),n((u==null?void 0:u.user)??null),o(!1)});const{data:{subscription:l}}=Z.auth.onAuthStateChange((u,c)=>{(async()=>(i(c),n((c==null?void 0:c.user)??null),o(!1)))()});return()=>l.unsubscribe()},[]);const a=async()=>{await Z.auth.signOut()};return _.jsx(wm.Provider,{value:{user:t,session:r,loading:s,signOut:a},children:e})}function eo(){const e=k.useContext(wm);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function eh(){const{user:e}=eo(),[t,n]=k.useState([]),[r,i]=k.useState(!0);k.useEffect(()=>{s()},[]);const s=async()=>{try{i(!0);const{data:l,error:u}=await Z.from("categories").select("*").order("name");if(u)throw u;n((l||[]).map(c=>c.name))}catch(l){console.error("Erro ao buscar categorias:",l)}finally{i(!1)}};return{groups:t,loading:r,addGroup:async l=>{try{if(!e)throw new Error("Usurio no autenticado");const{error:u}=await Z.from("categories").insert([{name:l,user_id:e.id}]);if(u)throw u.code==="23505"?new Error("Esta categoria j existe"):u;await s()}catch(u){throw console.error("Erro ao adicionar categoria:",u),u}},removeGroup:async l=>{try{const{error:u}=await Z.from("categories").delete().eq("name",l);if(u)throw u;await s()}catch(u){throw console.error("Erro ao remover categoria:",u),u}},fetchGroups:s}}function wl(){const{user:e}=eo(),[t,n]=k.useState([]),[r,i]=k.useState(!0);k.useEffect(()=>{s()},[]);const s=async()=>{try{i(!0);const{data:u,error:c}=await Z.from("suggestions").select("*").order("name");if(c)throw c;n((u||[]).map(d=>d.name))}catch(u){console.error("Erro ao buscar sugestes:",u)}finally{i(!1)}};return{suggestions:t,loading:r,addSuggestion:async u=>{try{if(!e)throw new Error("Usurio no autenticado");const{error:c}=await Z.from("suggestions").insert([{name:u,user_id:e.id}]);if(c)throw c.code==="23505"?new Error("Esta sugesto j existe"):c;await s()}catch(c){throw console.error("Erro ao adicionar sugesto:",c),c}},removeSuggestion:async u=>{try{const{error:c}=await Z.from("suggestions").delete().eq("name",u);if(c)throw c;await s()}catch(c){throw console.error("Erro ao remover sugesto:",c),c}},filterSuggestions:u=>{if(!u.trim())return[];const c=u.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return t.filter(d=>d.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(c))},fetchSuggestions:s}}function $x(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9999 13.1714L16.9497 8.22168L18.3639 9.63589L11.9999 15.9999L5.63599 9.63589L7.0502 8.22168L11.9999 13.1714Z"},child:[]}]})(e)}function Mx(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11 11V5.82843L9.17157 7.65685L7.75736 6.24264L12 2L16.2426 6.24264L14.8284 7.65685L13 5.82843V11H18.1716L16.3431 9.17157L17.7574 7.75736L22 12L17.7574 16.2426L16.3431 14.8284L18.1716 13H13V18.1716L14.8284 16.3431L16.2426 17.7574L12 22L7.75736 17.7574L9.17157 16.3431L11 18.1716V13H5.82843L7.65685 14.8284L6.24264 16.2426L2 12L6.24264 7.75736L7.65685 9.17157L5.82843 11H11Z"},child:[]}]})(e)}function zx(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M19 21H5C4.44772 21 4 20.5523 4 20V11L1 11L11.3273 1.6115C11.7087 1.26475 12.2913 1.26475 12.6727 1.6115L23 11L20 11V20C20 20.5523 19.5523 21 19 21ZM13 19H18V9.15745L12 3.7029L6 9.15745V19H11V13H13V19Z"},child:[]}]})(e)}function _m(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 2H20C20.5523 2 21 2.44772 21 3V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V3C3 2.44772 3.44772 2 4 2ZM5 4V20H19V4H5ZM7 6H17V10H7V6ZM7 12H9V14H7V12ZM7 16H9V18H7V16ZM11 12H13V14H11V12ZM11 16H13V18H11V16ZM15 12H17V18H15V12Z"},child:[]}]})(e)}function Fx(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15.4565 9.67503L15.3144 9.53297C14.6661 8.90796 13.8549 8.43369 12.9235 8.18412C10.0168 7.40527 7.22541 9.05273 6.43185 12.0143C6.38901 12.1742 6.36574 12.3537 6.3285 12.8051C6.17423 14.6752 5.73449 16.0697 4.5286 17.4842C6.78847 18.3727 9.46572 18.9986 11.5016 18.9986C13.9702 18.9986 16.1644 17.3394 16.8126 14.9202C17.3306 12.9869 16.7513 11.0181 15.4565 9.67503ZM13.2886 6.21301L18.2278 2.37142C18.6259 2.0618 19.1922 2.09706 19.5488 2.45367L22.543 5.44787C22.8997 5.80448 22.9349 6.37082 22.6253 6.76891L18.7847 11.7068C19.0778 12.8951 19.0836 14.1721 18.7444 15.4379C17.8463 18.7897 14.8142 20.9986 11.5016 20.9986C8 20.9986 3.5 19.4967 1 17.9967C4.97978 14.9967 4.04722 13.1865 4.5 11.4967C5.55843 7.54658 9.34224 5.23935 13.2886 6.21301ZM16.7015 8.09161C16.7673 8.15506 16.8319 8.21964 16.8952 8.28533L18.0297 9.41984L20.5046 6.23786L18.7589 4.4921L15.5769 6.96698L16.7015 8.09161Z"},child:[]}]})(e)}function Bx(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6.41421 15.89L16.5563 5.74785L15.1421 4.33363L5 14.4758V15.89H6.41421ZM7.24264 17.89H3V13.6473L14.435 2.21231C14.8256 1.82179 15.4587 1.82179 15.8492 2.21231L18.6777 5.04074C19.0682 5.43126 19.0682 6.06443 18.6777 6.45495L7.24264 17.89ZM3 19.89H21V21.89H3V19.89Z"},child:[]}]})(e)}function Ux(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z"},child:[]}]})(e)}function Vx(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 22H4C3.44772 22 3 21.5523 3 21V3C3 2.44772 3.44772 2 4 2H20C20.5523 2 21 2.44772 21 3V21C21 21.5523 20.5523 22 20 22ZM19 20V4H5V20H19ZM8 7H16V9H8V7ZM8 11H16V13H8V11ZM8 15H16V17H8V15Z"},child:[]}]})(e)}function Hx(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.25361 18.4944L7.97834 18.917C9.18909 19.623 10.5651 20 12.001 20C16.4193 20 20.001 16.4183 20.001 12C20.001 7.58172 16.4193 4 12.001 4C7.5827 4 4.00098 7.58172 4.00098 12C4.00098 13.4363 4.37821 14.8128 5.08466 16.0238L5.50704 16.7478L4.85355 19.1494L7.25361 18.4944ZM2.00516 22L3.35712 17.0315C2.49494 15.5536 2.00098 13.8345 2.00098 12C2.00098 6.47715 6.47813 2 12.001 2C17.5238 2 22.001 6.47715 22.001 12C22.001 17.5228 17.5238 22 12.001 22C10.1671 22 8.44851 21.5064 6.97086 20.6447L2.00516 22ZM8.39232 7.30833C8.5262 7.29892 8.66053 7.29748 8.79459 7.30402C8.84875 7.30758 8.90265 7.31384 8.95659 7.32007C9.11585 7.33846 9.29098 7.43545 9.34986 7.56894C9.64818 8.24536 9.93764 8.92565 10.2182 9.60963C10.2801 9.76062 10.2428 9.95633 10.125 10.1457C10.0652 10.2428 9.97128 10.379 9.86248 10.5183C9.74939 10.663 9.50599 10.9291 9.50599 10.9291C9.50599 10.9291 9.40738 11.0473 9.44455 11.1944C9.45903 11.25 9.50521 11.331 9.54708 11.3991C9.57027 11.4368 9.5918 11.4705 9.60577 11.4938C9.86169 11.9211 10.2057 12.3543 10.6259 12.7616C10.7463 12.8783 10.8631 12.9974 10.9887 13.108C11.457 13.5209 11.9868 13.8583 12.559 14.1082L12.5641 14.1105C12.6486 14.1469 12.692 14.1668 12.8157 14.2193C12.8781 14.2457 12.9419 14.2685 13.0074 14.2858C13.0311 14.292 13.0554 14.2955 13.0798 14.2972C13.2415 14.3069 13.335 14.2032 13.3749 14.1555C14.0984 13.279 14.1646 13.2218 14.1696 13.2222V13.2238C14.2647 13.1236 14.4142 13.0888 14.5476 13.097C14.6085 13.1007 14.6691 13.1124 14.7245 13.1377C15.2563 13.3803 16.1258 13.7587 16.1258 13.7587L16.7073 14.0201C16.8047 14.0671 16.8936 14.1778 16.8979 14.2854C16.9005 14.3523 16.9077 14.4603 16.8838 14.6579C16.8525 14.9166 16.7738 15.2281 16.6956 15.3913C16.6406 15.5058 16.5694 15.6074 16.4866 15.6934C16.3743 15.81 16.2909 15.8808 16.1559 15.9814C16.0737 16.0426 16.0311 16.0714 16.0311 16.0714C15.8922 16.159 15.8139 16.2028 15.6484 16.2909C15.391 16.428 15.1066 16.5068 14.8153 16.5218C14.6296 16.5313 14.4444 16.5447 14.2589 16.5347C14.2507 16.5342 13.6907 16.4482 13.6907 16.4482C12.2688 16.0742 10.9538 15.3736 9.85034 14.402C9.62473 14.2034 9.4155 13.9885 9.20194 13.7759C8.31288 12.8908 7.63982 11.9364 7.23169 11.0336C7.03043 10.5884 6.90299 10.1116 6.90098 9.62098C6.89729 9.01405 7.09599 8.4232 7.46569 7.94186C7.53857 7.84697 7.60774 7.74855 7.72709 7.63586C7.85348 7.51651 7.93392 7.45244 8.02057 7.40811C8.13607 7.34902 8.26293 7.31742 8.39232 7.30833Z"},child:[]}]})(e)}function Kx(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"},child:[]}]})(e)}function qx(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"},child:[]}]})(e)}function xm(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9997 10.5865L16.9495 5.63672L18.3637 7.05093L13.4139 12.0007L18.3637 16.9504L16.9495 18.3646L11.9997 13.4149L7.04996 18.3646L5.63574 16.9504L10.5855 12.0007L5.63574 7.05093L7.04996 5.63672L11.9997 10.5865Z"},child:[]}]})(e)}function Wx(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6.53451 3H20.9993C21.5516 3 21.9993 3.44772 21.9993 4V20C21.9993 20.5523 21.5516 21 20.9993 21H6.53451C6.20015 21 5.88792 20.8329 5.70246 20.5547L0.369122 12.5547C0.145189 12.2188 0.145189 11.7812 0.369122 11.4453L5.70246 3.4453C5.88792 3.1671 6.20015 3 6.53451 3ZM7.06969 5L2.40302 12L7.06969 19H19.9993V5H7.06969ZM15.9993 11V13H8.99932V11H15.9993Z"},child:[]}]})(e)}function Gx(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 4V6H15V4H9Z"},child:[]}]})(e)}function Qx({groups:e,selectedGroup:t,onSelectGroup:n,placeholder:r="Selecione um grupo"}){const[i,s]=k.useState(!1),o=a=>{n(a),s(!1)};return _.jsxs(_.Fragment,{children:[_.jsxs("button",{type:"button",onClick:()=>s(!0),className:"w-full px-3 py-2 rounded-lg bg-slate-50 dark:bg-gray-700 border-0 focus:ring-2 focus:ring-violet-500 outline-none text-sm text-left flex items-center justify-between",children:[_.jsx("span",{className:t?"text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400",children:t||r}),_.jsx($x,{size:20,className:"text-gray-400"})]}),i&&_.jsx("div",{className:"fixed inset-0 z-[9999] bg-black bg-opacity-50 flex items-end justify-center animate-fade-in",children:_.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-t-2xl shadow-lg w-full max-h-[80vh] transform transition-transform duration-200 ease-out animate-slide-up",children:[_.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[_.jsx("h3",{className:"text-lg font-medium dark:text-white",children:"Selecionar Grupo"}),_.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:_.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:""})})]}),_.jsx("div",{className:"overflow-y-auto max-h-[60vh] p-4",children:_.jsx("div",{className:"space-y-2",children:e.map(a=>_.jsxs("button",{onClick:()=>o(a),className:`w-full p-3 rounded-lg text-left flex items-center justify-between transition-colors ${t===a?"bg-violet-100 dark:bg-violet-900/20 text-violet-700 dark:text-violet-300":"hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[_.jsx("span",{className:"font-medium",children:a}),t===a&&_.jsx(qx,{size:20,className:"text-violet-600 dark:text-violet-400"})]},a))})}),_.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700",children:_.jsx("button",{onClick:()=>s(!1),className:"w-full py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancelar"})})]})})]})}function Jx({onAdd:e}){const{groups:t}=eh(),{filterSuggestions:n}=wl(),[r,i]=k.useState(""),[s,o]=k.useState(""),[a,l]=k.useState(!1),[u,c]=k.useState([]),d=k.useRef(null);k.useEffect(()=>{c(n(r))},[r]),k.useEffect(()=>{function v(m){d.current&&!d.current.contains(m.target)&&l(!1)}return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const h=v=>{v.preventDefault(),r.trim()&&s.trim()&&(e(r.trim(),s.trim()),i(""))},f=v=>{i(v),l(!1)};return _.jsxs("form",{onSubmit:h,className:"flex flex-col gap-2",children:[_.jsx(Qx,{groups:t,selectedGroup:s,onSelectGroup:o,placeholder:"Selecione um grupo"}),_.jsxs("div",{className:"relative",children:[_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"text",value:r,onChange:v=>{i(v.target.value),l(!0)},onFocus:()=>l(!0),onBlur:()=>{setTimeout(()=>l(!1),150)},placeholder:"Nome do item",className:"flex-1 px-3 py-2 rounded-lg bg-slate-50 dark:bg-gray-700 border-0 focus:ring-2 focus:ring-violet-500 outline-none text-sm dark:text-white dark:placeholder-gray-400",autoComplete:"off",spellCheck:"false"}),_.jsx("button",{type:"submit",className:"bg-gradient-to-r from-violet-600 to-indigo-600 text-white p-2 rounded-lg hover:opacity-90 transition-opacity",disabled:!r.trim()||!s.trim(),children:_.jsx(dl,{size:16})})]}),a&&u.length>0&&_.jsx("div",{ref:d,className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-100 dark:border-gray-700 max-h-60 overflow-y-auto",children:u.map(v=>_.jsx("button",{type:"button",onMouseDown:m=>m.preventDefault(),onClick:()=>f(v),className:"w-full text-left px-3 py-2 hover:bg-slate-50 dark:hover:bg-gray-700 text-sm dark:text-gray-300",children:v},v))})]})]})}const nn=e=>typeof e!="number"?"R$ 0,00":e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});function Yx({isOpen:e,onClose:t,value:n,onChange:r}){const i=l=>{const u=(n+l).replace(/\D/g,"");u.length<=10&&r(u)},s=()=>{const l=n.slice(0,-1)||"0";r(l)},o=()=>{r("0")};if(!e)return null;const a=nn(Number(n)/100);return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-[9999] animate-fade-in",children:_.jsxs("div",{className:"bg-white rounded-t-2xl shadow-lg w-full transform transition-transform duration-200 ease-out animate-slide-up",children:[_.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[_.jsx("span",{className:"text-lg font-medium",children:"Valor"}),_.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:_.jsx(xm,{size:20})})]}),_.jsxs("div",{className:"p-4",children:[_.jsx("div",{className:"bg-slate-50 p-4 rounded-lg mb-4 text-right",children:_.jsx("span",{className:"text-2xl font-medium",children:a})}),_.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[[1,2,3,4,5,6,7,8,9].map(l=>_.jsx("button",{onClick:()=>i(l.toString()),className:"p-4 text-lg font-medium bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:l},l)),_.jsx("button",{onClick:o,className:"p-4 text-lg font-medium bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"C"}),_.jsx("button",{onClick:()=>i("0"),className:"p-4 text-lg font-medium bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:"0"}),_.jsx("button",{onClick:s,className:"p-4 text-lg font-medium bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:_.jsx(Wx,{className:"mx-auto",size:24})})]}),_.jsx("button",{onClick:t,className:"w-full mt-2 p-4 text-lg font-medium bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition-colors",children:"OK"})]})]})})}function Xx({item:e,onToggleComplete:t,onQuantidadeChange:n,onValorChange:r,onDelete:i}){const[s,o]=k.useState(!1),[a,l]=k.useState(Math.round((e.valor||0)*100).toString()),u=c=>{l(c),r(e.id,Number(c)/100)};return _.jsxs("div",{className:`bg-white rounded-lg shadow-sm transition-all ${e.completo?"bg-opacity-75":""}`,children:[_.jsxs("div",{className:"p-3",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_.jsx("button",{onClick:()=>t(e.id),className:`w-6 h-6 rounded-full flex items-center justify-center border-2 transition-colors flex-shrink-0 ${e.completo?"bg-green-500 border-green-500 text-white":"border-gray-300 text-transparent hover:border-green-500"}`,children:_.jsx(G0,{size:12})}),_.jsx("span",{className:`flex-1 text-sm font-medium truncate ${e.completo?"line-through text-gray-400":"text-gray-700"}`,children:e.nome}),_.jsx("button",{onClick:()=>i(e.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:_.jsx(yw,{size:14})})]}),_.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[_.jsxs("div",{className:"flex items-center bg-gray-50 rounded-md border border-gray-100",children:[_.jsx("button",{onClick:()=>n(e.id,Math.max(1,e.quantidade-1)),className:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-violet-600",children:_.jsx(vw,{size:10})}),_.jsx("span",{className:"w-8 text-center font-medium text-gray-700",children:e.quantidade}),_.jsx("button",{onClick:()=>n(e.id,e.quantidade+1),className:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-violet-600",children:_.jsx(dl,{size:10})})]}),_.jsx("span",{className:"text-gray-400",children:""}),_.jsx("button",{onClick:()=>o(!0),className:"w-20 h-8 px-2 text-right text-sm border border-gray-100 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent",children:nn(e.valor)}),_.jsx("span",{className:"text-gray-400",children:"="}),_.jsx("span",{className:"font-medium text-violet-600 ml-auto",children:nn((e.quantidade||0)*(e.valor||0))})]})]}),_.jsx(Yx,{isOpen:s,onClose:()=>o(!1),value:a,onChange:u})]})}function Zx({grupo:e,items:t,onToggleComplete:n,onQuantidadeChange:r,onValorChange:i,onDelete:s,onAdd:o}){const[a,l]=k.useState(!1),[u,c]=k.useState(""),[d,h]=k.useState(!1),{filterSuggestions:f}=wl(),[v,m]=k.useState([]),w=()=>{l(!a)},p=t.reduce((S,C)=>S+C.valor*C.quantidade,0),g=t.length>0&&t.every(S=>S.completo),y=S=>{S.preventDefault(),u.trim()&&(o(u.trim(),e),c(""),m([]))},x=S=>{c(S),m(f(S)),h(!0)},b=S=>{c(S),m([]),h(!1)};return _.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4",children:[_.jsxs("button",{onClick:w,className:"w-full flex items-center justify-between text-sm font-medium text-gray-600 mb-3 px-2 hover:text-gray-700",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[a?_.jsx(fw,{size:12}):_.jsx(pw,{size:12}),_.jsx("span",{children:e}),_.jsxs("span",{className:"text-gray-400 text-sm",children:["(",t.length,")"]}),g&&_.jsx("span",{className:"bg-green-500 text-white p-1 rounded-full",children:_.jsx(G0,{size:10})})]}),_.jsx("span",{className:"text-violet-600 font-medium",children:nn(p)})]}),_.jsxs("div",{className:`space-y-2 ${a?"":"hidden"}`,children:[_.jsxs("form",{onSubmit:y,className:"flex gap-2 mb-4",children:[_.jsxs("div",{className:"relative flex-1",children:[_.jsx("input",{type:"text",value:u,onChange:S=>x(S.target.value),onFocus:()=>h(!0),onBlur:()=>{setTimeout(()=>h(!1),150)},placeholder:"Adicionar item ao grupo",className:"w-full px-3 py-2 rounded-lg bg-slate-50 border-0 focus:ring-2 focus:ring-violet-500 outline-none text-sm",autoComplete:"off",spellCheck:"false"}),d&&v.length>0&&_.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white rounded-lg shadow-lg border border-gray-100 max-h-60 overflow-y-auto",children:v.map(S=>_.jsx("button",{type:"button",onMouseDown:C=>C.preventDefault(),onClick:()=>b(S),className:"w-full text-left px-3 py-2 hover:bg-slate-50 text-sm",children:S},S))})]}),_.jsx("button",{type:"submit",className:"bg-gradient-to-r from-violet-600 to-indigo-600 text-white p-2 rounded-lg hover:opacity-90 transition-opacity",disabled:!u.trim(),children:_.jsx(dl,{size:16})})]}),t.map(S=>_.jsx(Xx,{item:S,onToggleComplete:n,onQuantidadeChange:r,onValorChange:i,onDelete:s},S.id))]})]})}function e2({total:e,className:t=""}){return _.jsx("div",{className:`bg-gradient-to-r from-violet-600 to-indigo-600 rounded-2xl shadow-lg p-6 ${t}`,children:_.jsxs("div",{className:"flex flex-col",children:[_.jsx("h2",{className:"text-xs font-medium text-white/80 mb-1",children:"Total da Lista"}),_.jsx("p",{className:"text-3xl font-bold text-white",children:nn(e)})]})})}function t2({onNavigateToHome:e}){const{groups:t,addGroup:n,removeGroup:r}=eh(),{suggestions:i,addSuggestion:s,removeSuggestion:o}=wl(),[a,l]=k.useState(""),[u,c]=k.useState("categories"),d=f=>{f.preventDefault(),a.trim()&&(u==="categories"?n(a.trim()):s(a.trim()),l(""))},h=[" Hortifruti"," Carnes"," Laticnios"," Padaria"," Mercearia"," Bebidas"," Limpeza"," Higiene"," Congelados"," Cereais"," Massas"," Enlatados"," Temperos"," Doces"," Pet Shop"," Outros"].sort((f,v)=>f.localeCompare(v,"pt",{sensitivity:"base"}));return _.jsx("div",{className:"min-h-screen bg-slate-100 pb-20 hide-scrollbar",children:_.jsxs("div",{className:"container mx-auto max-w-2xl px-4 py-6",children:[_.jsx("div",{className:"flex items-center justify-between mb-6"}),_.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-2 mb-6 flex",children:[_.jsxs("button",{onClick:()=>c("categories"),className:`flex-1 py-2 rounded-xl flex items-center justify-center gap-2 transition-colors ${u==="categories"?"bg-violet-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[_.jsx(gw,{}),_.jsx("span",{children:"Categorias"})]}),_.jsxs("button",{onClick:()=>c("suggestions"),className:`flex-1 py-2 rounded-xl flex items-center justify-center gap-2 transition-colors ${u==="suggestions"?"bg-violet-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[_.jsx(mw,{}),_.jsx("span",{children:"Sugestes"})]})]}),_.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[_.jsxs("form",{onSubmit:d,className:"flex gap-2 mb-4",children:[_.jsx("input",{type:"text",value:a,onChange:f=>l(f.target.value),placeholder:u==="categories"?"Nova categoria":"Nova sugesto",className:"flex-1 px-3 py-2 rounded-lg bg-slate-50 border-0 focus:ring-2 focus:ring-violet-500 outline-none text-sm",autoComplete:"off",spellCheck:"false"}),_.jsx("button",{type:"submit",className:"bg-gradient-to-r from-violet-600 to-indigo-600 text-white p-2 rounded-lg hover:opacity-90 transition-opacity",children:_.jsx(dl,{size:16})})]}),_.jsx("div",{className:"space-y-2",children:u==="categories"?_.jsxs(_.Fragment,{children:[t.map(f=>_.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[_.jsx("span",{className:"text-sm font-medium",children:f}),_.jsx("button",{onClick:()=>r(f),className:"text-red-600 hover:bg-red-50 p-2 rounded-lg",children:"Remover"})]},f)),_.jsxs("div",{className:"mt-6",children:[_.jsx("h2",{className:"text-lg font-medium mb-4",children:"Categorias Sugeridas"}),_.jsx("div",{className:"grid grid-cols-2 gap-2",children:h.map(f=>_.jsx("button",{onClick:()=>n(f),className:"p-2 text-sm bg-slate-50 rounded-lg hover:bg-slate-100 text-left",children:f},f))})]})]}):i.map(f=>_.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[_.jsx("span",{className:"text-sm font-medium",children:f}),_.jsx("button",{onClick:()=>o(f),className:"text-red-600 hover:bg-red-50 p-2 rounded-lg",children:"Remover"})]},f))})]})]})})}function n2(){const{user:e}=eo(),[t,n]=k.useState([]),[r,i]=k.useState(!0);k.useEffect(()=>{s()},[]);const s=async()=>{try{i(!0);const{data:f,error:v}=await Z.from("lists").select("*").order("created_at",{ascending:!1});if(v)throw v;const m=await Promise.all((f||[]).map(async w=>{const{data:p,error:g}=await Z.from("items").select("*").eq("list_id",w.id);if(g)throw g;return{id:w.id,nome:w.name,dataCriacao:w.created_at,items:(p||[]).map(y=>({id:y.id,name:y.name,quantity:y.quantity,price:y.price,completed:y.completed,group:y.group,created_at:y.created_at}))}}));n(m)}catch(f){console.error("Erro ao buscar listas:",f)}finally{i(!1)}};return{lists:t,loading:r,createList:async f=>{try{if(!e)throw new Error("Usurio no autenticado");const{data:v,error:m}=await Z.from("lists").insert([{name:f,user_id:e.id}]).select().single();if(m)throw m;return await s(),v.id}catch(v){throw console.error("Erro ao criar lista:",v),v}},deleteList:async f=>{try{const{error:v}=await Z.from("lists").delete().eq("id",f);if(v)throw v;await s()}catch(v){throw console.error("Erro ao deletar lista:",v),v}},duplicateList:async f=>{try{const{data:v,error:m}=await Z.from("lists").select("*").eq("id",f).single();if(m)throw m;if(!v)return;if(!e)throw new Error("Usurio no autenticado");const{data:w,error:p}=await Z.from("lists").insert([{name:`${v.name} (Cpia)`,user_id:e.id}]).select().single();if(p)throw p;const{data:g,error:y}=await Z.from("items").select("*").eq("list_id",f);if(y)throw y;if(g&&g.length>0){const x=g.map(S=>({name:S.name,quantity:S.quantity,price:S.price,completed:S.completed,group:S.group,list_id:w.id})),{error:b}=await Z.from("items").insert(x);if(b)throw b}return await s(),w.id}catch(v){throw console.error("Erro ao duplicar lista:",v),v}},renameList:async(f,v)=>{try{const{error:m}=await Z.from("lists").update({name:v}).eq("id",f);if(m)throw m;await s()}catch(m){throw console.error("Erro ao renomear lista:",m),m}},clearList:async f=>{try{const{error:v}=await Z.from("items").update({quantity:1,price:0,completed:!1}).eq("list_id",f);if(v)throw v;await s()}catch(v){throw console.error("Erro ao limpar lista:",v),v}},calculateListTotal:f=>{const v=t.find(m=>m.id===f);return!v||!v.items?0:v.items.reduce((m,w)=>w.completed?m+Number(w.price)*w.quantity:m,0)},reorderLists:async f=>{n(f)},fetchLists:s}}function r2({isOpen:e,onClose:t}){const[n,r]=k.useState("0"),[i,s]=k.useState(null),[o,a]=k.useState(null),[l,u]=k.useState(!0),c=m=>{l?(r(m),u(!1)):r(n==="0"?m:n+m)},d=m=>{const w=parseFloat(n);if(i===null)s(w);else if(o){const p=h(i,w,o);s(p),r(p.toString())}a(m),u(!0)},h=(m,w,p)=>{switch(p){case"+":return m+w;case"-":return m-w;case"":return m*w;case"":return m/w;default:return w}},f=()=>{if(i===null||o===null)return;const m=parseFloat(n),w=h(i,m,o);r(w.toString()),s(null),a(null),u(!0)},v=()=>{r("0"),s(null),a(null),u(!0)};return e?_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-full max-w-sm mx-4 transform transition-transform duration-200 ease-out animate-slide-up",children:[_.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[_.jsxs("span",{className:"text-lg font-medium flex items-center gap-2",children:[_.jsx(_m,{}),"Calculadora"]}),_.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:_.jsx(xm,{size:20})})]}),_.jsxs("div",{className:"p-4",children:[_.jsx("div",{className:"bg-slate-50 p-4 rounded-lg mb-4 text-right",children:_.jsx("span",{className:"text-2xl font-medium",children:n})}),_.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[_.jsx("button",{onClick:v,className:"p-4 text-lg font-medium bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors col-span-2",children:"C"}),_.jsx("button",{onClick:()=>d(""),className:"p-4 text-lg font-medium bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition-colors",children:""}),_.jsx("button",{onClick:()=>d(""),className:"p-4 text-lg font-medium bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition-colors",children:""}),[7,8,9].map(m=>_.jsx("button",{onClick:()=>c(m.toString()),className:"p-4 text-lg font-medium bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:m},m)),_.jsx("button",{onClick:()=>d("-"),className:"p-4 text-lg font-medium bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition-colors",children:"-"}),[4,5,6].map(m=>_.jsx("button",{onClick:()=>c(m.toString()),className:"p-4 text-lg font-medium bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:m},m)),_.jsx("button",{onClick:()=>d("+"),className:"p-4 text-lg font-medium bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition-colors",children:"+"}),[1,2,3].map(m=>_.jsx("button",{onClick:()=>c(m.toString()),className:"p-4 text-lg font-medium bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:m},m)),_.jsx("button",{onClick:f,className:"p-4 text-lg font-medium bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition-colors row-span-2",children:"="}),_.jsx("button",{onClick:()=>c("0"),className:"p-4 text-lg font-medium bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors col-span-2",children:"0"}),_.jsx("button",{onClick:()=>c("."),className:"p-4 text-lg font-medium bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:"."})]})]})]})}):null}function bm({onNavigateToHome:e,onNavigateToManagement:t,onCreateList:n}){const[r,i]=k.useState(!1);return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-50/80 dark:bg-gray-800/80 backdrop-blur-xl border-t border-gray-100/50 dark:border-gray-700/50",children:_.jsxs("div",{className:"container mx-auto max-w-2xl flex items-center justify-around py-2",children:[_.jsx("button",{onClick:e,className:"text-gray-600 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400 p-2",title:"Incio",children:_.jsx(zx,{size:20})}),_.jsx("button",{onClick:n,className:"text-gray-600 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400 p-2",title:"Nova Lista",children:_.jsx(Kx,{size:20})}),_.jsx("button",{onClick:t,className:"text-gray-600 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400 p-2",title:"Minhas Listas",children:_.jsx(Vx,{size:20})}),_.jsx("button",{onClick:()=>i(!0),className:"text-gray-600 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400 p-2",title:"Calculadora",children:_.jsx(_m,{size:20})})]})}),_.jsx(r2,{isOpen:r,onClose:()=>i(!1)})]})}function i2(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return k.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const _l=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ci(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function th(e){return"nodeType"in e}function Xe(e){var t,n;return e?Ci(e)?e:th(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function nh(e){const{Document:t}=Xe(e);return e instanceof t}function to(e){return Ci(e)?!1:e instanceof Xe(e).HTMLElement}function km(e){return e instanceof Xe(e).SVGElement}function Ei(e){return e?Ci(e)?e.document:th(e)?nh(e)?e:to(e)||km(e)?e.ownerDocument:document:document:document}const Bt=_l?k.useLayoutEffect:k.useEffect;function rh(e){const t=k.useRef(e);return Bt(()=>{t.current=e}),k.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function s2(){const e=k.useRef(null),t=k.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=k.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function As(e,t){t===void 0&&(t=[e]);const n=k.useRef(e);return Bt(()=>{n.current!==e&&(n.current=e)},t),n}function no(e,t){const n=k.useRef();return k.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Aa(e){const t=rh(e),n=k.useRef(null),r=k.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function Sc(e){const t=k.useRef();return k.useEffect(()=>{t.current=e},[e]),t.current}let uu={};function ro(e,t){return k.useMemo(()=>{if(t)return t;const n=uu[e]==null?0:uu[e]+1;return uu[e]=n,e+"-"+n},[e,t])}function Sm(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const a=Object.entries(o);for(const[l,u]of a){const c=s[l];c!=null&&(s[l]=c+e*u)}return s},{...t})}}const ai=Sm(1),$s=Sm(-1);function o2(e){return"clientX"in e&&"clientY"in e}function ih(e){if(!e)return!1;const{KeyboardEvent:t}=Xe(e.target);return t&&e instanceof t}function a2(e){if(!e)return!1;const{TouchEvent:t}=Xe(e.target);return t&&e instanceof t}function Cc(e){if(a2(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return o2(e)?{x:e.clientX,y:e.clientY}:null}const Ms=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ms.Translate.toString(e),Ms.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),rp="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function l2(e){return e.matches(rp)?e:e.querySelector(rp)}const u2={display:"none"};function c2(e){let{id:t,value:n}=e;return B.createElement("div",{id:t,style:u2},n)}function d2(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return B.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function h2(){const[e,t]=k.useState("");return{announce:k.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Cm=k.createContext(null);function f2(e){const t=k.useContext(Cm);k.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function p2(){const[e]=k.useState(()=>new Set),t=k.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[k.useCallback(r=>{let{type:i,event:s}=r;e.forEach(o=>{var a;return(a=o[i])==null?void 0:a.call(o,s)})},[e]),t]}const g2={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},m2={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function v2(e){let{announcements:t=m2,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=g2}=e;const{announce:s,announcement:o}=h2(),a=ro("DndLiveRegion"),[l,u]=k.useState(!1);if(k.useEffect(()=>{u(!0)},[]),f2(k.useMemo(()=>({onDragStart(d){let{active:h}=d;s(t.onDragStart({active:h}))},onDragMove(d){let{active:h,over:f}=d;t.onDragMove&&s(t.onDragMove({active:h,over:f}))},onDragOver(d){let{active:h,over:f}=d;s(t.onDragOver({active:h,over:f}))},onDragEnd(d){let{active:h,over:f}=d;s(t.onDragEnd({active:h,over:f}))},onDragCancel(d){let{active:h,over:f}=d;s(t.onDragCancel({active:h,over:f}))}}),[s,t])),!l)return null;const c=B.createElement(B.Fragment,null,B.createElement(c2,{id:r,value:i.draggable}),B.createElement(d2,{id:a,announcement:o}));return n?Zr.createPortal(c,n):c}var we;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(we||(we={}));function $a(){}function ip(e,t){return k.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function y2(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return k.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Ot=Object.freeze({x:0,y:0});function Em(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function jm(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function w2(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function sp(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function Tm(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function op(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const _2=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=op(t,t.left,t.top),s=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const u=Em(op(l),i);s.push({id:a,data:{droppableContainer:o,value:u}})}}return s.sort(jm)},x2=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=sp(t),s=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const u=sp(l),c=i.reduce((h,f,v)=>h+Em(u[v],f),0),d=Number((c/4).toFixed(4));s.push({id:a,data:{droppableContainer:o,value:d}})}}return s.sort(jm)};function b2(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),o=i-r,a=s-n;if(r<i&&n<s){const l=t.width*t.height,u=e.width*e.height,c=o*a,d=c/(l+u-c);return Number(d.toFixed(4))}return 0}const k2=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const s of r){const{id:o}=s,a=n.get(o);if(a){const l=b2(a,t);l>0&&i.push({id:o,data:{droppableContainer:s,value:l}})}}return i.sort(w2)};function S2(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Pm(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ot}function C2(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,a)=>({...o,top:o.top+e*a.y,bottom:o.bottom+e*a.y,left:o.left+e*a.x,right:o.right+e*a.x}),{...n})}}const E2=C2(1);function j2(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function T2(e,t,n){const r=j2(t);if(!r)return e;const{scaleX:i,scaleY:s,x:o,y:a}=r,l=e.left-o-(1-i)*parseFloat(n),u=e.top-a-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),c=i?e.width/i:e.width,d=s?e.height/s:e.height;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l}}const P2={ignoreTransform:!1};function ji(e,t){t===void 0&&(t=P2);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:c}=Xe(e).getComputedStyle(e);u&&(n=T2(n,u,c))}const{top:r,left:i,width:s,height:o,bottom:a,right:l}=n;return{top:r,left:i,width:s,height:o,bottom:a,right:l}}function ap(e){return ji(e,{ignoreTransform:!0})}function O2(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function N2(e,t){return t===void 0&&(t=Xe(e).getComputedStyle(e)),t.position==="fixed"}function R2(e,t){t===void 0&&(t=Xe(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=t[i];return typeof s=="string"?n.test(s):!1})}function xl(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(nh(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!to(i)||km(i)||n.includes(i))return n;const s=Xe(e).getComputedStyle(i);return i!==e&&R2(i,s)&&n.push(i),N2(i,s)?n:r(i.parentNode)}return e?r(e):n}function Om(e){const[t]=xl(e,1);return t??null}function cu(e){return!_l||!e?null:Ci(e)?e:th(e)?nh(e)||e===Ei(e).scrollingElement?window:to(e)?e:null:null}function Nm(e){return Ci(e)?e.scrollX:e.scrollLeft}function Rm(e){return Ci(e)?e.scrollY:e.scrollTop}function Ec(e){return{x:Nm(e),y:Rm(e)}}var Se;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Se||(Se={}));function Lm(e){return!_l||!e?!1:e===document.scrollingElement}function Dm(e){const t={x:0,y:0},n=Lm(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:a,maxScroll:r,minScroll:t}}const L2={x:.2,y:.2};function D2(e,t,n,r,i){let{top:s,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=L2);const{isTop:u,isBottom:c,isLeft:d,isRight:h}=Dm(e),f={x:0,y:0},v={x:0,y:0},m={height:t.height*i.y,width:t.width*i.x};return!u&&s<=t.top+m.height?(f.y=Se.Backward,v.y=r*Math.abs((t.top+m.height-s)/m.height)):!c&&l>=t.bottom-m.height&&(f.y=Se.Forward,v.y=r*Math.abs((t.bottom-m.height-l)/m.height)),!h&&a>=t.right-m.width?(f.x=Se.Forward,v.x=r*Math.abs((t.right-m.width-a)/m.width)):!d&&o<=t.left+m.width&&(f.x=Se.Backward,v.x=r*Math.abs((t.left+m.width-o)/m.width)),{direction:f,speed:v}}function I2(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function Im(e){return e.reduce((t,n)=>ai(t,Ec(n)),Ot)}function A2(e){return e.reduce((t,n)=>t+Nm(n),0)}function $2(e){return e.reduce((t,n)=>t+Rm(n),0)}function M2(e,t){if(t===void 0&&(t=ji),!e)return;const{top:n,left:r,bottom:i,right:s}=t(e);Om(e)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const z2=[["x",["left","right"],A2],["y",["top","bottom"],$2]];class sh{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=xl(n),i=Im(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,o,a]of z2)for(const l of o)Object.defineProperty(this,l,{get:()=>{const u=a(r),c=i[s]-u;return this.rect[l]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class cs{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function F2(e){const{EventTarget:t}=Xe(e);return e instanceof t?e:Ei(e)}function du(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ft;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ft||(ft={}));function lp(e){e.preventDefault()}function B2(e){e.stopPropagation()}var q;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(q||(q={}));const Am={start:[q.Space,q.Enter],cancel:[q.Esc],end:[q.Space,q.Enter,q.Tab]},U2=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case q.Right:return{...n,x:n.x+25};case q.Left:return{...n,x:n.x-25};case q.Down:return{...n,y:n.y+25};case q.Up:return{...n,y:n.y-25}}};class oh{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new cs(Ei(n)),this.windowListeners=new cs(Xe(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ft.Resize,this.handleCancel),this.windowListeners.add(ft.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ft.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&M2(r),n(Ot)}handleKeyDown(t){if(ih(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=Am,coordinateGetter:o=U2,scrollBehavior:a="smooth"}=i,{code:l}=t;if(s.end.includes(l)){this.handleEnd(t);return}if(s.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:u}=r.current,c=u?{x:u.left,y:u.top}:Ot;this.referenceCoordinates||(this.referenceCoordinates=c);const d=o(t,{active:n,context:r.current,currentCoordinates:c});if(d){const h=$s(d,c),f={x:0,y:0},{scrollableAncestors:v}=r.current;for(const m of v){const w=t.code,{isTop:p,isRight:g,isLeft:y,isBottom:x,maxScroll:b,minScroll:S}=Dm(m),C=I2(m),j={x:Math.min(w===q.Right?C.right-C.width/2:C.right,Math.max(w===q.Right?C.left:C.left+C.width/2,d.x)),y:Math.min(w===q.Down?C.bottom-C.height/2:C.bottom,Math.max(w===q.Down?C.top:C.top+C.height/2,d.y))},E=w===q.Right&&!g||w===q.Left&&!y,P=w===q.Down&&!x||w===q.Up&&!p;if(E&&j.x!==d.x){const N=m.scrollLeft+h.x,$=w===q.Right&&N<=b.x||w===q.Left&&N>=S.x;if($&&!h.y){m.scrollTo({left:N,behavior:a});return}$?f.x=m.scrollLeft-N:f.x=w===q.Right?m.scrollLeft-b.x:m.scrollLeft-S.x,f.x&&m.scrollBy({left:-f.x,behavior:a});break}else if(P&&j.y!==d.y){const N=m.scrollTop+h.y,$=w===q.Down&&N<=b.y||w===q.Up&&N>=S.y;if($&&!h.x){m.scrollTo({top:N,behavior:a});return}$?f.y=m.scrollTop-N:f.y=w===q.Down?m.scrollTop-b.y:m.scrollTop-S.y,f.y&&m.scrollBy({top:-f.y,behavior:a});break}}this.handleMove(t,ai($s(d,this.referenceCoordinates),f))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}oh.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Am,onActivation:i}=t,{active:s}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const a=s.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function up(e){return!!(e&&"distance"in e)}function cp(e){return!!(e&&"delay"in e)}class ah{constructor(t,n,r){var i;r===void 0&&(r=F2(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:o}=s;this.props=t,this.events=n,this.document=Ei(o),this.documentListeners=new cs(this.document),this.listeners=new cs(r),this.windowListeners=new cs(Xe(o)),this.initialCoordinates=(i=Cc(s))!=null?i:Ot,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ft.Resize,this.handleCancel),this.windowListeners.add(ft.DragStart,lp),this.windowListeners.add(ft.VisibilityChange,this.handleCancel),this.windowListeners.add(ft.ContextMenu,lp),this.documentListeners.add(ft.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(cp(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(up(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ft.Click,B2,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ft.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:a}}=s;if(!i)return;const l=(n=Cc(t))!=null?n:Ot,u=$s(i,l);if(!r&&a){if(up(a)){if(a.tolerance!=null&&du(u,a.tolerance))return this.handleCancel();if(du(u,a.distance))return this.handleStart()}if(cp(a)&&du(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}t.cancelable&&t.preventDefault(),o(l)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===q.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const V2={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class lh extends ah{constructor(t){const{event:n}=t,r=Ei(n.target);super(t,V2,r)}}lh.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const H2={move:{name:"mousemove"},end:{name:"mouseup"}};var jc;(function(e){e[e.RightClick=2]="RightClick"})(jc||(jc={}));class K2 extends ah{constructor(t){super(t,H2,Ei(t.event.target))}}K2.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===jc.RightClick?!1:(r==null||r({event:n}),!0)}}];const hu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class q2 extends ah{constructor(t){super(t,hu)}static setup(){return window.addEventListener(hu.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(hu.move.name,t)};function t(){}}}q2.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var ds;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ds||(ds={}));var Ma;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ma||(Ma={}));function W2(e){let{acceleration:t,activator:n=ds.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:a=Ma.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:c,delta:d,threshold:h}=e;const f=Q2({delta:d,disabled:!s}),[v,m]=s2(),w=k.useRef({x:0,y:0}),p=k.useRef({x:0,y:0}),g=k.useMemo(()=>{switch(n){case ds.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case ds.DraggableRect:return i}},[n,i,l]),y=k.useRef(null),x=k.useCallback(()=>{const S=y.current;if(!S)return;const C=w.current.x*p.current.x,j=w.current.y*p.current.y;S.scrollBy(C,j)},[]),b=k.useMemo(()=>a===Ma.TreeOrder?[...u].reverse():u,[a,u]);k.useEffect(()=>{if(!s||!u.length||!g){m();return}for(const S of b){if((r==null?void 0:r(S))===!1)continue;const C=u.indexOf(S),j=c[C];if(!j)continue;const{direction:E,speed:P}=D2(S,j,g,t,h);for(const N of["x","y"])f[N][E[N]]||(P[N]=0,E[N]=0);if(P.x>0||P.y>0){m(),y.current=S,v(x,o),w.current=P,p.current=E;return}}w.current={x:0,y:0},p.current={x:0,y:0},m()},[t,x,r,m,s,o,JSON.stringify(g),JSON.stringify(f),v,u,b,c,JSON.stringify(h)])}const G2={x:{[Se.Backward]:!1,[Se.Forward]:!1},y:{[Se.Backward]:!1,[Se.Forward]:!1}};function Q2(e){let{delta:t,disabled:n}=e;const r=Sc(t);return no(i=>{if(n||!r||!i)return G2;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Se.Backward]:i.x[Se.Backward]||s.x===-1,[Se.Forward]:i.x[Se.Forward]||s.x===1},y:{[Se.Backward]:i.y[Se.Backward]||s.y===-1,[Se.Forward]:i.y[Se.Forward]||s.y===1}}},[n,t,r])}function J2(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return no(i=>{var s;return t==null?null:(s=r??i)!=null?s:null},[r,t])}function Y2(e,t){return k.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...s]},[]),[e,t])}var zs;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(zs||(zs={}));var Tc;(function(e){e.Optimized="optimized"})(Tc||(Tc={}));const dp=new Map;function X2(e,t){let{dragging:n,dependencies:r,config:i}=t;const[s,o]=k.useState(null),{frequency:a,measure:l,strategy:u}=i,c=k.useRef(e),d=w(),h=As(d),f=k.useCallback(function(p){p===void 0&&(p=[]),!h.current&&o(g=>g===null?p:g.concat(p.filter(y=>!g.includes(y))))},[h]),v=k.useRef(null),m=no(p=>{if(d&&!n)return dp;if(!p||p===dp||c.current!==e||s!=null){const g=new Map;for(let y of e){if(!y)continue;if(s&&s.length>0&&!s.includes(y.id)&&y.rect.current){g.set(y.id,y.rect.current);continue}const x=y.node.current,b=x?new sh(l(x),x):null;y.rect.current=b,b&&g.set(y.id,b)}return g}return p},[e,s,n,d,l]);return k.useEffect(()=>{c.current=e},[e]),k.useEffect(()=>{d||f()},[n,d]),k.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),k.useEffect(()=>{d||typeof a!="number"||v.current!==null||(v.current=setTimeout(()=>{f(),v.current=null},a))},[a,d,f,...r]),{droppableRects:m,measureDroppableContainers:f,measuringScheduled:s!=null};function w(){switch(u){case zs.Always:return!1;case zs.BeforeDragging:return n;default:return!n}}}function $m(e,t){return no(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Z2(e,t){return $m(e,t)}function eb(e){let{callback:t,disabled:n}=e;const r=rh(t),i=k.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return k.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function bl(e){let{callback:t,disabled:n}=e;const r=rh(t),i=k.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return k.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function tb(e){return new sh(ji(e),e)}function hp(e,t,n){t===void 0&&(t=tb);const[r,i]=k.useState(null);function s(){i(l=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=l??n)!=null?u:null}const c=t(e);return JSON.stringify(l)===JSON.stringify(c)?l:c})}const o=eb({callback(l){if(e)for(const u of l){const{type:c,target:d}=u;if(c==="childList"&&d instanceof HTMLElement&&d.contains(e)){s();break}}}}),a=bl({callback:s});return Bt(()=>{s(),e?(a==null||a.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[e]),r}function nb(e){const t=$m(e);return Pm(e,t)}const fp=[];function rb(e){const t=k.useRef(e),n=no(r=>e?r&&r!==fp&&e&&t.current&&e.parentNode===t.current.parentNode?r:xl(e):fp,[e]);return k.useEffect(()=>{t.current=e},[e]),n}function ib(e){const[t,n]=k.useState(null),r=k.useRef(e),i=k.useCallback(s=>{const o=cu(s.target);o&&n(a=>a?(a.set(o,Ec(o)),new Map(a)):null)},[]);return k.useEffect(()=>{const s=r.current;if(e!==s){o(s);const a=e.map(l=>{const u=cu(l);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,Ec(u)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=e}return()=>{o(e),o(s)};function o(a){a.forEach(l=>{const u=cu(l);u==null||u.removeEventListener("scroll",i)})}},[i,e]),k.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,o)=>ai(s,o),Ot):Im(e):Ot,[e,t])}function pp(e,t){t===void 0&&(t=[]);const n=k.useRef(null);return k.useEffect(()=>{n.current=null},t),k.useEffect(()=>{const r=e!==Ot;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?$s(e,n.current):Ot}function sb(e){k.useEffect(()=>{if(!_l)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function ob(e,t){return k.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=o=>{s(o,t)},n},{}),[e,t])}function Mm(e){return k.useMemo(()=>e?O2(e):null,[e])}const gp=[];function ab(e,t){t===void 0&&(t=ji);const[n]=e,r=Mm(n?Xe(n):null),[i,s]=k.useState(gp);function o(){s(()=>e.length?e.map(l=>Lm(l)?r:new sh(t(l),l)):gp)}const a=bl({callback:o});return Bt(()=>{a==null||a.disconnect(),o(),e.forEach(l=>a==null?void 0:a.observe(l))},[e]),i}function lb(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return to(t)?t:e}function ub(e){let{measure:t}=e;const[n,r]=k.useState(null),i=k.useCallback(u=>{for(const{target:c}of u)if(to(c)){r(d=>{const h=t(c);return d?{...d,width:h.width,height:h.height}:h});break}},[t]),s=bl({callback:i}),o=k.useCallback(u=>{const c=lb(u);s==null||s.disconnect(),c&&(s==null||s.observe(c)),r(c?t(c):null)},[t,s]),[a,l]=Aa(o);return k.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const cb=[{sensor:lh,options:{}},{sensor:oh,options:{}}],db={current:{}},Zo={draggable:{measure:ap},droppable:{measure:ap,strategy:zs.WhileDragging,frequency:Tc.Optimized},dragOverlay:{measure:ji}};class hs extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const hb={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new hs,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:$a},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Zo,measureDroppableContainers:$a,windowRect:null,measuringScheduled:!1},fb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:$a,draggableNodes:new Map,over:null,measureDroppableContainers:$a},kl=k.createContext(fb),zm=k.createContext(hb);function pb(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new hs}}}function gb(e,t){switch(t.type){case we.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case we.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case we.DragEnd:case we.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case we.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new hs(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case we.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const o=new hs(e.droppable.containers);return o.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case we.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new hs(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function mb(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=k.useContext(kl),s=Sc(r),o=Sc(n==null?void 0:n.id);return k.useEffect(()=>{if(!t&&!r&&s&&o!=null){if(!ih(s)||document.activeElement===s.target)return;const a=i.get(o);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const c of[l.current,u.current]){if(!c)continue;const d=l2(c);if(d){d.focus();break}}})}},[r,t,i,o,s]),null}function vb(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,s)=>s({transform:i,...r}),n):n}function yb(e){return k.useMemo(()=>({draggable:{...Zo.draggable,...e==null?void 0:e.draggable},droppable:{...Zo.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Zo.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function wb(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const s=k.useRef(!1),{x:o,y:a}=typeof i=="boolean"?{x:i,y:i}:i;Bt(()=>{if(!o&&!a||!t){s.current=!1;return}if(s.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const c=n(u),d=Pm(c,r);if(o||(d.x=0),a||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const h=Om(u);h&&h.scrollBy({top:d.y,left:d.x})}},[t,o,a,r,n])}const Fm=k.createContext({...Ot,scaleX:1,scaleY:1});var jn;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(jn||(jn={}));const _b=k.memo(function(t){var n,r,i,s;let{id:o,accessibility:a,autoScroll:l=!0,children:u,sensors:c=cb,collisionDetection:d=k2,measuring:h,modifiers:f,...v}=t;const m=k.useReducer(gb,void 0,pb),[w,p]=m,[g,y]=p2(),[x,b]=k.useState(jn.Uninitialized),S=x===jn.Initialized,{draggable:{active:C,nodes:j,translate:E},droppable:{containers:P}}=w,N=C!=null?j.get(C):null,$=k.useRef({initial:null,translated:null}),M=k.useMemo(()=>{var Oe;return C!=null?{id:C,data:(Oe=N==null?void 0:N.data)!=null?Oe:db,rect:$}:null},[C,N]),I=k.useRef(null),[J,Q]=k.useState(null),[U,O]=k.useState(null),D=As(v,Object.values(v)),z=ro("DndDescribedBy",o),ne=k.useMemo(()=>P.getEnabled(),[P]),W=yb(h),{droppableRects:He,measureDroppableContainers:$e,measuringScheduled:Vt}=X2(ne,{dragging:S,dependencies:[E.x,E.y],config:W.droppable}),ge=J2(j,C),Ht=k.useMemo(()=>U?Cc(U):null,[U]),pn=Lv(),Kt=Z2(ge,W.draggable.measure);wb({activeNode:C!=null?j.get(C):null,config:pn.layoutShiftCompensation,initialRect:Kt,measure:W.draggable.measure});const X=hp(ge,W.draggable.measure,Kt),Oi=hp(ge?ge.parentElement:null),Nt=k.useRef({activatorEvent:null,active:null,activeNode:ge,collisionRect:null,collisions:null,droppableRects:He,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),jr=P.getNodeFor((n=Nt.current.over)==null?void 0:n.id),qt=ub({measure:W.dragOverlay.measure}),Tr=(r=qt.nodeRef.current)!=null?r:ge,Pr=S?(i=qt.rect)!=null?i:X:null,bh=!!(qt.nodeRef.current&&qt.rect),kh=nb(bh?null:X),Tl=Mm(Tr?Xe(Tr):null),gn=rb(S?jr??ge:null),ao=ab(gn),lo=vb(f,{transform:{x:E.x-kh.x,y:E.y-kh.y,scaleX:1,scaleY:1},activatorEvent:U,active:M,activeNodeRect:X,containerNodeRect:Oi,draggingNodeRect:Pr,over:Nt.current.over,overlayNodeRect:qt.rect,scrollableAncestors:gn,scrollableAncestorRects:ao,windowRect:Tl}),Sh=Ht?ai(Ht,E):null,Ch=ib(gn),Ev=pp(Ch),jv=pp(Ch,[X]),Or=ai(lo,Ev),Nr=Pr?E2(Pr,lo):null,Ni=M&&Nr?d({active:M,collisionRect:Nr,droppableRects:He,droppableContainers:ne,pointerCoordinates:Sh}):null,Eh=Tm(Ni,"id"),[mn,jh]=k.useState(null),Tv=bh?lo:ai(lo,jv),Pv=S2(Tv,(s=mn==null?void 0:mn.rect)!=null?s:null,X),Pl=k.useRef(null),Th=k.useCallback((Oe,Ze)=>{let{sensor:et,options:vn}=Ze;if(I.current==null)return;const ht=j.get(I.current);if(!ht)return;const tt=Oe.nativeEvent,Rt=new et({active:I.current,activeNode:ht,event:tt,options:vn,context:Nt,onAbort(Ee){if(!j.get(Ee))return;const{onDragAbort:Lt}=D.current,Wt={id:Ee};Lt==null||Lt(Wt),g({type:"onDragAbort",event:Wt})},onPending(Ee,yn,Lt,Wt){if(!j.get(Ee))return;const{onDragPending:Li}=D.current,wn={id:Ee,constraint:yn,initialCoordinates:Lt,offset:Wt};Li==null||Li(wn),g({type:"onDragPending",event:wn})},onStart(Ee){const yn=I.current;if(yn==null)return;const Lt=j.get(yn);if(!Lt)return;const{onDragStart:Wt}=D.current,Ri={activatorEvent:tt,active:{id:yn,data:Lt.data,rect:$}};Zr.unstable_batchedUpdates(()=>{Wt==null||Wt(Ri),b(jn.Initializing),p({type:we.DragStart,initialCoordinates:Ee,active:yn}),g({type:"onDragStart",event:Ri}),Q(Pl.current),O(tt)})},onMove(Ee){p({type:we.DragMove,coordinates:Ee})},onEnd:Rr(we.DragEnd),onCancel:Rr(we.DragCancel)});Pl.current=Rt;function Rr(Ee){return async function(){const{active:Lt,collisions:Wt,over:Ri,scrollAdjustedTranslate:Li}=Nt.current;let wn=null;if(Lt&&Li){const{cancelDrop:Di}=D.current;wn={activatorEvent:tt,active:Lt,collisions:Wt,delta:Li,over:Ri},Ee===we.DragEnd&&typeof Di=="function"&&await Promise.resolve(Di(wn))&&(Ee=we.DragCancel)}I.current=null,Zr.unstable_batchedUpdates(()=>{p({type:Ee}),b(jn.Uninitialized),jh(null),Q(null),O(null),Pl.current=null;const Di=Ee===we.DragEnd?"onDragEnd":"onDragCancel";if(wn){const Ol=D.current[Di];Ol==null||Ol(wn),g({type:Di,event:wn})}})}}},[j]),Ov=k.useCallback((Oe,Ze)=>(et,vn)=>{const ht=et.nativeEvent,tt=j.get(vn);if(I.current!==null||!tt||ht.dndKit||ht.defaultPrevented)return;const Rt={active:tt};Oe(et,Ze.options,Rt)===!0&&(ht.dndKit={capturedBy:Ze.sensor},I.current=vn,Th(et,Ze))},[j,Th]),Ph=Y2(c,Ov);sb(c),Bt(()=>{X&&x===jn.Initializing&&b(jn.Initialized)},[X,x]),k.useEffect(()=>{const{onDragMove:Oe}=D.current,{active:Ze,activatorEvent:et,collisions:vn,over:ht}=Nt.current;if(!Ze||!et)return;const tt={active:Ze,activatorEvent:et,collisions:vn,delta:{x:Or.x,y:Or.y},over:ht};Zr.unstable_batchedUpdates(()=>{Oe==null||Oe(tt),g({type:"onDragMove",event:tt})})},[Or.x,Or.y]),k.useEffect(()=>{const{active:Oe,activatorEvent:Ze,collisions:et,droppableContainers:vn,scrollAdjustedTranslate:ht}=Nt.current;if(!Oe||I.current==null||!Ze||!ht)return;const{onDragOver:tt}=D.current,Rt=vn.get(Eh),Rr=Rt&&Rt.rect.current?{id:Rt.id,rect:Rt.rect.current,data:Rt.data,disabled:Rt.disabled}:null,Ee={active:Oe,activatorEvent:Ze,collisions:et,delta:{x:ht.x,y:ht.y},over:Rr};Zr.unstable_batchedUpdates(()=>{jh(Rr),tt==null||tt(Ee),g({type:"onDragOver",event:Ee})})},[Eh]),Bt(()=>{Nt.current={activatorEvent:U,active:M,activeNode:ge,collisionRect:Nr,collisions:Ni,droppableRects:He,draggableNodes:j,draggingNode:Tr,draggingNodeRect:Pr,droppableContainers:P,over:mn,scrollableAncestors:gn,scrollAdjustedTranslate:Or},$.current={initial:Pr,translated:Nr}},[M,ge,Ni,Nr,j,Tr,Pr,He,P,mn,gn,Or]),W2({...pn,delta:E,draggingRect:Nr,pointerCoordinates:Sh,scrollableAncestors:gn,scrollableAncestorRects:ao});const Nv=k.useMemo(()=>({active:M,activeNode:ge,activeNodeRect:X,activatorEvent:U,collisions:Ni,containerNodeRect:Oi,dragOverlay:qt,draggableNodes:j,droppableContainers:P,droppableRects:He,over:mn,measureDroppableContainers:$e,scrollableAncestors:gn,scrollableAncestorRects:ao,measuringConfiguration:W,measuringScheduled:Vt,windowRect:Tl}),[M,ge,X,U,Ni,Oi,qt,j,P,He,mn,$e,gn,ao,W,Vt,Tl]),Rv=k.useMemo(()=>({activatorEvent:U,activators:Ph,active:M,activeNodeRect:X,ariaDescribedById:{draggable:z},dispatch:p,draggableNodes:j,over:mn,measureDroppableContainers:$e}),[U,Ph,M,X,p,z,j,mn,$e]);return B.createElement(Cm.Provider,{value:y},B.createElement(kl.Provider,{value:Rv},B.createElement(zm.Provider,{value:Nv},B.createElement(Fm.Provider,{value:Pv},u)),B.createElement(mb,{disabled:(a==null?void 0:a.restoreFocus)===!1})),B.createElement(v2,{...a,hiddenTextDescribedById:z}));function Lv(){const Oe=(J==null?void 0:J.autoScrollEnabled)===!1,Ze=typeof l=="object"?l.enabled===!1:l===!1,et=S&&!Oe&&!Ze;return typeof l=="object"?{...l,enabled:et}:{enabled:et}}}),xb=k.createContext(null),mp="button",bb="Draggable";function kb(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const s=ro(bb),{activators:o,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:c,draggableNodes:d,over:h}=k.useContext(kl),{role:f=mp,roleDescription:v="draggable",tabIndex:m=0}=i??{},w=(l==null?void 0:l.id)===t,p=k.useContext(w?Fm:xb),[g,y]=Aa(),[x,b]=Aa(),S=ob(o,t),C=As(n);Bt(()=>(d.set(t,{id:t,key:s,node:g,activatorNode:x,data:C}),()=>{const E=d.get(t);E&&E.key===s&&d.delete(t)}),[d,t]);const j=k.useMemo(()=>({role:f,tabIndex:m,"aria-disabled":r,"aria-pressed":w&&f===mp?!0:void 0,"aria-roledescription":v,"aria-describedby":c.draggable}),[r,f,m,w,v,c.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:j,isDragging:w,listeners:r?void 0:S,node:g,over:h,setNodeRef:y,setActivatorNodeRef:b,transform:p}}function Sb(){return k.useContext(zm)}const Cb="Droppable",Eb={timeout:25};function jb(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const s=ro(Cb),{active:o,dispatch:a,over:l,measureDroppableContainers:u}=k.useContext(kl),c=k.useRef({disabled:n}),d=k.useRef(!1),h=k.useRef(null),f=k.useRef(null),{disabled:v,updateMeasurementsFor:m,timeout:w}={...Eb,...i},p=As(m??r),g=k.useCallback(()=>{if(!d.current){d.current=!0;return}f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{u(Array.isArray(p.current)?p.current:[p.current]),f.current=null},w)},[w]),y=bl({callback:g,disabled:v||!o}),x=k.useCallback((j,E)=>{y&&(E&&(y.unobserve(E),d.current=!1),j&&y.observe(j))},[y]),[b,S]=Aa(x),C=As(t);return k.useEffect(()=>{!y||!b.current||(y.disconnect(),d.current=!1,y.observe(b.current))},[b,y]),k.useEffect(()=>(a({type:we.RegisterDroppable,element:{id:r,key:s,disabled:n,node:b,rect:h,data:C}}),()=>a({type:we.UnregisterDroppable,key:s,id:r})),[r]),k.useEffect(()=>{n!==c.current.disabled&&(a({type:we.SetDroppableDisabled,id:r,key:s,disabled:n}),c.current.disabled=n)},[r,s,n,a]),{active:o,rect:h,isOver:(l==null?void 0:l.id)===r,node:b,over:l,setNodeRef:S}}function uh(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Tb(e,t){return e.reduce((n,r,i)=>{const s=t.get(r);return s&&(n[i]=s),n},Array(e.length))}function No(e){return e!==null&&e>=0}function Pb(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ob(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Bm=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const s=uh(t,r,n),o=t[i],a=s[i];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},Ro={scaleX:1,scaleY:1},Nb=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:o}=e;const a=(t=s[n])!=null?t:r;if(!a)return null;if(i===n){const u=s[o];return u?{x:0,y:n<o?u.top+u.height-(a.top+a.height):u.top-a.top,...Ro}:null}const l=Rb(s,i,n);return i>n&&i<=o?{x:0,y:-a.height-l,...Ro}:i<n&&i>=o?{x:0,y:a.height+l,...Ro}:{x:0,y:0,...Ro}};function Rb(e,t,n){const r=e[t],i=e[t-1],s=e[t+1];return r?n<t?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const Um="Sortable",Vm=B.createContext({activeIndex:-1,containerId:Um,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Bm,disabled:{draggable:!1,droppable:!1}});function Lb(e){let{children:t,id:n,items:r,strategy:i=Bm,disabled:s=!1}=e;const{active:o,dragOverlay:a,droppableRects:l,over:u,measureDroppableContainers:c}=Sb(),d=ro(Um,n),h=a.rect!==null,f=k.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),v=o!=null,m=o?f.indexOf(o.id):-1,w=u?f.indexOf(u.id):-1,p=k.useRef(f),g=!Pb(f,p.current),y=w!==-1&&m===-1||g,x=Ob(s);Bt(()=>{g&&v&&c(f)},[g,f,v,c]),k.useEffect(()=>{p.current=f},[f]);const b=k.useMemo(()=>({activeIndex:m,containerId:d,disabled:x,disableTransforms:y,items:f,overIndex:w,useDragOverlay:h,sortedRects:Tb(f,l),strategy:i}),[m,d,x.draggable,x.droppable,y,f,w,l,h,i]);return B.createElement(Vm.Provider,{value:b},t)}const Db=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return uh(n,r,i).indexOf(t)},Ib=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:a,previousContainerId:l,transition:u}=e;return!u||!r||a!==s&&i===o?!1:n?!0:o!==i&&t===l},Ab={duration:200,easing:"ease"},Hm="transform",$b=Ms.Transition.toString({property:Hm,duration:0,easing:"linear"}),Mb={roleDescription:"sortable"};function zb(e){let{disabled:t,index:n,node:r,rect:i}=e;const[s,o]=k.useState(null),a=k.useRef(n);return Bt(()=>{if(!t&&n!==a.current&&r.current){const l=i.current;if(l){const u=ji(r.current,{ignoreTransform:!0}),c={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(c.x||c.y)&&o(c)}}n!==a.current&&(a.current=n)},[t,n,r,i]),k.useEffect(()=>{s&&o(null)},[s]),s}function Fb(e){let{animateLayoutChanges:t=Ib,attributes:n,disabled:r,data:i,getNewIndex:s=Db,id:o,strategy:a,resizeObserverConfig:l,transition:u=Ab}=e;const{items:c,containerId:d,activeIndex:h,disabled:f,disableTransforms:v,sortedRects:m,overIndex:w,useDragOverlay:p,strategy:g}=k.useContext(Vm),y=Bb(r,f),x=c.indexOf(o),b=k.useMemo(()=>({sortable:{containerId:d,index:x,items:c},...i}),[d,i,x,c]),S=k.useMemo(()=>c.slice(c.indexOf(o)),[c,o]),{rect:C,node:j,isOver:E,setNodeRef:P}=jb({id:o,data:b,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...l}}),{active:N,activatorEvent:$,activeNodeRect:M,attributes:I,setNodeRef:J,listeners:Q,isDragging:U,over:O,setActivatorNodeRef:D,transform:z}=kb({id:o,data:b,attributes:{...Mb,...n},disabled:y.draggable}),ne=i2(P,J),W=!!N,He=W&&!v&&No(h)&&No(w),$e=!p&&U,Vt=$e&&He?z:null,Ht=He?Vt??(a??g)({rects:m,activeNodeRect:M,activeIndex:h,overIndex:w,index:x}):null,pn=No(h)&&No(w)?s({id:o,items:c,activeIndex:h,overIndex:w}):x,Kt=N==null?void 0:N.id,X=k.useRef({activeId:Kt,items:c,newIndex:pn,containerId:d}),Oi=c!==X.current.items,Nt=t({active:N,containerId:d,isDragging:U,isSorting:W,id:o,index:x,items:c,newIndex:X.current.newIndex,previousItems:X.current.items,previousContainerId:X.current.containerId,transition:u,wasDragging:X.current.activeId!=null}),jr=zb({disabled:!Nt,index:x,node:j,rect:C});return k.useEffect(()=>{W&&X.current.newIndex!==pn&&(X.current.newIndex=pn),d!==X.current.containerId&&(X.current.containerId=d),c!==X.current.items&&(X.current.items=c)},[W,pn,d,c]),k.useEffect(()=>{if(Kt===X.current.activeId)return;if(Kt&&!X.current.activeId){X.current.activeId=Kt;return}const Tr=setTimeout(()=>{X.current.activeId=Kt},50);return()=>clearTimeout(Tr)},[Kt]),{active:N,activeIndex:h,attributes:I,data:b,rect:C,index:x,newIndex:pn,items:c,isOver:E,isSorting:W,isDragging:U,listeners:Q,node:j,overIndex:w,over:O,setNodeRef:ne,setActivatorNodeRef:D,setDroppableNodeRef:P,setDraggableNodeRef:J,transform:jr??Ht,transition:qt()};function qt(){if(jr||Oi&&X.current.newIndex===x)return $b;if(!($e&&!ih($)||!u)&&(W||Nt))return Ms.Transition.toString({...u,property:Hm})}}function Bb(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function za(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Ub=[q.Down,q.Right,q.Up,q.Left],Vb=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:s,over:o,scrollableAncestors:a}}=t;if(Ub.includes(e.code)){if(e.preventDefault(),!n||!r)return;const l=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const h=i.get(d.id);if(h)switch(e.code){case q.Down:r.top<h.top&&l.push(d);break;case q.Up:r.top>h.top&&l.push(d);break;case q.Left:r.left>h.left&&l.push(d);break;case q.Right:r.left<h.left&&l.push(d);break}});const u=x2({active:n,collisionRect:r,droppableRects:i,droppableContainers:l,pointerCoordinates:null});let c=Tm(u,"id");if(c===(o==null?void 0:o.id)&&u.length>1&&(c=u[1].id),c!=null){const d=s.get(n.id),h=s.get(c),f=h?i.get(h.id):null,v=h==null?void 0:h.node.current;if(v&&f&&d&&h){const w=xl(v).some((S,C)=>a[C]!==S),p=Km(d,h),g=Hb(d,h),y=w||!p?{x:0,y:0}:{x:g?r.width-f.width:0,y:g?r.height-f.height:0},x={x:f.left,y:f.top};return y.x&&y.y?x:$s(x,y)}}}};function Km(e,t){return!za(e)||!za(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Hb(e,t){return!za(e)||!za(t)||!Km(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const oe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ve=Object.keys,Ie=Array.isArray;function Be(e,t){return typeof t!="object"||ve(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||oe.Promise||(oe.Promise=Promise);const Fs=Object.getPrototypeOf,Kb={}.hasOwnProperty;function ut(e,t){return Kb.call(e,t)}function wi(e,t){typeof t=="function"&&(t=t(Fs(e))),(typeof Reflect>"u"?ve:Reflect.ownKeys)(t).forEach(n=>{on(e,n,t[n])})}const qm=Object.defineProperty;function on(e,t,n,r){qm(e,t,Be(n&&ut(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function li(e){return{from:function(t){return e.prototype=Object.create(t.prototype),on(e.prototype,"constructor",e),{extend:wi.bind(null,e.prototype)}}}}const qb=Object.getOwnPropertyDescriptor;function ch(e,t){let n;return qb(e,t)||(n=Fs(e))&&ch(n,t)}const Wb=[].slice;function Fa(e,t,n){return Wb.call(e,t,n)}function Wm(e,t){return t(e)}function Ji(e){if(!e)throw new Error("Assertion Failed")}function Gm(e){oe.setImmediate?setImmediate(e):setTimeout(e,0)}function Qm(e,t){return e.reduce((n,r,i)=>{var s=t(r,i);return s&&(n[s[0]]=s[1]),n},{})}function an(e,t){if(typeof t=="string"&&ut(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var s=an(e,t[r]);n.push(s)}return n}var o=t.indexOf(".");if(o!==-1){var a=e[t.substr(0,o)];return a==null?void 0:an(a,t.substr(o+1))}}function Tt(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Ji(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)Tt(e,t[r],n[r])}else{var s=t.indexOf(".");if(s!==-1){var o=t.substr(0,s),a=t.substr(s+1);if(a==="")n===void 0?Ie(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n;else{var l=e[o];l&&ut(e,o)||(l=e[o]={}),Tt(l,a,n)}}else n===void 0?Ie(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Jm(e){var t={};for(var n in e)ut(e,n)&&(t[n]=e[n]);return t}const Gb=[].concat;function Ym(e){return Gb.apply([],e)}const Xm="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ym([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>oe[e]),Qb=Xm.map(e=>oe[e]);Qm(Xm,e=>[e,!0]);let Tn=null;function io(e){Tn=typeof WeakMap<"u"&&new WeakMap;const t=Pc(e);return Tn=null,t}function Pc(e){if(!e||typeof e!="object")return e;let t=Tn&&Tn.get(e);if(t)return t;if(Ie(e)){t=[],Tn&&Tn.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(Pc(e[n]))}else if(Qb.indexOf(e.constructor)>=0)t=e;else{const s=Fs(e);for(var i in t=s===Object.prototype?{}:Object.create(s),Tn&&Tn.set(e,t),e)ut(e,i)&&(t[i]=Pc(e[i]))}return t}const{toString:Jb}={};function Oc(e){return Jb.call(e).slice(8,-1)}const Nc=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Yb=typeof Nc=="symbol"?function(e){var t;return e!=null&&(t=e[Nc])&&t.apply(e)}:function(){return null},Fr={};function Zt(e){var t,n,r,i;if(arguments.length===1){if(Ie(e))return e.slice();if(this===Fr&&typeof e=="string")return[e];if(i=Yb(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const dh=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Ut=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Zm(e,t){Ut=e,ev=t}var ev=()=>!0;const Xb=!new Error("").stack;function Er(){if(Xb)try{throw Er.arguments,new Error}catch(e){return e}return new Error}function Rc(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(ev).map(r=>`
`+r).join("")):""}var tv=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],hh=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(tv),Zb={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ui(e,t){this._e=Er(),this.name=e,this.message=t}function nv(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join(`
`)}function Ba(e,t,n,r){this._e=Er(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=nv(e,t)}function fs(e,t){this._e=Er(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=nv(e,t)}li(ui).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Rc(this._e,2))}},toString:function(){return this.name+": "+this.message}}),li(Ba).from(ui),li(fs).from(ui);var fh=hh.reduce((e,t)=>(e[t]=t+"Error",e),{});const ek=ui;var F=hh.reduce((e,t)=>{var n=t+"Error";function r(i,s){this._e=Er(),this.name=n,i?typeof i=="string"?(this.message=`${i}${s?`
 `+s:""}`,this.inner=s||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=Zb[t]||n,this.inner=null)}return li(r).from(ek),e[t]=r,e},{});F.Syntax=SyntaxError,F.Type=TypeError,F.Range=RangeError;var vp=tv.reduce((e,t)=>(e[t+"Error"]=F[t],e),{}),ea=hh.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=F[t]),e),{});function ee(){}function Bs(e){return e}function tk(e,t){return e==null||e===Bs?t:function(n){return t(e(n))}}function xr(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function nk(e,t){return e===ee?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?xr(r,this.onsuccess):r),i&&(this.onerror=this.onerror?xr(i,this.onerror):i),s!==void 0?s:n}}function rk(e,t){return e===ee?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?xr(n,this.onsuccess):n),r&&(this.onerror=this.onerror?xr(r,this.onerror):r)}}function ik(e,t){return e===ee?t:function(n){var r=e.apply(this,arguments);Be(n,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?xr(i,this.onsuccess):i),s&&(this.onerror=this.onerror?xr(s,this.onerror):s),r===void 0?o===void 0?void 0:o:Be(r,o)}}function sk(e,t){return e===ee?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function ph(e,t){return e===ee?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then(function(){return t.apply(r,s)})}return t.apply(this,arguments)}}ea.ModifyError=Ba,ea.DexieError=ui,ea.BulkError=fs;var Us={};const rv=100,[Lc,Ua,Dc]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Fs(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Fs(t),e]})(),iv=Ua&&Ua.then,ta=Lc&&Lc.constructor,gh=!!Dc;var Ic=!1,ok=Dc?()=>{Dc.then(Lo)}:oe.setImmediate?setImmediate.bind(null,Lo):oe.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{Lo(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Lo,0)},ps=function(e,t){Yi.push([e,t]),Va&&(ok(),Va=!1)},Ac=!0,Va=!0,hr=[],na=[],$c=null,Mc=Bs,ci={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:_p,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{_p(e[0],e[1])}catch{}})}},A=ci,Yi=[],fr=0,ra=[];function R(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ee,this._lib=!1;var t=this._PSD=A;if(Ut&&(this._stackHolder=Er(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==Us)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Fc(this,this._value))}this._state=null,this._value=null,++t.ref,ov(this,e)}const zc={get:function(){var e=A,t=Ha;function n(r,i){var s=!e.global&&(e!==A||t!==Ha);const o=s&&!hn();var a=new R((l,u)=>{mh(this,new sv(Ka(r,e,s,o),Ka(i,e,s,o),l,u,e))});return Ut&&uv(a,this),a}return n.prototype=Us,n},set:function(e){on(this,"then",e&&e.prototype===Us?zc:{get:function(){return e},set:zc.set})}};function sv(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}function ov(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&so();n&&typeof n.then=="function"?ov(e,(i,s)=>{n instanceof R?n._then(i,s):n.then(i,s)}):(e._state=!0,e._value=n,av(e)),r&&oo()}},Fc.bind(null,e))}catch(n){Fc(e,n)}}function Fc(e,t){if(na.push(t),e._state===null){var n=e._lib&&so();t=Mc(t),e._state=!1,e._value=t,Ut&&t!==null&&typeof t=="object"&&!t._promise&&function(r,i,s){try{r.apply(null,s)}catch{}}(()=>{var r=ch(t,"stack");t._promise=e,on(t,"stack",{get:()=>Ic?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){hr.some(i=>i._value===r._value)||hr.push(r)}(e),av(e),n&&oo()}}function av(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)mh(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),fr===0&&(++fr,ps(()=>{--fr==0&&vh()},[]))}function mh(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++fr,ps(ak,[n,e,t])}else e._listeners.push(t)}function ak(e,t,n){try{$c=t;var r,i=t._value;t._state?r=e(i):(na.length&&(na=[]),r=e(i),na.indexOf(i)===-1&&function(s){for(var o=hr.length;o;)if(hr[--o]._value===s._value)return void hr.splice(o,1)}(t)),n.resolve(r)}catch(s){n.reject(s)}finally{$c=null,--fr==0&&vh(),--n.psd.ref||n.psd.finalize()}}function lv(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i,s,o=e._value;o!=null?(i=o.name||"Error",s=o.message||o,r=Rc(o,0)):(i=o,s=""),t.push(i+(s?": "+s:"")+r)}return Ut&&((r=Rc(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&lv(e._prev,t,n)),t}function uv(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Lo(){so()&&oo()}function so(){var e=Ac;return Ac=!1,Va=!1,e}function oo(){var e,t,n;do for(;Yi.length>0;)for(e=Yi,Yi=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(Yi.length>0);Ac=!0,Va=!0}function vh(){var e=hr;hr=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=ra.slice(0),n=t.length;n;)t[--n]()}function Do(e){return new R(Us,!1,e)}function le(e,t){var n=A;return function(){var r=so(),i=A;try{return Wn(n,!0),e.apply(this,arguments)}catch(s){t&&t(s)}finally{Wn(i,!1),r&&oo()}}}wi(R.prototype,{then:zc,_then:function(e,t){mh(this,new sv(null,null,e,t,A))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):Do(r)):this.then(null,r=>r&&r.name===t?n(r):Do(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),Do(t)))},stack:{get:function(){if(this._stack)return this._stack;try{Ic=!0;var e=lv(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{Ic=!1}}},timeout:function(e,t){return e<1/0?new R((n,r)=>{var i=setTimeout(()=>r(new F.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&on(R.prototype,Symbol.toStringTag,"Dexie.Promise"),ci.env=cv(),wi(R,{all:function(){var e=Zt.apply(null,arguments).map(Io);return new R(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((i,s)=>R.resolve(i).then(o=>{e[s]=o,--r||t(e)},n))})},resolve:e=>{if(e instanceof R)return e;if(e&&typeof e.then=="function")return new R((n,r)=>{e.then(n,r)});var t=new R(Us,!0,e);return uv(t,$c),t},reject:Do,race:function(){var e=Zt.apply(null,arguments).map(Io);return new R((t,n)=>{e.map(r=>R.resolve(r).then(t,n))})},PSD:{get:()=>A,set:e=>A=e},totalEchoes:{get:()=>Ha},newPSD:qn,usePSD:Pi,scheduler:{get:()=>ps,set:e=>{ps=e}},rejectionMapper:{get:()=>Mc,set:e=>{Mc=e}},follow:(e,t)=>new R((n,r)=>qn((i,s)=>{var o=A;o.unhandleds=[],o.onunhandled=s,o.finalize=xr(function(){(function(a){function l(){a(),ra.splice(ra.indexOf(l),1)}ra.push(l),++fr,ps(()=>{--fr==0&&vh()},[])})(()=>{this.unhandleds.length===0?i():s(this.unhandleds[0])})},o.finalize),e()},t,n,r))}),ta&&(ta.allSettled&&on(R,"allSettled",function(){const e=Zt.apply(null,arguments).map(Io);return new R(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((i,s)=>R.resolve(i).then(o=>r[s]={status:"fulfilled",value:o},o=>r[s]={status:"rejected",reason:o}).then(()=>--n||t(r)))})}),ta.any&&typeof AggregateError<"u"&&on(R,"any",function(){const e=Zt.apply(null,arguments).map(Io);return new R((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach((s,o)=>R.resolve(s).then(a=>t(a),a=>{i[o]=a,--r||n(new AggregateError(i))}))})}));const De={awaits:0,echoes:0,id:0};var lk=0,ia=[],fu=0,Ha=0,uk=0;function qn(e,t,n,r){var i=A,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++uk;var o=ci.env;s.env=gh?{Promise:R,PromiseProp:{value:R,configurable:!0,writable:!0},all:R.all,race:R.race,allSettled:R.allSettled,any:R.any,resolve:R.resolve,reject:R.reject,nthen:yp(o.nthen,s),gthen:yp(o.gthen,s)}:{},t&&Be(s,t),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=Pi(s,e,n,r);return s.ref===0&&s.finalize(),a}function Ti(){return De.id||(De.id=++lk),++De.awaits,De.echoes+=rv,De.id}function hn(){return!!De.awaits&&(--De.awaits==0&&(De.id=0),De.echoes=De.awaits*rv,!0)}function Io(e){return De.echoes&&e&&e.constructor===ta?(Ti(),e.then(t=>(hn(),t),t=>(hn(),xe(t)))):e}function ck(e){++Ha,De.echoes&&--De.echoes!=0||(De.echoes=De.id=0),ia.push(A),Wn(e,!0)}function dk(){var e=ia[ia.length-1];ia.pop(),Wn(e,!1)}function Wn(e,t){var n=A;if((t?!De.echoes||fu++&&e===A:!fu||--fu&&e===A)||dv(t?ck.bind(null,e):dk),e!==A&&(A=e,n===ci&&(ci.env=cv()),gh)){var r=ci.env.Promise,i=e.env;Ua.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(oe,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function cv(){var e=oe.Promise;return gh?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(oe,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Ua.then,gthen:e.prototype.then}:{}}function Pi(e,t,n,r,i){var s=A;try{return Wn(e,!0),t(n,r,i)}finally{Wn(s,!1)}}function dv(e){iv.call(Lc,e)}function Ka(e,t,n,r){return typeof e!="function"?e:function(){var i=A;n&&Ti(),Wn(t,!0);try{return e.apply(this,arguments)}finally{Wn(i,!1),r&&dv(hn)}}}function yp(e,t){return function(n,r){return e.call(this,Ka(n,t),Ka(r,t))}}(""+iv).indexOf("[native code]")===-1&&(Ti=hn=ee);const wp="unhandledrejection";function _p(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(oe.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(wp,!0,!0),Be(r,i)):oe.CustomEvent&&Be(r=new CustomEvent(wp,{detail:i}),i),r&&oe.dispatchEvent&&(dispatchEvent(r),!oe.PromiseRejectionEvent&&oe.onunhandledrejection))try{oe.onunhandledrejection(r)}catch{}Ut&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var xe=R.reject;function Bc(e,t,n,r){if(e.idbdb&&(e._state.openComplete||A.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===fh.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Bc(e,t,n,r))):xe(s)}return i._promise(t,(s,o)=>qn(()=>(A.trans=i,r(s,o,i)))).then(s=>i._completion.then(()=>s))}if(e._state.openComplete)return xe(new F.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return xe(new F.DatabaseClosed);e.open().catch(ee)}return e._state.dbReadyPromise.then(()=>Bc(e,t,n,r))}const xp="3.2.7",lr="",Uc=-1/0,Gt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",hv="String expected.",gs=[],Sl=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),hk=Sl,fk=Sl,fv=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),Cl="__dbnames",pu="readonly",gu="readwrite";function br(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const pv={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ao(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=io(t))[e],t)}class pk{_trans(t,n,r){const i=this._tx||A.trans,s=this.name;function o(l,u,c){if(!c.schema[s])throw new F.NotFound("Table "+s+" not part of transaction");return n(c.idbtrans,c)}const a=so();try{return i&&i.db===this.db?i===A.trans?i._promise(t,o,r):qn(()=>i._promise(t,o,r),{trans:i,transless:A.transless||A}):Bc(this.db,t,[this.name],o)}finally{a&&oo()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(i=>this.hook.reading.fire(i))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(Ie(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=ve(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(u=>{if(u.compound&&n.every(c=>u.keyPath.indexOf(c)>=0)){for(let c=0;c<n.length;++c)if(n.indexOf(u.keyPath[c])===-1)return!1;return!0}return!1}).sort((u,c)=>u.keyPath.length-c.keyPath.length)[0];if(r&&this.db._maxKey!==lr){const u=r.keyPath.slice(0,n.length);return this.where(u).equals(u.map(c=>t[c]))}!r&&Ut&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:i}=this.schema,s=this.db._deps.indexedDB;function o(u,c){try{return s.cmp(u,c)===0}catch{return!1}}const[a,l]=n.reduce(([u,c],d)=>{const h=i[d],f=t[d];return[u||h,u||!h?br(c,h&&h.multi?v=>{const m=an(v,d);return Ie(m)&&m.some(w=>o(f,w))}:v=>o(f,an(v,d))):c]},[null,null]);return a?this.where(a.name).equals(t[a.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,Ie(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const i=Object.create(t.prototype);for(var s in r)if(ut(r,s))try{i[s]=r[s]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){Be(this,t)})}add(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=t;return i&&r&&(s=Ao(i)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"add",keys:n!=null?[n]:null,values:[s]})).then(o=>o.numFailures?R.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{Tt(t,i,o)}catch{}return o})}update(t,n){if(typeof t!="object"||Ie(t))return this.where(":id").equals(t).modify(n);{const r=an(t,this.schema.primKey.keyPath);if(r===void 0)return xe(new F.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?ve(n).forEach(i=>{Tt(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=t;return i&&r&&(s=Ao(i)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"put",values:[s],keys:n!=null?[n]:null})).then(o=>o.numFailures?R.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{Tt(t,i,o)}catch{}return o})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?R.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:pv})).then(t=>t.numFailures?R.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(t,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&i)throw new F.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new F.InvalidArgument("Arguments objects and keys must have the same length");const u=t.length;let c=l&&a?t.map(Ao(l)):t;return this.core.mutate({trans:o,type:"add",keys:i,values:c,wantResults:s}).then(({numFailures:d,results:h,lastResult:f,failures:v})=>{if(d===0)return s?h:f;throw new fs(`${this.name}.bulkAdd(): ${d} of ${u} operations failed`,v)})})}bulkPut(t,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&i)throw new F.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new F.InvalidArgument("Arguments objects and keys must have the same length");const u=t.length;let c=l&&a?t.map(Ao(l)):t;return this.core.mutate({trans:o,type:"put",keys:i,values:c,wantResults:s}).then(({numFailures:d,results:h,lastResult:f,failures:v})=>{if(d===0)return s?h:f;throw new fs(`${this.name}.bulkPut(): ${d} of ${u} operations failed`,v)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:i,failures:s})=>{if(r===0)return i;throw new fs(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,s)})}}function ms(e){var t={},n=function(o,a){if(a){for(var l=arguments.length,u=new Array(l-1);--l;)u[l-1]=arguments[l];return t[o].subscribe.apply(null,u),e}if(typeof o=="string")return t[o]};n.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return n;function s(o,a,l){if(typeof o!="object"){var u;a||(a=sk),l||(l=ee);var c={subscribers:[],fire:l,subscribe:function(d){c.subscribers.indexOf(d)===-1&&(c.subscribers.push(d),c.fire=a(c.fire,d))},unsubscribe:function(d){c.subscribers=c.subscribers.filter(function(h){return h!==d}),c.fire=c.subscribers.reduce(a,l)}};return t[o]=n[o]=c,c}ve(u=o).forEach(function(d){var h=u[d];if(Ie(h))s(d,u[d][0],u[d][1]);else{if(h!=="asap")throw new F.InvalidArgument("Invalid event config");var f=s(d,Bs,function(){for(var v=arguments.length,m=new Array(v);v--;)m[v]=arguments[v];f.subscribers.forEach(function(w){Gm(function(){w.apply(null,m)})})})}})}}function Hi(e,t){return li(t).from({prototype:e}),t}function $r(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function mu(e,t){e.filter=br(e.filter,t)}function vu(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>br(r(),t()):t,e.justLimit=n&&!r}function sa(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new F.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function bp(e,t,n){const r=sa(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function $o(e,t,n,r){const i=e.replayFilter?br(e.filter,e.replayFilter()):e.filter;if(e.or){const s={},o=(a,l,u)=>{if(!i||i(l,u,h=>l.stop(h),h=>l.fail(h))){var c=l.primaryKey,d=""+c;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(c)),ut(s,d)||(s[d]=!0,t(a,l,u))}};return Promise.all([e.or._iterate(o,n),kp(bp(e,r,n),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return kp(bp(e,r,n),br(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function kp(e,t,n,r){var i=le(r?(s,o,a)=>n(r(s),o,a):n);return e.then(s=>{if(s)return s.start(()=>{var o=()=>s.continue();t&&!t(s,a=>o=a,a=>{s.stop(a),o=ee},a=>{s.fail(a),o=ee})||i(s.value,s,a=>o=a),o()})})}function ze(e,t){try{const n=Sp(e),r=Sp(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(i,s){const o=i.length,a=s.length,l=o<a?o:a;for(let u=0;u<l;++u)if(i[u]!==s[u])return i[u]<s[u]?-1:1;return o===a?0:o<a?-1:1}(Cp(e),Cp(t));case"Array":return function(i,s){const o=i.length,a=s.length,l=o<a?o:a;for(let u=0;u<l;++u){const c=ze(i[u],s[u]);if(c!==0)return c}return o===a?0:o<a?-1:1}(e,t)}}catch{}return NaN}function Sp(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=Oc(e);return n==="ArrayBuffer"?"binary":n}function Cp(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class gk{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,xe.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,xe.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=br(n.algorithm,t)}_iterate(t,n){return $o(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&Be(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>$o(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,i=r.table.core;if($r(r,!0))return i.count({trans:n,query:{index:sa(r,i.schema),range:r.range}}).then(o=>Math.min(o,r.limit));var s=0;return $o(r,()=>(++s,!1),n,i).then(()=>s)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),i=r[0],s=r.length-1;function o(u,c){return c?o(u[r[c]],c-1):u[i]}var a=this._ctx.dir==="next"?1:-1;function l(u,c){var d=o(u,s),h=o(c,s);return d<h?-a:d>h?a:0}return this.toArray(function(u){return u.sort(l)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&$r(r,!0)&&r.limit>0){const{valueMapper:i}=r,s=sa(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:s,range:r.range}}).then(({result:o})=>i?o.map(i):o)}{const i=[];return $o(r,s=>i.push(s),n,r.table.core).then(()=>i)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,$r(n)?vu(n,()=>{var r=t;return(i,s)=>r===0||(r===1?(--r,!1):(s(()=>{i.advance(r),r=0}),!1))}):vu(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),vu(this._ctx,()=>{var n=t;return function(r,i,s){return--n<=0&&i(s),n>=0}},!0),this}until(t,n){return mu(this._ctx,function(r,i,s){return!t(r.value)||(i(s),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return mu(this._ctx,function(i){return t(i.value)}),n=this._ctx,r=t,n.isMatch=br(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&$r(n,!0)&&n.limit>0)return this._read(i=>{var s=sa(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:s,range:n.range}})}).then(({result:i})=>i).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return mu(this._ctx,function(i){var s=i.primaryKey.toString(),o=ut(r,s);return r[s]=!0,!o}),this}modify(t){var n=this._ctx;return this._write(r=>{var i;if(typeof t=="function")i=t;else{var s=ve(t),o=s.length;i=function(m){for(var w=!1,p=0;p<o;++p){var g=s[p],y=t[g];an(m,g)!==y&&(Tt(m,g,y),w=!0)}return w}}const a=n.table.core,{outbound:l,extractKey:u}=a.schema.primaryKey,c=this.db._options.modifyChunkSize||200,d=[];let h=0;const f=[],v=(m,w)=>{const{failures:p,numFailures:g}=w;h+=m-g;for(let y of ve(p))d.push(p[y])};return this.clone().primaryKeys().then(m=>{const w=p=>{const g=Math.min(c,m.length-p);return a.getMany({trans:r,keys:m.slice(p,p+g),cache:"immutable"}).then(y=>{const x=[],b=[],S=l?[]:null,C=[];for(let E=0;E<g;++E){const P=y[E],N={value:io(P),primKey:m[p+E]};i.call(N,N.value,N)!==!1&&(N.value==null?C.push(m[p+E]):l||ze(u(P),u(N.value))===0?(b.push(N.value),l&&S.push(m[p+E])):(C.push(m[p+E]),x.push(N.value)))}const j=$r(n)&&n.limit===1/0&&(typeof t!="function"||t===yu)&&{index:n.index,range:n.range};return Promise.resolve(x.length>0&&a.mutate({trans:r,type:"add",values:x}).then(E=>{for(let P in E.failures)C.splice(parseInt(P),1);v(x.length,E)})).then(()=>(b.length>0||j&&typeof t=="object")&&a.mutate({trans:r,type:"put",keys:S,values:b,criteria:j,changeSpec:typeof t!="function"&&t}).then(E=>v(b.length,E))).then(()=>(C.length>0||j&&t===yu)&&a.mutate({trans:r,type:"delete",keys:C,criteria:j}).then(E=>v(C.length,E))).then(()=>m.length>p+g&&w(p+c))})};return w(0).then(()=>{if(d.length>0)throw new Ba("Error modifying one or more objects",d,h,f);return m.length})})})}delete(){var t=this._ctx,n=t.range;return $r(t)&&(t.isPrimKey&&!fk||n.type===3)?this._write(r=>{const{primaryKey:i}=t.table.core.schema,s=n;return t.table.core.count({trans:r,query:{index:i,range:s}}).then(o=>t.table.core.mutate({trans:r,type:"deleteRange",range:s}).then(({failures:a,lastResult:l,results:u,numFailures:c})=>{if(c)throw new Ba("Could not delete some values",Object.keys(a).map(d=>a[d]),o-c);return o-c}))}):this.modify(yu)}}const yu=(e,t)=>t.value=null;function mk(e,t){return e<t?-1:e===t?0:1}function vk(e,t){return e>t?-1:e===t?0:1}function nt(e,t,n){var r=e instanceof mv?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Mr(e){return new e.Collection(e,()=>gv("")).limit(0)}function yk(e,t,n,r,i,s){for(var o=Math.min(e.length,r.length),a=-1,l=0;l<o;++l){var u=t[l];if(u!==r[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;i(e[l],u)<0&&(a=l)}return o<r.length&&s==="next"?e+n.substr(e.length):o<e.length&&s==="prev"?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function Mo(e,t,n,r){var i,s,o,a,l,u,c,d=n.length;if(!n.every(m=>typeof m=="string"))return nt(e,hv);function h(m){i=function(p){return p==="next"?g=>g.toUpperCase():g=>g.toLowerCase()}(m),s=function(p){return p==="next"?g=>g.toLowerCase():g=>g.toUpperCase()}(m),o=m==="next"?mk:vk;var w=n.map(function(p){return{lower:s(p),upper:i(p)}}).sort(function(p,g){return o(p.lower,g.lower)});a=w.map(function(p){return p.upper}),l=w.map(function(p){return p.lower}),u=m,c=m==="next"?"":r}h("next");var f=new e.Collection(e,()=>kn(a[0],l[d-1]+r));f._ondirectionchange=function(m){h(m)};var v=0;return f._addAlgorithm(function(m,w,p){var g=m.key;if(typeof g!="string")return!1;var y=s(g);if(t(y,l,v))return!0;for(var x=null,b=v;b<d;++b){var S=yk(g,y,a[b],l[b],o,u);S===null&&x===null?v=b+1:(x===null||o(x,S)>0)&&(x=S)}return w(x!==null?function(){m.continue(x+c)}:p),!1}),f}function kn(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function gv(e){return{type:1,lower:e,upper:e}}class mv{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&(!r||!i)?Mr(this):new this.Collection(this,()=>kn(t,n,!r,!i))}catch{return nt(this,Gt)}}equals(t){return t==null?nt(this,Gt):new this.Collection(this,()=>gv(t))}above(t){return t==null?nt(this,Gt):new this.Collection(this,()=>kn(t,void 0,!0))}aboveOrEqual(t){return t==null?nt(this,Gt):new this.Collection(this,()=>kn(t,void 0,!1))}below(t){return t==null?nt(this,Gt):new this.Collection(this,()=>kn(void 0,t,!1,!0))}belowOrEqual(t){return t==null?nt(this,Gt):new this.Collection(this,()=>kn(void 0,t))}startsWith(t){return typeof t!="string"?nt(this,hv):this.between(t,t+lr,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):Mo(this,(n,r)=>n.indexOf(r[0])===0,[t],lr)}equalsIgnoreCase(t){return Mo(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=Zt.apply(Fr,arguments);return t.length===0?Mr(this):Mo(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=Zt.apply(Fr,arguments);return t.length===0?Mr(this):Mo(this,(n,r)=>r.some(i=>n.indexOf(i)===0),t,lr)}anyOf(){const t=Zt.apply(Fr,arguments);let n=this._cmp;try{t.sort(n)}catch{return nt(this,Gt)}if(t.length===0)return Mr(this);const r=new this.Collection(this,()=>kn(t[0],t[t.length-1]));r._ondirectionchange=s=>{n=s==="next"?this._ascending:this._descending,t.sort(n)};let i=0;return r._addAlgorithm((s,o,a)=>{const l=s.key;for(;n(l,t[i])>0;)if(++i,i===t.length)return o(a),!1;return n(l,t[i])===0||(o(()=>{s.continue(t[i])}),!1)}),r}notEqual(t){return this.inAnyRange([[Uc,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=Zt.apply(Fr,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return nt(this,Gt)}const n=t.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[Uc,i]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,i=this._ascending,s=this._descending,o=this._min,a=this._max;if(t.length===0)return Mr(this);if(!t.every(g=>g[0]!==void 0&&g[1]!==void 0&&i(g[0],g[1])<=0))return nt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",F.InvalidArgument);const l=!n||n.includeLowers!==!1,u=n&&n.includeUppers===!0;let c,d=i;function h(g,y){return d(g[0],y[0])}try{c=t.reduce(function(g,y){let x=0,b=g.length;for(;x<b;++x){const S=g[x];if(r(y[0],S[1])<0&&r(y[1],S[0])>0){S[0]=o(S[0],y[0]),S[1]=a(S[1],y[1]);break}}return x===b&&g.push(y),g},[]),c.sort(h)}catch{return nt(this,Gt)}let f=0;const v=u?g=>i(g,c[f][1])>0:g=>i(g,c[f][1])>=0,m=l?g=>s(g,c[f][0])>0:g=>s(g,c[f][0])>=0;let w=v;const p=new this.Collection(this,()=>kn(c[0][0],c[c.length-1][1],!l,!u));return p._ondirectionchange=g=>{g==="next"?(w=v,d=i):(w=m,d=s),c.sort(h)},p._addAlgorithm((g,y,x)=>{for(var b=g.key;w(b);)if(++f,f===c.length)return y(x),!1;return!!function(S){return!v(S)&&!m(S)}(b)||(this._cmp(b,c[f][1])===0||this._cmp(b,c[f][0])===0||y(()=>{d===i?g.continue(c[f][0]):g.continue(c[f][1])}),!1)}),p}startsWithAnyOf(){const t=Zt.apply(Fr,arguments);return t.every(n=>typeof n=="string")?t.length===0?Mr(this):this.inAnyRange(t.map(n=>[n,n+lr])):nt(this,"startsWithAnyOf() only works with strings")}}function $t(e){return le(function(t){return Vs(t),e(t.target.error),!1})}function Vs(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Hs="storagemutated",Rn="x-storagemutated-1",Gn=ms(null,Hs);class wk{_lock(){return Ji(!A.global),++this._reculock,this._reculock!==1||A.global||(A.lockOwnerFor=this),this}_unlock(){if(Ji(!A.global),--this._reculock==0)for(A.global||(A.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Pi(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&A.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Ji(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new F.DatabaseClosed(r);case"MissingAPIError":throw new F.MissingAPI(r.message,r);default:throw new F.OpenFailed(r)}if(!this.active)throw new F.TransactionInactive;return Ji(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=le(i=>{Vs(i),this._reject(t.error)}),t.onabort=le(i=>{Vs(i),this.active&&this._reject(new F.Abort(t.error)),this.active=!1,this.on("abort").fire(i)}),t.oncomplete=le(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Gn.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return xe(new F.ReadOnly("Transaction is readonly"));if(!this.active)return xe(new F.TransactionInactive);if(this._locked())return new R((s,o)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(s,o)},A])});if(r)return qn(()=>{var s=new R((o,a)=>{this._lock();const l=n(o,a,this);l&&l.then&&l.then(o,a)});return s.finally(()=>this._unlock()),s._lib=!0,s});var i=new R((s,o)=>{var a=n(s,o,this);a&&a.then&&a.then(s,o)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=R.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function o(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=o)})()}var s=n._waitingFor;return new R((o,a)=>{r.then(l=>n._waitingQueue.push(le(o.bind(null,l))),l=>n._waitingQueue.push(le(a.bind(null,l)))).finally(()=>{n._waitingFor===s&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new F.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(ut(n,t))return n[t];const r=this.schema[t];if(!r)throw new F.NotFound("Table "+t+" not part of transaction");const i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i}}function Vc(e,t,n,r,i,s,o){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:s,src:(n&&!o?"&":"")+(r?"*":"")+(i?"++":"")+vv(t)}}function vv(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function yv(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:Qm(n,r=>[r.name,r])}}let Ks=e=>{try{return e.only([[]]),Ks=()=>[[]],[[]]}catch{return Ks=()=>lr,lr}};function Hc(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?r=>r[t]:r=>an(r,t)}(e):t=>an(t,e)}function Ep(e){return[].slice.call(e)}let _k=0;function vs(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function xk(e,t,n){function r(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:u,upper:c,lowerOpen:d,upperOpen:h}=l;return u===void 0?c===void 0?null:t.upperBound(c,!!h):c===void 0?t.lowerBound(u,!!d):t.bound(u,c,!!d,!!h)}const{schema:i,hasGetAll:s}=function(l,u){const c=Ep(l.objectStoreNames);return{schema:{name:l.name,tables:c.map(d=>u.objectStore(d)).map(d=>{const{keyPath:h,autoIncrement:f}=d,v=Ie(h),m=h==null,w={},p={name:d.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:m,compound:v,keyPath:h,autoIncrement:f,unique:!0,extractKey:Hc(h)},indexes:Ep(d.indexNames).map(g=>d.index(g)).map(g=>{const{name:y,unique:x,multiEntry:b,keyPath:S}=g,C={name:y,compound:Ie(S),keyPath:S,unique:x,multiEntry:b,extractKey:Hc(S)};return w[vs(S)]=C,C}),getIndexByKeyPath:g=>w[vs(g)]};return w[":id"]=p.primaryKey,h!=null&&(w[vs(h)]=p.primaryKey),p})},hasGetAll:c.length>0&&"getAll"in u.objectStore(c[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),o=i.tables.map(l=>function(u){const c=u.name;return{name:c,schema:u,mutate:function({trans:d,type:h,keys:f,values:v,range:m}){return new Promise((w,p)=>{w=le(w);const g=d.objectStore(c),y=g.keyPath==null,x=h==="put"||h==="add";if(!x&&h!=="delete"&&h!=="deleteRange")throw new Error("Invalid operation type: "+h);const{length:b}=f||v||{length:1};if(f&&v&&f.length!==v.length)throw new Error("Given keys array must have same length as given values array.");if(b===0)return w({numFailures:0,failures:{},results:[],lastResult:void 0});let S;const C=[],j=[];let E=0;const P=$=>{++E,Vs($)};if(h==="deleteRange"){if(m.type===4)return w({numFailures:E,failures:j,results:[],lastResult:void 0});m.type===3?C.push(S=g.clear()):C.push(S=g.delete(r(m)))}else{const[$,M]=x?y?[v,f]:[v,null]:[f,null];if(x)for(let I=0;I<b;++I)C.push(S=M&&M[I]!==void 0?g[h]($[I],M[I]):g[h]($[I])),S.onerror=P;else for(let I=0;I<b;++I)C.push(S=g[h]($[I])),S.onerror=P}const N=$=>{const M=$.target.result;C.forEach((I,J)=>I.error!=null&&(j[J]=I.error)),w({numFailures:E,failures:j,results:h==="delete"?f:C.map(I=>I.result),lastResult:M})};S.onerror=$=>{P($),N($)},S.onsuccess=N})},getMany:({trans:d,keys:h})=>new Promise((f,v)=>{f=le(f);const m=d.objectStore(c),w=h.length,p=new Array(w);let g,y=0,x=0;const b=C=>{const j=C.target;p[j._pos]=j.result,++x===y&&f(p)},S=$t(v);for(let C=0;C<w;++C)h[C]!=null&&(g=m.get(h[C]),g._pos=C,g.onsuccess=b,g.onerror=S,++y);y===0&&f(p)}),get:({trans:d,key:h})=>new Promise((f,v)=>{f=le(f);const m=d.objectStore(c).get(h);m.onsuccess=w=>f(w.target.result),m.onerror=$t(v)}),query:function(d){return h=>new Promise((f,v)=>{f=le(f);const{trans:m,values:w,limit:p,query:g}=h,y=p===1/0?void 0:p,{index:x,range:b}=g,S=m.objectStore(c),C=x.isPrimaryKey?S:S.index(x.name),j=r(b);if(p===0)return f({result:[]});if(d){const E=w?C.getAll(j,y):C.getAllKeys(j,y);E.onsuccess=P=>f({result:P.target.result}),E.onerror=$t(v)}else{let E=0;const P=w||!("openKeyCursor"in C)?C.openCursor(j):C.openKeyCursor(j),N=[];P.onsuccess=$=>{const M=P.result;return M?(N.push(w?M.value:M.primaryKey),++E===p?f({result:N}):void M.continue()):f({result:N})},P.onerror=$t(v)}})}(s),openCursor:function({trans:d,values:h,query:f,reverse:v,unique:m}){return new Promise((w,p)=>{w=le(w);const{index:g,range:y}=f,x=d.objectStore(c),b=g.isPrimaryKey?x:x.index(g.name),S=v?m?"prevunique":"prev":m?"nextunique":"next",C=h||!("openKeyCursor"in b)?b.openCursor(r(y),S):b.openKeyCursor(r(y),S);C.onerror=$t(p),C.onsuccess=le(j=>{const E=C.result;if(!E)return void w(null);E.___id=++_k,E.done=!1;const P=E.continue.bind(E);let N=E.continuePrimaryKey;N&&(N=N.bind(E));const $=E.advance.bind(E),M=()=>{throw new Error("Cursor not stopped")};E.trans=d,E.stop=E.continue=E.continuePrimaryKey=E.advance=()=>{throw new Error("Cursor not started")},E.fail=le(p),E.next=function(){let I=1;return this.start(()=>I--?this.continue():this.stop()).then(()=>this)},E.start=I=>{const J=new Promise((U,O)=>{U=le(U),C.onerror=$t(O),E.fail=O,E.stop=D=>{E.stop=E.continue=E.continuePrimaryKey=E.advance=M,U(D)}}),Q=()=>{if(C.result)try{I()}catch(U){E.fail(U)}else E.done=!0,E.start=()=>{throw new Error("Cursor behind last entry")},E.stop()};return C.onsuccess=le(U=>{C.onsuccess=Q,Q()}),E.continue=P,E.continuePrimaryKey=N,E.advance=$,Q(),J},w(E)},p)})},count({query:d,trans:h}){const{index:f,range:v}=d;return new Promise((m,w)=>{const p=h.objectStore(c),g=f.isPrimaryKey?p:p.index(f.name),y=r(v),x=y?g.count(y):g.count();x.onsuccess=le(b=>m(b.target.result)),x.onerror=$t(w)})}}}(l)),a={};return o.forEach(l=>a[l.name]=l),{stack:"dbcore",transaction:e.transaction.bind(e),table(l){if(!a[l])throw new Error(`Table '${l}' not found`);return a[l]},MIN_KEY:-1/0,MAX_KEY:Ks(t),schema:i}}function Kc({_novip:e},t){const n=t.db,r=function(i,s,{IDBKeyRange:o,indexedDB:a},l){return{dbcore:function(c,d){return d.reduce((h,{create:f})=>({...h,...f(h)}),c)}(xk(s,o,l),i.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(i=>{const s=i.name;e.core.schema.tables.some(o=>o.name===s)&&(i.core=e.core.table(s),e[s]instanceof e.Table&&(e[s].core=i.core))})}function qa({_novip:e},t,n,r){n.forEach(i=>{const s=r[i];t.forEach(o=>{const a=ch(o,i);(!a||"value"in a&&a.value===void 0)&&(o===e.Transaction.prototype||o instanceof e.Transaction?on(o,i,{get(){return this.table(i)},set(l){qm(this,i,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):o[i]=new e.Table(i,s))})})}function qc({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function bk(e,t){return e._cfg.version-t._cfg.version}function kk(e,t,n,r){const i=e._dbSchema,s=e._createTransaction("readwrite",e._storeNames,i);s.create(n),s._completion.catch(r);const o=s._reject.bind(s),a=A.transless||A;qn(()=>{A.trans=s,A.transless=a,t===0?(ve(i).forEach(l=>{wu(n,l,i[l].primKey,i[l].indexes)}),Kc(e,n),R.follow(()=>e.on.populate.fire(s)).catch(o)):function({_novip:l},u,c,d){const h=[],f=l._versions;let v=l._dbSchema=Gc(l,l.idbdb,d),m=!1;const w=f.filter(g=>g._cfg.version>=u);function p(){return h.length?R.resolve(h.shift()(c.idbtrans)).then(p):R.resolve()}return w.forEach(g=>{h.push(()=>{const y=v,x=g._cfg.dbschema;Qc(l,y,d),Qc(l,x,d),v=l._dbSchema=x;const b=wv(y,x);b.add.forEach(C=>{wu(d,C[0],C[1].primKey,C[1].indexes)}),b.change.forEach(C=>{if(C.recreate)throw new F.Upgrade("Not yet support for changing primary key");{const j=d.objectStore(C.name);C.add.forEach(E=>Wc(j,E)),C.change.forEach(E=>{j.deleteIndex(E.name),Wc(j,E)}),C.del.forEach(E=>j.deleteIndex(E))}});const S=g._cfg.contentUpgrade;if(S&&g._cfg.version>u){Kc(l,d),c._memoizedTables={},m=!0;let C=Jm(x);b.del.forEach(N=>{C[N]=y[N]}),qc(l,[l.Transaction.prototype]),qa(l,[l.Transaction.prototype],ve(C),C),c.schema=C;const j=dh(S);let E;j&&Ti();const P=R.follow(()=>{if(E=S(c),E&&j){var N=hn.bind(null,null);E.then(N,N)}});return E&&typeof E.then=="function"?R.resolve(E):P.then(()=>E)}}),h.push(y=>{(!m||!hk)&&function(x,b){[].slice.call(b.db.objectStoreNames).forEach(S=>x[S]==null&&b.db.deleteObjectStore(S))}(g._cfg.dbschema,y),qc(l,[l.Transaction.prototype]),qa(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),c.schema=l._dbSchema})}),p().then(()=>{var g,y;y=d,ve(g=v).forEach(x=>{y.db.objectStoreNames.contains(x)||wu(y,x,g[x].primKey,g[x].indexes)})})}(e,t,s,n).catch(o)})}function wv(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],s=t[r];if(i){const o={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!Sl)o.recreate=!0,n.change.push(o);else{const a=i.idxByName,l=s.idxByName;let u;for(u in a)l[u]||o.del.push(u);for(u in l){const c=a[u],d=l[u];c?c.src!==d.src&&o.change.push(d):o.add.push(d)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}else n.add.push([r,s])}return n}function wu(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(s=>Wc(i,s)),i}function Wc(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Gc(e,t,n){const r={};return Fa(t.objectStoreNames,0).forEach(i=>{const s=n.objectStore(i);let o=s.keyPath;const a=Vc(vv(o),o||"",!1,!1,!!s.autoIncrement,o&&typeof o!="string",!0),l=[];for(let c=0;c<s.indexNames.length;++c){const d=s.index(s.indexNames[c]);o=d.keyPath;var u=Vc(d.name,o,!!d.unique,!!d.multiEntry,!1,o&&typeof o!="string",!1);l.push(u)}r[i]=yv(i,a,l)}),r}function Qc({_novip:e},t,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const s=r[i],o=n.objectStore(s);e._hasGetAll="getAll"in o;for(let a=0;a<o.indexNames.length;++a){const l=o.indexNames[a],u=o.index(l).keyPath,c=typeof u=="string"?u:"["+Fa(u).join("+")+"]";if(t[s]){const d=t[s].idxByName[c];d&&(d.name=l,delete t[s].idxByName[c],t[s].idxByName[l]=d)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&oe.WorkerGlobalScope&&oe instanceof oe.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class Sk{_parseStoresSpec(t,n){ve(t).forEach(r=>{if(t[r]!==null){var i=t[r].split(",").map((o,a)=>{const l=(o=o.trim()).replace(/([&*]|\+\+)/g,""),u=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return Vc(l,u||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),Ie(u),a===0)}),s=i.shift();if(s.multi)throw new F.Schema("Primary key cannot be multi-valued");i.forEach(o=>{if(o.auto)throw new F.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new F.Schema("Index must have a name and cannot be an empty string")}),n[r]=yv(r,s,i)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?Be(this._cfg.storesSource,t):t;const r=n._versions,i={};let s={};return r.forEach(o=>{Be(i,o._cfg.storesSource),s=o._cfg.dbschema={},o._parseStoresSpec(i,s)}),n._dbSchema=s,qc(n,[n._allTables,n,n.Transaction.prototype]),qa(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],ve(s),s),n._storeNames=ve(s),this}upgrade(t){return this._cfg.contentUpgrade=ph(this._cfg.contentUpgrade||ee,t),this}}function yh(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new pr(Cl,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function wh(e){return e&&typeof e.databases=="function"}function Jc(e){return qn(function(){return A.letThrough=!0,e()})}function Ck(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function Ek(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?xe(t.dbOpenError):e);Ut&&(t.openCanceller._stackHolder=Er()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new F.DatabaseClosed("db.open() was cancelled")}let s=t.dbReadyResolve,o=null,a=!1;const l=()=>new R((u,c)=>{if(i(),!n)throw new F.MissingAPI;const d=e.name,h=t.autoSchema?n.open(d):n.open(d,Math.round(10*e.verno));if(!h)throw new F.MissingAPI;h.onerror=$t(c),h.onblocked=le(e._fireOnBlocked),h.onupgradeneeded=le(f=>{if(o=h.transaction,t.autoSchema&&!e._options.allowEmptyDB){h.onerror=Vs,o.abort(),h.result.close();const m=n.deleteDatabase(d);m.onsuccess=m.onerror=le(()=>{c(new F.NoSuchDatabase(`Database ${d} doesnt exist`))})}else{o.onerror=$t(c);var v=f.oldVersion>Math.pow(2,62)?0:f.oldVersion;a=v<1,e._novip.idbdb=h.result,kk(e,v/10,o,c)}},c),h.onsuccess=le(()=>{o=null;const f=e._novip.idbdb=h.result,v=Fa(f.objectStoreNames);if(v.length>0)try{const w=f.transaction((m=v).length===1?m[0]:m,"readonly");t.autoSchema?function({_novip:p},g,y){p.verno=g.version/10;const x=p._dbSchema=Gc(0,g,y);p._storeNames=Fa(g.objectStoreNames,0),qa(p,[p._allTables],ve(x),x)}(e,f,w):(Qc(e,e._dbSchema,w),function(p,g){const y=wv(Gc(0,p.idbdb,g),p._dbSchema);return!(y.add.length||y.change.some(x=>x.add.length||x.change.length))}(e,w)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Kc(e,w)}catch{}var m;gs.push(e),f.onversionchange=le(w=>{t.vcFired=!0,e.on("versionchange").fire(w)}),f.onclose=le(w=>{e.on("close").fire(w)}),a&&function({indexedDB:w,IDBKeyRange:p},g){!wh(w)&&g!==Cl&&yh(w,p).put({name:g}).catch(ee)}(e._deps,d),u()},c)}).catch(u=>u&&u.name==="UnknownError"&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),l()):R.reject(u));return R.race([r,(typeof navigator>"u"?R.resolve():Ck()).then(l)]).then(()=>(i(),t.onReadyBeingFired=[],R.resolve(Jc(()=>e.on.ready.fire(e.vip))).then(function u(){if(t.onReadyBeingFired.length>0){let c=t.onReadyBeingFired.reduce(ph,ee);return t.onReadyBeingFired=[],R.resolve(Jc(()=>c(e.vip))).then(u)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(u=>{t.dbOpenError=u;try{o&&o.abort()}catch{}return r===t.openCanceller&&e._close(),xe(u)}).finally(()=>{t.openComplete=!0,s()})}function Yc(e){var t=s=>e.next(s),n=i(t),r=i(s=>e.throw(s));function i(s){return o=>{var a=s(o),l=a.value;return a.done?l:l&&typeof l.then=="function"?l.then(n,r):Ie(l)?Promise.all(l).then(n,r):n(l)}}return i(t)()}function jk(e,t,n){var r=arguments.length;if(r<2)throw new F.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,Ym(i),n]}function _v(e,t,n,r,i){return R.resolve().then(()=>{const s=A.transless||A,o=e._createTransaction(t,n,e._dbSchema,r),a={trans:o,transless:s};if(r)o.idbtrans=r.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(d){return d.name===fh.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>_v(e,t,n,null,i))):xe(d)}const l=dh(i);let u;l&&Ti();const c=R.follow(()=>{if(u=i.call(o,o),u)if(l){var d=hn.bind(null,null);u.then(d,d)}else typeof u.next=="function"&&typeof u.throw=="function"&&(u=Yc(u))},a);return(u&&typeof u.then=="function"?R.resolve(u).then(d=>o.active?d:xe(new F.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):c.then(()=>u)).then(d=>(r&&o._resolve(),o._completion.then(()=>d))).catch(d=>(o._reject(d),xe(d)))})}function zo(e,t,n){const r=Ie(e)?e.slice():[e];for(let i=0;i<n;++i)r.push(t);return r}const Tk={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},s=[];function o(c,d,h){const f=vs(c),v=i[f]=i[f]||[],m=c==null?0:typeof c=="string"?1:c.length,w=d>0,p={...h,isVirtual:w,keyTail:d,keyLength:m,extractKey:Hc(c),unique:!w&&h.unique};return v.push(p),p.isPrimaryKey||s.push(p),m>1&&o(m===2?c[0]:c.slice(0,m-1),d+1,h),v.sort((g,y)=>g.keyTail-y.keyTail),p}const a=o(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[a];for(const c of r.indexes)o(c.keyPath,0,c);function l(c){const d=c.query.index;return d.isVirtual?{...c,query:{index:d,range:(h=c.query.range,f=d.keyTail,{type:h.type===1?2:h.type,lower:zo(h.lower,h.lowerOpen?e.MAX_KEY:e.MIN_KEY,f),lowerOpen:!0,upper:zo(h.upper,h.upperOpen?e.MIN_KEY:e.MAX_KEY,f),upperOpen:!0})}}:c;var h,f}return{...n,schema:{...r,primaryKey:a,indexes:s,getIndexByKeyPath:function(c){const d=i[vs(c)];return d&&d[0]}},count:c=>n.count(l(c)),query:c=>n.query(l(c)),openCursor(c){const{keyTail:d,isVirtual:h,keyLength:f}=c.query.index;return h?n.openCursor(l(c)).then(v=>v&&function(m){return Object.create(m,{continue:{value:function(p){p!=null?m.continue(zo(p,c.reverse?e.MAX_KEY:e.MIN_KEY,d)):c.unique?m.continue(m.key.slice(0,f).concat(c.reverse?e.MIN_KEY:e.MAX_KEY,d)):m.continue()}},continuePrimaryKey:{value(p,g){m.continuePrimaryKey(zo(p,e.MAX_KEY,d),g)}},primaryKey:{get:()=>m.primaryKey},key:{get(){const p=m.key;return f===1?p[0]:p.slice(0,f)}},value:{get:()=>m.value}})}(v)):n.openCursor(c)}}}}}};function _h(e,t,n,r){return n=n||{},r=r||"",ve(e).forEach(i=>{if(ut(t,i)){var s=e[i],o=t[i];if(typeof s=="object"&&typeof o=="object"&&s&&o){const a=Oc(s);a!==Oc(o)?n[r+i]=t[i]:a==="Object"?_h(s,o,n,r+i+"."):s!==o&&(n[r+i]=t[i])}else s!==o&&(n[r+i]=t[i])}else n[r+i]=void 0}),ve(t).forEach(i=>{ut(e,i)||(n[r+i]=t[i])}),n}const Pk={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(s){const o=A.trans,{deleting:a,creating:l,updating:u}=o.table(t).hook;switch(s.type){case"add":if(l.fire===ee)break;return o._promise("readwrite",()=>c(s),!0);case"put":if(l.fire===ee&&u.fire===ee)break;return o._promise("readwrite",()=>c(s),!0);case"delete":if(a.fire===ee)break;return o._promise("readwrite",()=>c(s),!0);case"deleteRange":if(a.fire===ee)break;return o._promise("readwrite",()=>function(h){return d(h.trans,h.range,1e4)}(s),!0)}return n.mutate(s);function c(h){const f=A.trans,v=h.keys||function(m,w){return w.type==="delete"?w.keys:w.keys||w.values.map(m.extractKey)}(r,h);if(!v)throw new Error("Keys missing");return(h=h.type==="add"||h.type==="put"?{...h,keys:v}:{...h}).type!=="delete"&&(h.values=[...h.values]),h.keys&&(h.keys=[...h.keys]),function(m,w,p){return w.type==="add"?Promise.resolve([]):m.getMany({trans:w.trans,keys:p,cache:"immutable"})}(n,h,v).then(m=>{const w=v.map((p,g)=>{const y=m[g],x={onerror:null,onsuccess:null};if(h.type==="delete")a.fire.call(x,p,y,f);else if(h.type==="add"||y===void 0){const b=l.fire.call(x,p,h.values[g],f);p==null&&b!=null&&(p=b,h.keys[g]=p,r.outbound||Tt(h.values[g],r.keyPath,p))}else{const b=_h(y,h.values[g]),S=u.fire.call(x,b,p,y,f);if(S){const C=h.values[g];Object.keys(S).forEach(j=>{ut(C,j)?C[j]=S[j]:Tt(C,j,S[j])})}}return x});return n.mutate(h).then(({failures:p,results:g,numFailures:y,lastResult:x})=>{for(let b=0;b<v.length;++b){const S=g?g[b]:v[b],C=w[b];S==null?C.onerror&&C.onerror(p[b]):C.onsuccess&&C.onsuccess(h.type==="put"&&m[b]?h.values[b]:S)}return{failures:p,results:g,numFailures:y,lastResult:x}}).catch(p=>(w.forEach(g=>g.onerror&&g.onerror(p)),Promise.reject(p)))})}function d(h,f,v){return n.query({trans:h,values:!1,query:{index:r,range:f},limit:v}).then(({result:m})=>c({type:"delete",keys:m,trans:h}).then(w=>w.numFailures>0?Promise.reject(w.failures[0]):m.length<v?{failures:[],numFailures:0,lastResult:void 0}:d(h,{...f,lower:m[m.length-1],lowerOpen:!0},v)))}}}}})};function xv(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let i=0,s=0;i<t.keys.length&&s<e.length;++i)ze(t.keys[i],e[s])===0&&(r.push(n?io(t.values[i]):t.values[i]),++s);return r.length===e.length?r:null}catch{return null}}const Ok={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const i=xv(r.keys,r.trans._cache,r.cache==="clone");return i?R.resolve(i):n.getMany(r).then(s=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?io(s):s},s))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function xh(e){return!("from"in e)}const Xt=function(e,t){if(!this){const n=new Xt;return e&&"d"in e&&Be(n,e),n}Be(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function qs(e,t,n){const r=ze(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(xh(e))return Be(e,{from:t,to:n,d:1});const i=e.l,s=e.r;if(ze(n,e.from)<0)return i?qs(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},jp(e);if(ze(t,e.to)>0)return s?qs(s,t,n):e.r={from:t,to:n,d:1,l:null,r:null},jp(e);ze(t,e.from)<0&&(e.from=t,e.l=null,e.d=s?s.d+1:1),ze(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const o=!e.r;i&&!e.l&&Wa(e,i),s&&o&&Wa(e,s)}function Wa(e,t){xh(t)||function n(r,{from:i,to:s,l:o,r:a}){qs(r,i,s),o&&n(r,o),a&&n(r,a)}(e,t)}function Nk(e,t){const n=Xc(t);let r=n.next();if(r.done)return!1;let i=r.value;const s=Xc(e);let o=s.next(i.from),a=o.value;for(;!r.done&&!o.done;){if(ze(a.from,i.to)<=0&&ze(a.to,i.from)>=0)return!0;ze(i.from,a.from)<0?i=(r=n.next(a.from)).value:a=(o=s.next(i.from)).value}return!1}function Xc(e){let t=xh(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&ze(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||ze(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function jp(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const s=i==="r"?"l":"r",o={...e},a=e[i];e.from=a.from,e.to=a.to,e[i]=a[i],o[i]=a[s],e[s]=o,o.d=Tp(o)}e.d=Tp(e)}function Tp({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}wi(Xt.prototype,{add(e){return Wa(this,e),this},addKey(e){return qs(this,e,e),this},addKeys(e){return e.forEach(t=>qs(this,t,t)),this},[Nc](){return Xc(this)}});const Rk={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new Xt(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const i=e.table(r),{schema:s}=i,{primaryKey:o}=s,{extractKey:a,outbound:l}=o,u={...i,mutate:h=>{const f=h.trans,v=f.mutatedParts||(f.mutatedParts={}),m=S=>{const C=`idb://${t}/${r}/${S}`;return v[C]||(v[C]=new Xt)},w=m(""),p=m(":dels"),{type:g}=h;let[y,x]=h.type==="deleteRange"?[h.range]:h.type==="delete"?[h.keys]:h.values.length<50?[[],h.values]:[];const b=h.trans._cache;return i.mutate(h).then(S=>{if(Ie(y)){g!=="delete"&&(y=S.results),w.addKeys(y);const C=xv(y,b);C||g==="add"||p.addKeys(y),(C||x)&&function(j,E,P,N){function $(M){const I=j(M.name||"");function J(U){return U!=null?M.extractKey(U):null}const Q=U=>M.multiEntry&&Ie(U)?U.forEach(O=>I.addKey(O)):I.addKey(U);(P||N).forEach((U,O)=>{const D=P&&J(P[O]),z=N&&J(N[O]);ze(D,z)!==0&&(D!=null&&Q(D),z!=null&&Q(z))})}E.indexes.forEach($)}(m,s,C,x)}else if(y){const C={from:y.lower,to:y.upper};p.add(C),w.add(C)}else w.add(n),p.add(n),s.indexes.forEach(C=>m(C.name).add(n));return S})}},c=({query:{index:h,range:f}})=>{var v,m;return[h,new Xt((v=f.lower)!==null&&v!==void 0?v:e.MIN_KEY,(m=f.upper)!==null&&m!==void 0?m:e.MAX_KEY)]},d={get:h=>[o,new Xt(h.key)],getMany:h=>[o,new Xt().addKeys(h.keys)],count:c,query:c,openCursor:c};return ve(d).forEach(h=>{u[h]=function(f){const{subscr:v}=A;if(v){const m=x=>{const b=`idb://${t}/${r}/${x}`;return v[b]||(v[b]=new Xt)},w=m(""),p=m(":dels"),[g,y]=d[h](f);if(m(g.name||"").add(y),!g.isPrimaryKey){if(h!=="count"){const x=h==="query"&&l&&f.values&&i.query({...f,values:!1});return i[h].apply(this,arguments).then(b=>{if(h==="query"){if(l&&f.values)return x.then(({result:C})=>(w.addKeys(C),b));const S=f.values?b.result.map(a):b.result;f.values?w.addKeys(S):p.addKeys(S)}else if(h==="openCursor"){const S=b,C=f.values;return S&&Object.create(S,{key:{get:()=>(p.addKey(S.primaryKey),S.key)},primaryKey:{get(){const j=S.primaryKey;return p.addKey(j),j}},value:{get:()=>(C&&w.addKey(S.primaryKey),S.value)}})}return b})}p.add(n)}}return i[h].apply(this,arguments)}}),u}}}};class pr{constructor(t,n){this._middlewares={},this.verno=0;const r=pr.dependencies;this._options=n={addons:pr.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ee,dbReadyPromise:null,cancelOpen:ee,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;s.dbReadyPromise=new R(a=>{s.dbReadyResolve=a}),s.openCanceller=new R((a,l)=>{s.cancelOpen=l}),this._state=s,this.name=t,this.on=ms(this,"populate","blocked","versionchange","close",{ready:[ph,ee]}),this.on.ready.subscribe=Wm(this.on.ready.subscribe,a=>(l,u)=>{pr.vip(()=>{const c=this._state;if(c.openComplete)c.dbOpenError||R.resolve().then(l),u&&a(l);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(l),u&&a(l);else{a(l);const d=this;u||a(function h(){d.on.ready.unsubscribe(l),d.on.ready.unsubscribe(h)})}})}),this.Collection=(o=this,Hi(gk.prototype,function(a,l){this.db=o;let u=pv,c=null;if(l)try{u=l()}catch(v){c=v}const d=a._ctx,h=d.table,f=h.hook.reading.fire;this._ctx={table:h,index:d.index,isPrimKey:!d.index||h.schema.primKey.keyPath&&d.index===h.schema.primKey.name,range:u,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:c,or:d.or,valueMapper:f!==Bs?f:null}})),this.Table=function(a){return Hi(pk.prototype,function(l,u,c){this.db=a,this._tx=c,this.name=l,this.schema=u,this.hook=a._allTables[l]?a._allTables[l].hook:ms(null,{creating:[nk,ee],reading:[tk,Bs],updating:[ik,ee],deleting:[rk,ee]})})}(this),this.Transaction=function(a){return Hi(wk.prototype,function(l,u,c,d,h){this.db=a,this.mode=l,this.storeNames=u,this.schema=c,this.chromeTransactionDurability=d,this.idbtrans=null,this.on=ms(this,"complete","error","abort"),this.parent=h||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new R((f,v)=>{this._resolve=f,this._reject=v}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},f=>{var v=this.active;return this.active=!1,this.on.error.fire(f),this.parent?this.parent._reject(f):v&&this.idbtrans&&this.idbtrans.abort(),xe(f)})})}(this),this.Version=function(a){return Hi(Sk.prototype,function(l){this.db=a,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(a){return Hi(mv.prototype,function(l,u,c){this.db=a,this._ctx={table:l,index:u===":id"?null:u,or:c};const d=a._deps.indexedDB;if(!d)throw new F.MissingAPI;this._cmp=this._ascending=d.cmp.bind(d),this._descending=(h,f)=>d.cmp(f,h),this._max=(h,f)=>d.cmp(h,f)>0?h:f,this._min=(h,f)=>d.cmp(h,f)<0?h:f,this._IDBKeyRange=a._deps.IDBKeyRange})}(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=Ks(n.IDBKeyRange),this._createTransaction=(a,l,u,c)=>new this.Transaction(a,l,u,this._options.chromeTransactionDurability,c),this._fireOnBlocked=a=>{this.on("blocked").fire(a),gs.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(a))},this.use(Tk),this.use(Pk),this.use(Rk),this.use(Ok),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(a=>a(this))}version(t){if(isNaN(t)||t<.1)throw new F.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new F.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(i=>i._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(bk),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||A.letThrough||this._vip)?t():new R((n,r)=>{if(this._state.openComplete)return r(new F.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new F.DatabaseClosed);this.open().catch(ee)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:i}){i&&this.unuse({stack:t,name:i});const s=this._middlewares[t]||(this._middlewares[t]=[]);return s.push({stack:t,create:n,level:r??10,name:i}),s.sort((o,a)=>o.level-a.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(i=>r?i.create!==r:!!n&&i.name!==n)),this}open(){return Ek(this)}_close(){const t=this._state,n=gs.indexOf(this);if(n>=0&&gs.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new R(r=>{t.dbReadyResolve=r}),t.openCanceller=new R((r,i)=>{t.cancelOpen=i})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new F.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new R((r,i)=>{const s=()=>{this.close();var o=this._deps.indexedDB.deleteDatabase(this.name);o.onsuccess=le(()=>{(function({indexedDB:a,IDBKeyRange:l},u){!wh(a)&&u!==Cl&&yh(a,l).delete(u).catch(ee)})(this._deps,this.name),r()}),o.onerror=$t(i),o.onblocked=this._fireOnBlocked};if(t)throw new F.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(s):s()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return ve(this._allTables).map(t=>this._allTables[t])}transaction(){const t=jk.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let i=A.trans;i&&i.db===this&&t.indexOf("!")===-1||(i=null);const s=t.indexOf("?")!==-1;let o,a;t=t.replace("!","").replace("?","");try{if(a=n.map(u=>{var c=u instanceof this.Table?u.name:u;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),t=="r"||t===pu)o=pu;else{if(t!="rw"&&t!=gu)throw new F.InvalidArgument("Invalid transaction mode: "+t);o=gu}if(i){if(i.mode===pu&&o===gu){if(!s)throw new F.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach(u=>{if(i&&i.storeNames.indexOf(u)===-1){if(!s)throw new F.SubTransaction("Table "+u+" not included in parent transaction.");i=null}}),s&&i&&!i.active&&(i=null)}}catch(u){return i?i._promise(null,(c,d)=>{d(u)}):xe(u)}const l=_v.bind(null,this,o,a,i,r);return i?i._promise(o,l,"lock"):A.trans?Pi(A.transless,()=>this._whenReady(l)):this._whenReady(l)}table(t){if(!ut(this._allTables,t))throw new F.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const Lk=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Dk{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[Lk](){return this}}function bv(e,t){return ve(t).forEach(n=>{Wa(e[n]||(e[n]=new Xt),t[n])}),e}function Ik(e){let t,n=!1;const r=new Dk(i=>{const s=dh(e);let o=!1,a={},l={};const u={get closed(){return o},unsubscribe:()=>{o=!0,Gn.storagemutated.unsubscribe(f)}};i.start&&i.start(u);let c=!1,d=!1;function h(){return ve(l).some(m=>a[m]&&Nk(a[m],l[m]))}const f=m=>{bv(a,m),h()&&v()},v=()=>{if(c||o)return;a={};const m={},w=function(p){s&&Ti();const g=()=>qn(e,{subscr:p,trans:null}),y=A.trans?Pi(A.transless,g):g();return s&&y.then(hn,hn),y}(m);d||(Gn(Hs,f),d=!0),c=!0,Promise.resolve(w).then(p=>{n=!0,t=p,c=!1,o||(h()?v():(a={},l=m,i.next&&i.next(p)))},p=>{c=!1,n=!1,i.error&&i.error(p),u.unsubscribe()})};return v(),u});return r.hasValue=()=>n,r.getValue=()=>t,r}let Zc;try{Zc={indexedDB:oe.indexedDB||oe.mozIndexedDB||oe.webkitIndexedDB||oe.msIndexedDB,IDBKeyRange:oe.IDBKeyRange||oe.webkitIDBKeyRange}}catch{Zc={indexedDB:null,IDBKeyRange:null}}const er=pr;function oa(e){let t=rn;try{rn=!0,Gn.storagemutated.fire(e)}finally{rn=t}}wi(er,{...ea,delete:e=>new er(e,{addons:[]}).delete(),exists:e=>new er(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return wh(t)?Promise.resolve(t.databases()).then(r=>r.map(i=>i.name).filter(i=>i!==Cl)):yh(t,n).toCollection().primaryKeys()}(er.dependencies).then(e)}catch{return xe(new F.MissingAPI)}},defineClass:()=>function(e){Be(this,e)},ignoreTransaction:e=>A.trans?Pi(A.transless,e):e(),vip:Jc,async:function(e){return function(){try{var t=Yc(e.apply(this,arguments));return t&&typeof t.then=="function"?t:R.resolve(t)}catch(n){return xe(n)}}},spawn:function(e,t,n){try{var r=Yc(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:R.resolve(r)}catch(i){return xe(i)}},currentTransaction:{get:()=>A.trans||null},waitFor:function(e,t){const n=R.resolve(typeof e=="function"?er.ignoreTransaction(e):e).timeout(t||6e4);return A.trans?A.trans.waitFor(n):n},Promise:R,debug:{get:()=>Ut,set:e=>{Zm(e,e==="dexie"?()=>!0:fv)}},derive:li,extend:Be,props:wi,override:Wm,Events:ms,on:Gn,liveQuery:Ik,extendObservabilitySet:bv,getByKeyPath:an,setByKeyPath:Tt,delByKeyPath:function(e,t){typeof t=="string"?Tt(e,t,void 0):"length"in t&&[].map.call(t,function(n){Tt(e,n,void 0)})},shallowClone:Jm,deepClone:io,getObjectDiff:_h,cmp:ze,asap:Gm,minKey:Uc,addons:[],connections:gs,errnames:fh,dependencies:Zc,semVer:xp,version:xp.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),er.maxKey=Ks(er.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Gn(Hs,e=>{if(!rn){let t;Sl?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Rn,!0,!0,e)):t=new CustomEvent(Rn,{detail:e}),rn=!0,dispatchEvent(t),rn=!1}}),addEventListener(Rn,({detail:e})=>{rn||oa(e)}));let rn=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(Rn);typeof e.unref=="function"&&e.unref(),Gn(Hs,t=>{rn||e.postMessage(t)}),e.onmessage=t=>{t.data&&oa(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Gn(Hs,t=>{try{rn||(typeof localStorage<"u"&&localStorage.setItem(Rn,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:Rn,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===Rn){const n=JSON.parse(t.newValue);n&&oa(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===Rn&&oa(t.changedParts)})}R.rejectionMapper=function(e,t){if(!e||e instanceof ui||e instanceof TypeError||e instanceof SyntaxError||!e.name||!vp[e.name])return e;var n=new vp[e.name](t||e.message,e);return"stack"in e&&on(n,"stack",{get:function(){return this.inner.stack}}),n},Zm(Ut,fv);class Ak extends pr{constructor(){super("ShoppingListOfflineDB"),this.version(1).stores({lists:"id, name, created_at, deleted",items:"id, name, list_id, group, created_at, deleted",categories:"id, name, created_at, deleted",suggestions:"id, name, created_at, deleted"})}}const kv=new Ak;function $k({list:e,total:t,onSelect:n,onRename:r,onDuplicate:i,onClear:s,onDelete:o}){const{attributes:a,listeners:l,setNodeRef:u,transform:c,transition:d,isDragging:h}=Fb({id:e.id}),f={transform:Ms.Transform.toString(c),transition:d,opacity:h?.5:1},v=p=>new Date(p).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),m=p=>p.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,"").trim(),w=async()=>{const p=await kv.items.where("list_id").equals(String(e.id)).and(b=>!b.deleted).toArray();if(!p||p.length===0)return;const g=p.reduce((b,S)=>{const C=m(S.group);return b[C]||(b[C]=[]),b[C].push({...S,name:m(S.name)}),b},{});let y=`${m(e.nome)}
`;y+=`Data: ${v(e.dataCriacao)}
`,y+=`Total: ${nn(t)}

`,Object.entries(g).forEach(([b,S])=>{const C=S.reduce((j,E)=>j+E.price*E.quantity,0);y+=`*${b} (${nn(C)})*
`,S.forEach(j=>{const E=j.price*j.quantity;y+=`- ${j.quantity}x ${j.name} = ${nn(E)}
`}),y+=`
`});const x=`https://wa.me/?text=${encodeURIComponent(y)}`;window.open(x,"_blank")};return _.jsxs("div",{ref:u,style:f,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 touch-pan-y",onClick:n,...a,children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsx("div",{className:"flex items-center gap-3",children:_.jsxs("div",{children:[_.jsx("h2",{className:"text-lg font-medium dark:text-white",children:e.nome}),_.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:v(e.dataCriacao)})]})}),_.jsx("span",{className:"text-lg font-bold text-violet-600 dark:text-violet-400",children:nn(t)})]}),_.jsxs("div",{className:"flex gap-2",onClick:p=>p.stopPropagation(),children:[_.jsx("button",{onClick:w,className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-lg",title:"Compartilhar no WhatsApp",children:_.jsx(Hx,{size:20})}),_.jsx("button",{onClick:r,className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-lg",title:"Renomear lista",children:_.jsx(Bx,{size:20})}),_.jsx("button",{onClick:i,className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-lg",title:"Duplicar lista",children:_.jsx(Ux,{size:20})}),_.jsx("button",{onClick:s,className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-lg",title:"Limpar dados",children:_.jsx(Fx,{size:20})}),_.jsx("button",{...l,className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-lg cursor-grab active:cursor-grabbing touch-none",title:"Mover lista",children:_.jsx(Mx,{size:20})}),_.jsx("button",{onClick:o,className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Excluir lista",children:_.jsx(Gx,{size:20})})]})]})}function Mk({onBack:e,onSelectList:t,onNavigateToManagement:n,showCreateModal:r,setShowCreateModal:i}){const{lists:s,createList:o,deleteList:a,duplicateList:l,clearList:u,renameList:c,calculateListTotal:d,reorderLists:h,fetchLists:f}=n2(),[v,m]=k.useState(""),[w,p]=k.useState(null),[g,y]=k.useState(null),x=y2(ip(lh),ip(oh,{coordinateGetter:Vb})),b=E=>{const{active:P,over:N}=E;if(N&&P.id!==N.id){const $=s.findIndex(I=>I.id===P.id),M=s.findIndex(I=>I.id===N.id);h(uh(s,$,M))}},S=E=>{E.preventDefault(),v.trim()&&(o(v.trim()).then(()=>{f()}),m(""),i(!1))},C=E=>{E.preventDefault(),w!==null&&v.trim()&&(c(w,v.trim()).then(()=>{f()}),m(""),p(null))},j=E=>{a(E).then(()=>{f()}),y(null)};return _.jsxs("div",{className:"min-h-screen bg-slate-100 pb-20 hide-scrollbar",children:[_.jsxs("div",{className:"container mx-auto max-w-2xl px-4 py-6",children:[_.jsx(_b,{sensors:x,collisionDetection:_2,onDragEnd:b,children:_.jsx(Lb,{items:s.map(E=>E.id),strategy:Nb,children:_.jsx("div",{className:"space-y-4",children:s.map(E=>_.jsx($k,{list:E,total:d(E.id),onSelect:()=>t(E.id),onRename:()=>{m(E.nome),p(E.id)},onDuplicate:()=>l(E.id),onClear:()=>u(E.id),onDelete:()=>y(E.id)},E.id))})})}),s.length===0&&_.jsxs("div",{className:"text-center text-gray-500 mt-6",children:[_.jsx("p",{children:"Nenhuma lista criada"}),_.jsx("p",{className:"text-sm",children:"Clique no boto + para criar uma nova lista"})]})]}),_.jsx(bm,{onNavigateToHome:()=>{},onNavigateToManagement:n,onCreateList:()=>i(!0)}),r&&_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",onClick:()=>i(!1),children:_.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-sm mx-4",onClick:E=>E.stopPropagation(),children:[_.jsx("h2",{className:"text-xl font-bold mb-4",children:"Nova Lista"}),_.jsxs("form",{onSubmit:S,children:[_.jsx("input",{type:"text",value:v,onChange:E=>m(E.target.value),placeholder:"Nome da lista",className:"w-full px-3 py-2 rounded-lg bg-slate-50 border-0 focus:ring-2 focus:ring-violet-500 outline-none mb-4",autoFocus:!0,autoComplete:"off",spellCheck:"false"}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{type:"button",onClick:()=>i(!1),className:"flex-1 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancelar"}),_.jsx("button",{type:"submit",className:"flex-1 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700",disabled:!v.trim(),children:"Criar"})]})]})]})}),w!==null&&_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",onClick:()=>p(null),children:_.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-sm mx-4",onClick:E=>E.stopPropagation(),children:[_.jsx("h2",{className:"text-xl font-bold mb-4",children:"Renomear Lista"}),_.jsxs("form",{onSubmit:C,children:[_.jsx("input",{type:"text",value:v,onChange:E=>m(E.target.value),placeholder:"Novo nome da lista",className:"w-full px-3 py-2 rounded-lg bg-slate-50 border-0 focus:ring-2 focus:ring-violet-500 outline-none mb-4",autoFocus:!0,autoComplete:"off",spellCheck:"false"}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{type:"button",onClick:()=>p(null),className:"flex-1 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancelar"}),_.jsx("button",{type:"submit",className:"flex-1 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700",disabled:!v.trim(),children:"Renomear"})]})]})]})}),g!==null&&_.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-25",onClick:()=>y(null),children:_.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-white rounded-t-xl shadow-lg",children:[_.jsx("button",{onClick:()=>j(g),className:"w-full p-4 text-center text-red-600 text-base font-medium hover:bg-red-50 active:bg-red-100",children:"Excluir Lista"}),_.jsx("button",{onClick:()=>y(null),className:"w-full p-4 text-center text-gray-500 text-base hover:bg-gray-50 active:bg-gray-100 border-t border-gray-100",children:"Cancelar"})]})})]})}function zk(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function Fk(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function Bk(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function Uk(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function Vk(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Hk({onSync:e,fetchLists:t}){const{signOut:n}=eo(),r=async()=>{confirm("Deseja realmente sair?")&&await n()};return _.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 h-14 bg-gray-50/80 dark:bg-gray-800/80 backdrop-blur-xl border-b border-gray-100/50 dark:border-gray-700/50",children:_.jsxs("div",{className:"container mx-auto max-w-2xl px-4 h-full flex items-center justify-between",children:[_.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Lista de Compras"}),_.jsx("button",{onClick:r,className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",title:"Sair",children:_.jsx(Fk,{className:"w-5 h-5"})})]})})}function Kk({groups:e,selectedGroup:t,onSelectGroup:n}){const[r,i]=k.useState(!1),s=k.useRef(null),[o,a]=k.useState(0),[l,u]=k.useState(0),c=f=>{i(!0),s.current&&(a(f.pageX-s.current.offsetLeft),u(s.current.scrollLeft))},d=()=>{i(!1)},h=f=>{if(r&&(f.preventDefault(),s.current)){const m=(f.pageX-s.current.offsetLeft-o)*2;s.current.scrollLeft=l-m}};return _.jsxs("div",{ref:s,className:"flex overflow-x-auto hide-scrollbar bg-white dark:bg-gray-800 rounded-xl shadow-sm p-2 mb-4",onMouseDown:c,onMouseUp:d,onMouseMove:h,onMouseLeave:d,children:[_.jsx("button",{onClick:()=>n(null),className:`flex-shrink-0 px-4 py-1.5 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ${t===null?"bg-violet-600 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700/50"}`,children:"Todos"}),e.map(f=>_.jsx("button",{onClick:()=>n(f),className:`flex-shrink-0 px-4 py-1.5 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ml-2 ${t===f?"bg-violet-600 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700/50"}`,children:f},f))]})}function qk({onAuthSuccess:e}){const[t,n]=k.useState(!0),[r,i]=k.useState(""),[s,o]=k.useState(""),[a,l]=k.useState(""),[u,c]=k.useState(!1),[d,h]=k.useState(""),f=async v=>{v.preventDefault(),h(""),c(!0);try{if(t){const{error:m}=await Z.auth.signInWithPassword({email:r,password:s});if(m)throw m}else{const{error:m}=await Z.auth.signUp({email:r,password:s,options:{data:{name:a}}});if(m)throw m}e()}catch(m){h(m.message||"Ocorreu um erro na autenticao")}finally{c(!1)}};return _.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center px-4",children:_.jsxs("div",{className:"max-w-md w-full",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4",children:_.jsx(Uk,{className:"w-8 h-8 text-white"})}),_.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Lista de Compras"}),_.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t?"Entre na sua conta":"Crie sua conta"})]}),_.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8",children:[_.jsxs("form",{onSubmit:f,className:"space-y-6",children:[!t&&_.jsxs("div",{children:[_.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome"}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:_.jsx(Vk,{className:"h-5 w-5 text-gray-400"})}),_.jsx("input",{id:"name",type:"text",value:a,onChange:v=>l(v.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Seu nome",required:!t})]})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:_.jsx(Bk,{className:"h-5 w-5 text-gray-400"})}),_.jsx("input",{id:"email",type:"email",value:r,onChange:v=>i(v.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"seu@email.com",required:!0})]})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Senha"}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:_.jsx(zk,{className:"h-5 w-5 text-gray-400"})}),_.jsx("input",{id:"password",type:"password",value:s,onChange:v=>o(v.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0,minLength:6})]})]}),d&&_.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 px-4 py-3 rounded-lg text-sm",children:d}),_.jsx("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:u?"Carregando...":t?"Entrar":"Criar Conta"})]}),_.jsx("div",{className:"mt-6 text-center",children:_.jsx("button",{onClick:()=>{n(!t),h("")},className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 text-sm font-medium",children:t?"No tem uma conta? Cadastre-se":"J tem uma conta? Entre"})})]})]})})}function Wk(e){const[t,n]=k.useState([]),[r,i]=k.useState(!0);k.useEffect(()=>{e?s():(n([]),i(!1))},[e]);const s=async()=>{if(e)try{i(!0);const{data:v,error:m}=await Z.from("items").select("*").eq("list_id",e);if(m)throw m;n((v||[]).map(w=>({id:w.id,nome:w.name,quantidade:w.quantity,valor:Number(w.price),completo:w.completed,grupo:w.group})))}catch(v){console.error("Erro ao buscar itens:",v)}finally{i(!1)}};return{items:t,loading:r,adicionarItem:async(v,m)=>{if(e)try{const{error:w}=await Z.from("items").insert([{name:v,group:m,list_id:e,quantity:1,price:0,completed:!1}]);if(w)throw w;await s()}catch(w){throw console.error("Erro ao adicionar item:",w),w}},toggleItem:async v=>{try{const m=t.find(p=>p.id===v);if(!m)return;const{error:w}=await Z.from("items").update({completed:!m.completo}).eq("id",v);if(w)throw w;await s()}catch(m){throw console.error("Erro ao atualizar item:",m),m}},atualizarQuantidade:async(v,m)=>{try{const{error:w}=await Z.from("items").update({quantity:m}).eq("id",v);if(w)throw w;await s()}catch(w){throw console.error("Erro ao atualizar quantidade:",w),w}},atualizarValor:async(v,m)=>{try{const{error:w}=await Z.from("items").update({price:m}).eq("id",v);if(w)throw w;await s()}catch(w){throw console.error("Erro ao atualizar valor:",w),w}},excluirItem:async v=>{try{const{error:m}=await Z.from("items").delete().eq("id",v);if(m)throw m;await s()}catch(m){throw console.error("Erro ao excluir item:",m),m}},limparTudo:async()=>{if(e)try{const{error:v}=await Z.from("items").update({quantity:1,price:0,completed:!1}).eq("list_id",e);if(v)throw v;await s()}catch(v){throw console.error("Erro ao limpar lista:",v),v}},calcularTotal:()=>t.filter(v=>v.completo).reduce((v,m)=>v+m.valor*m.quantidade,0),agruparItens:()=>t.reduce((v,m)=>{const w=m.grupo;return v[w]||(v[w]=[]),v[w].push(m),v},{})}}function Sv(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Sv(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function In(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Sv(e))&&(r&&(r+=" "),r+=t);return r}const aa=e=>typeof e=="number"&&!isNaN(e),Ga=e=>typeof e=="string",ot=e=>typeof e=="function",la=e=>Ga(e)||ot(e)?e:null,_u=e=>k.isValidElement(e)||Ga(e)||ot(e)||aa(e);function Gk(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function El(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(o){let{children:a,position:l,preventExitTransition:u,done:c,nodeRef:d,isIn:h}=o;const f=r?`${t}--${l}`:t,v=r?`${n}--${l}`:n,m=k.useRef(0);return k.useLayoutEffect(()=>{const w=d.current,p=f.split(" "),g=y=>{y.target===d.current&&(w.dispatchEvent(new Event("d")),w.removeEventListener("animationend",g),w.removeEventListener("animationcancel",g),m.current===0&&y.type!=="animationcancel"&&w.classList.remove(...p))};w.classList.add(...p),w.addEventListener("animationend",g),w.addEventListener("animationcancel",g)},[]),k.useEffect(()=>{const w=d.current,p=()=>{w.removeEventListener("animationend",p),i?Gk(w,c,s):c()};h||(u?p():(m.current=1,w.className+=` ${v}`,w.addEventListener("animationend",p)))},[h]),B.createElement(B.Fragment,null,a)}}function Pp(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const ur={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},Fo=e=>{let{theme:t,type:n,...r}=e;return B.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},xu={info:function(e){return B.createElement(Fo,{...e},B.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return B.createElement(Fo,{...e},B.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return B.createElement(Fo,{...e},B.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return B.createElement(Fo,{...e},B.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return B.createElement("div",{className:"Toastify__spinner"})}};function Qk(e){const[,t]=k.useReducer(f=>f+1,0),[n,r]=k.useState([]),i=k.useRef(null),s=k.useRef(new Map).current,o=f=>n.indexOf(f)!==-1,a=k.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:f=>s.get(f)}).current;function l(f){let{containerId:v}=f;const{limit:m}=a.props;!m||v&&a.containerId!==v||(a.count-=a.queue.length,a.queue=[])}function u(f){r(v=>f==null?[]:v.filter(m=>m!==f))}function c(){const{toastContent:f,toastProps:v,staleId:m}=a.queue.shift();h(f,v,m)}function d(f,v){let{delay:m,staleId:w,...p}=v;if(!_u(f)||function($){return!i.current||a.props.enableMultiContainer&&$.containerId!==a.props.containerId||s.has($.toastId)&&$.updateId==null}(p))return;const{toastId:g,updateId:y,data:x}=p,{props:b}=a,S=()=>u(g),C=y==null;C&&a.count++;const j={...b,style:b.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(p).filter($=>{let[M,I]=$;return I!=null})),toastId:g,updateId:y,data:x,closeToast:S,isIn:!1,className:la(p.className||b.toastClassName),bodyClassName:la(p.bodyClassName||b.bodyClassName),progressClassName:la(p.progressClassName||b.progressClassName),autoClose:!p.isLoading&&(E=p.autoClose,P=b.autoClose,E===!1||aa(E)&&E>0?E:P),deleteToast(){const $=Pp(s.get(g),"removed");s.delete(g),ur.emit(4,$);const M=a.queue.length;if(a.count=g==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),M>0){const I=g==null?a.props.limit:1;if(M===1||I===1)a.displayedToast++,c();else{const J=I>M?M:I;a.displayedToast=J;for(let Q=0;Q<J;Q++)c()}}else t()}};var E,P;j.iconOut=function($){let{theme:M,type:I,isLoading:J,icon:Q}=$,U=null;const O={theme:M,type:I};return Q===!1||(ot(Q)?U=Q(O):k.isValidElement(Q)?U=k.cloneElement(Q,O):Ga(Q)||aa(Q)?U=Q:J?U=xu.spinner():(D=>D in xu)(I)&&(U=xu[I](O))),U}(j),ot(p.onOpen)&&(j.onOpen=p.onOpen),ot(p.onClose)&&(j.onClose=p.onClose),j.closeButton=b.closeButton,p.closeButton===!1||_u(p.closeButton)?j.closeButton=p.closeButton:p.closeButton===!0&&(j.closeButton=!_u(b.closeButton)||b.closeButton);let N=f;k.isValidElement(f)&&!Ga(f.type)?N=k.cloneElement(f,{closeToast:S,toastProps:j,data:x}):ot(f)&&(N=f({closeToast:S,toastProps:j,data:x})),b.limit&&b.limit>0&&a.count>b.limit&&C?a.queue.push({toastContent:N,toastProps:j,staleId:w}):aa(m)?setTimeout(()=>{h(N,j,w)},m):h(N,j,w)}function h(f,v,m){const{toastId:w}=v;m&&s.delete(m);const p={content:f,props:v};s.set(w,p),r(g=>[...g,w].filter(y=>y!==m)),ur.emit(4,Pp(p,p.props.updateId==null?"added":"updated"))}return k.useEffect(()=>(a.containerId=e.containerId,ur.cancelEmit(3).on(0,d).on(1,f=>i.current&&u(f)).on(5,l).emit(2,a),()=>{s.clear(),ur.emit(3,a)}),[]),k.useEffect(()=>{a.props=e,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(f){const v=new Map,m=Array.from(s.values());return e.newestOnTop&&m.reverse(),m.forEach(w=>{const{position:p}=w.props;v.has(p)||v.set(p,[]),v.get(p).push(w)}),Array.from(v,w=>f(w[0],w[1]))},containerRef:i,isToastActive:o}}function Op(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Np(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Jk(e){const[t,n]=k.useState(!1),[r,i]=k.useState(!1),s=k.useRef(null),o=k.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=k.useRef(e),{autoClose:l,pauseOnHover:u,closeToast:c,onClick:d,closeOnClick:h}=e;function f(x){if(e.draggable){x.nativeEvent.type==="touchstart"&&x.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",p),document.addEventListener("mouseup",g),document.addEventListener("touchmove",p),document.addEventListener("touchend",g);const b=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=b.getBoundingClientRect(),b.style.transition="",o.x=Op(x.nativeEvent),o.y=Np(x.nativeEvent),e.draggableDirection==="x"?(o.start=o.x,o.removalDistance=b.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=b.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function v(x){if(o.boundingRect){const{top:b,bottom:S,left:C,right:j}=o.boundingRect;x.nativeEvent.type!=="touchend"&&e.pauseOnHover&&o.x>=C&&o.x<=j&&o.y>=b&&o.y<=S?w():m()}}function m(){n(!0)}function w(){n(!1)}function p(x){const b=s.current;o.canDrag&&b&&(o.didMove=!0,t&&w(),o.x=Op(x),o.y=Np(x),o.delta=e.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),b.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,b.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function g(){document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",g),document.removeEventListener("touchmove",p),document.removeEventListener("touchend",g);const x=s.current;if(o.canDrag&&o.didMove&&x){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void e.closeToast();x.style.transition="transform 0.2s, opacity 0.2s",x.style.transform=`translate${e.draggableDirection}(0)`,x.style.opacity="1"}}k.useEffect(()=>{a.current=e}),k.useEffect(()=>(s.current&&s.current.addEventListener("d",m,{once:!0}),ot(e.onOpen)&&e.onOpen(k.isValidElement(e.children)&&e.children.props),()=>{const x=a.current;ot(x.onClose)&&x.onClose(k.isValidElement(x.children)&&x.children.props)}),[]),k.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||w(),window.addEventListener("focus",m),window.addEventListener("blur",w)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",w))}),[e.pauseOnFocusLoss]);const y={onMouseDown:f,onTouchStart:f,onMouseUp:v,onTouchEnd:v};return l&&u&&(y.onMouseEnter=w,y.onMouseLeave=m),h&&(y.onClick=x=>{d&&d(x),o.canCloseOnClick&&c()}),{playToast:m,pauseToast:w,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:y}}function Cv(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return B.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},B.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},B.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Yk(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:u,rtl:c,isIn:d,theme:h}=e;const f=s||l&&u===0,v={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:f?0:1};l&&(v.transform=`scaleX(${u})`);const m=In("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),w=ot(o)?o({rtl:c,type:i,defaultClassName:m}):In(m,o);return B.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:w,style:v,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{d&&r()}})}const Xk=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=Jk(e),{closeButton:s,children:o,autoClose:a,onClick:l,type:u,hideProgressBar:c,closeToast:d,transition:h,position:f,className:v,style:m,bodyClassName:w,bodyStyle:p,progressClassName:g,progressStyle:y,updateId:x,role:b,progress:S,rtl:C,toastId:j,deleteToast:E,isIn:P,isLoading:N,iconOut:$,closeOnClick:M,theme:I}=e,J=In("Toastify__toast",`Toastify__toast-theme--${I}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":M}),Q=ot(v)?v({rtl:C,position:f,type:u,defaultClassName:J}):In(J,v),U=!!S||!a,O={closeToast:d,type:u,theme:I};let D=null;return s===!1||(D=ot(s)?s(O):k.isValidElement(s)?k.cloneElement(s,O):Cv(O)),B.createElement(h,{isIn:P,done:E,position:f,preventExitTransition:n,nodeRef:r},B.createElement("div",{id:j,onClick:l,className:Q,...i,style:m,ref:r},B.createElement("div",{...P&&{role:b},className:ot(w)?w({type:u}):In("Toastify__toast-body",w),style:p},$!=null&&B.createElement("div",{className:In("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},$),B.createElement("div",null,o)),D,B.createElement(Yk,{...x&&!U?{key:`pb-${x}`}:{},rtl:C,theme:I,delay:a,isRunning:t,isIn:P,closeToast:d,hide:c,type:u,style:y,className:g,controlledProgress:U,progress:S||0})))},jl=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},Zk=El(jl("bounce",!0));El(jl("slide",!0));El(jl("zoom"));El(jl("flip"));const ed=k.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=Qk(e),{className:s,style:o,rtl:a,containerId:l}=e;function u(c){const d=In("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":a});return ot(s)?s({position:c,rtl:a,defaultClassName:d}):In(d,la(s))}return k.useEffect(()=>{t&&(t.current=r.current)},[]),B.createElement("div",{ref:r,className:"Toastify",id:l},n((c,d)=>{const h=d.length?{...o}:{...o,pointerEvents:"none"};return B.createElement("div",{className:u(c),style:h,key:`container-${c}`},d.map((f,v)=>{let{content:m,props:w}=f;return B.createElement(Xk,{...w,isIn:i(w.toastId),style:{...w.style,"--nth":v+1,"--len":d.length},key:`toast-${w.key}`},m)}))}))});ed.displayName="ToastContainer",ed.defaultProps={position:"top-right",transition:Zk,autoClose:5e3,closeButton:Cv,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Rp,bu=new Map,Lp=[];ur.on(2,e=>{Rp=e.containerId||e,bu.set(Rp,e),Lp.forEach(t=>{ur.emit(0,t.content,t.options)}),Lp=[]}).on(3,e=>{bu.delete(e.containerId||e),bu.size===0&&ur.off(0).off(1).off(5)});function eS(){const{user:e,loading:t}=eo(),[n,r]=k.useState(!1),[i,s]=k.useState("home"),[o,a]=k.useState(null),[l,u]=k.useState(!1),[c,d]=k.useState(null),{groups:h,fetchGroups:f}=eh();wl();const v=Wk(o),{items:m,adicionarItem:w,toggleItem:p,atualizarQuantidade:g,atualizarValor:y,excluirItem:x,limparTudo:b,calcularTotal:S,agruparItens:C}=v,[j,E]=k.useState(null);k.useEffect(()=>{localStorage.getItem("theme")==="dark"&&r(!0)},[]),k.useEffect(()=>{n?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[n]);const P=async()=>[];async function N(){await f()}const $=c?Object.fromEntries([[c,C()[c]]]):C();if(t)return _.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-gray-900 flex items-center justify-center",children:_.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Carregando..."})});if(!e)return _.jsx(qk,{onAuthSuccess:()=>{}});return _.jsx("div",{className:n?"dark":"",children:_.jsxs("div",{className:"min-h-screen bg-slate-100 dark:bg-gray-900 pb-20",children:[_.jsx(Hk,{onSync:N,fetchLists:P}),_.jsx("div",{className:"pt-14",children:i==="home"?_.jsx(Mk,{onBack:()=>s("list"),onSelectList:M,onNavigateToManagement:()=>s("management"),showCreateModal:l,setShowCreateModal:u}):i==="management"?_.jsx(t2,{onNavigateToHome:I}):_.jsx(_.Fragment,{children:_.jsxs("div",{className:"container mx-auto max-w-2xl px-4 py-6",children:[_.jsx(e2,{total:S(),className:"mb-6"}),_.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 mb-6",children:_.jsx(Jx,{onAdd:w})}),_.jsx(Kk,{groups:Object.keys(C()),selectedGroup:c,onSelectGroup:d}),_.jsx("div",{className:"space-y-4",children:Object.entries($).map(([J,Q])=>_.jsx(Zx,{grupo:J,items:Q,onToggleComplete:p,onQuantidadeChange:g,onValorChange:y,onDelete:E,onAdd:w},J))})]})})}),_.jsx(bm,{onNavigateToHome:I,onNavigateToManagement:()=>s("management"),onCreateList:()=>u(!0)}),j!==null&&_.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-25 flex items-end justify-center",onClick:()=>E(null),children:_.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-t-xl shadow-lg",onClick:J=>J.stopPropagation(),children:[_.jsx("button",{onClick:()=>{x(j),E(null)},className:"w-full p-4 text-red-600 dark:text-red-400 text-center font-medium hover:bg-red-50 dark:hover:bg-red-900/20",children:"Excluir Item"}),_.jsx("button",{onClick:()=>E(null),className:"w-full p-4 text-gray-500 dark:text-gray-400 text-center border-t dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:"Cancelar"})]})}),_.jsx(ed,{position:"bottom-center"})]})});function M(J){a(J),s("list")}function I(){s("home"),a(null)}}function tS(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=e;let a,l;const u=async(d=!0)=>{await l};async function c(){if("serviceWorker"in navigator){if(a=await _r(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:d}},[]).then(({Workbox:d})=>new d("/sw.js",{scope:"/",type:"classic"})).catch(d=>{o==null||o(d)}),!a)return;a.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),a.addEventListener("installed",d=>{d.isUpdate||r==null||r()}),a.register({immediate:t}).then(d=>{s?s("/sw.js",d):i==null||i(d)}).catch(d=>{o==null||o(d)})}}return l=c(),u}kv.open().catch(e=>{console.error("Failed to open offline database:",e)});const nS=tS({onNeedRefresh(){confirm("Nova verso disponvel. Atualizar agora?")&&nS()},onOfflineReady(){console.log("App pronto para uso offline")}});ku.createRoot(document.getElementById("root")).render(_.jsx(B.StrictMode,{children:_.jsx(Ax,{children:_.jsx(eS,{})})}));export{Dv as g};
